(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[2],{368:function(t,e,n){"use strict";n.r(e);var o=n(382),r=n(502),i=n(411),a=n(387),s=n(383),l=n(412),u=function(){function t(t,e,n,o,r){this.centerX=t||0,this.centerY=e||0,this.width=n||0===n?n:2,this.height=o||0===o?o:2,this.angle=r||0}return t.prototype.clone=function(){return new t(this.centerX,this.centerY,this.width,this.height,this.angle)},Object.defineProperty(t.prototype,"bounds",{get:function(){for(var t=new a.a(this.centerX,this.centerY),e=this.width,n=this.height,o=[new a.a(-e/2,-n/2),new a.a(-e/2,n/2),new a.a(e/2,-n/2),new a.a(e/2,n/2)],r=0,i=0,l=0,u=0,c=0;c<4;c++)o[c].rotate(this.angle),(o[c].x<r||0===c)&&(r=o[c].x),(o[c].y<i||0===c)&&(i=o[c].y),(o[c].x>l||0===c)&&(l=o[c].x),(o[c].y>u||0===c)&&(u=o[c].y);return new s.a(r+t.x,i+t.y,l-r,u-i)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t,e){return null!=t&&Object(o.e)(this.centerX,t.centerX,e)&&Object(o.e)(this.centerY,t.centerY,e)&&Object(o.e)(this.width,t.width,e)&&Object(o.e)(this.height,t.height,e)&&Object(o.e)(this.angle,t.angle,e)},t.prototype.getUpperLeftCorner=function(){var t=new a.a(-this.width/2,-this.height/2);return t=(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getUpperRightCorner=function(){var t=new a.a(this.width/2,-this.height/2);return t=(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getBottomRightCorner=function(){var t=new a.a(this.width/2,this.height/2);return t=(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getBottomLeftCorner=function(){var t=new a.a(-this.width/2,this.height/2);return t=(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype._checkProjectionIntersection=function(t,e){var n=this._getProjections(t),o=this._getProjections(e);return n.left<=o.right&&n.right>=o.left&&n.top<=o.bottom&&n.bottom>=o.top},t.prototype._getProjections=function(t){var e,n,o,r;e=n=t[0].x,o=r=t[0].y;for(var i=1;i<t.length;i++)e=Math.min(e,t[i].x),n=Math.max(n,t[i].x),o=Math.min(o,t[i].y),r=Math.max(r,t[i].y);return{left:e,right:n,top:o,bottom:r}},t.prototype.intersectsWith=function(t){var e=this.clone(),n=t.clone();if(!Object(o.e)(this.angle,0)){var r=e.angle;e.angle=0,(u=n.center).rotateAt(-r,e.center),n.center=u,n.angle-=r}var i=[e.getUpperLeftCorner(),e.getUpperRightCorner(),e.getBottomRightCorner(),e.getBottomLeftCorner()],a=[n.getUpperLeftCorner(),n.getUpperRightCorner(),n.getBottomRightCorner(),n.getBottomLeftCorner()],s=this._checkProjectionIntersection(i,a),l=!0;if(s&&!Object(o.e)(this.angle,t.angle)){e=this.clone();var u;r=(n=t.clone()).angle;n.angle=0,(u=e.center).rotateAt(-r,n.center),e.center=u,e.angle-=r,i=[e.getUpperLeftCorner(),e.getUpperRightCorner(),e.getBottomRightCorner(),e.getBottomLeftCorner()],a=[n.getUpperLeftCorner(),n.getUpperRightCorner(),n.getBottomRightCorner(),n.getBottomLeftCorner()],l=this._checkProjectionIntersection(i,a)}return s&&l},Object.defineProperty(t.prototype,"location",{get:function(){return this.getUpperLeftCorner()},set:function(t){var e=this.getUpperLeftCorner();this.centerX=this.centerX+(t.x-e.x),this.centerY=this.centerY+(t.y-e.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new a.a(this.centerX,this.centerY)},set:function(t){this.centerX=t.x,this.centerY=t.y},enumerable:!0,configurable:!0}),t.prototype.rotateAt=function(t,e){var n=this.center;n.rotateAt(t,e),this.center=n,this.angle+=t},t.prototype.translate=function(t,e){this.centerX+=t,this.centerY+=e},t.prototype.setTransform=function(t){null==t||t.isEqual(new l.a)||(this.width*=t.scaleX,this.height*=t.scaleY,this.angle+=t.angle,this.centerX+=t.translateX,this.centerY+=t.translateY)},t.prototype.getTransform=function(t){if(null==t||this.isEqual(t))return new l.a;var e=0===t.width?0:this.width/t.width,n=0===t.height?0:this.height/t.height,o=this.angle-t.angle,r=t.center,i=this.centerX-r.x,a=this.centerY-r.y;return new l.a(e,n,i,a,o)},t.prototype.transform=function(t,e){this.rotateAt(t.angle,e),t.setAngle(0),this.setTransform(t)},t.prototype.toString=function(){return[this.centerX,this.centerY,this.width,this.height,this.angle].join(",")},t.prototype.toRectangleF=function(){return new s.a(this.centerX-this.width/2,this.centerY-this.height/2,this.width,this.height)},t.prototype.contains=function(t){var e=this.clone();e.angle=0;var n=t.clone();return n.rotateAt(-this.angle,this.center),e.bounds.contains(n)},t.prototype.getCornerByIndex=function(t){switch(t){case 0:return this.getUpperLeftCorner();case 1:return this.getUpperRightCorner();case 2:return this.getBottomRightCorner();case 3:return this.getBottomLeftCorner();default:return null}},t.union=function(e,n){var o=e.clone(),r=n.clone(),i=o.angle,l=o.center;o.angle=0,r.rotateAt(-i,l);var u=s.a.union(o.bounds,r.bounds),c=new a.a(u.left+u.width/2,u.top+u.height/2),h=new t;h.center=c;var p=-1===Math.sign(e.width)||-1===Math.sign(e.width)?-1:1,f=-1===Math.sign(e.height)||-1===Math.sign(n.height)?-1:1;return h.width=u.width*p,h.height=u.height*f,h.rotateAt(i,l),h},t.fromRectangleF=function(e,n){return new t(e.left+e.width/2,e.top+e.height/2,e.width,e.height,"number"==typeof n?n:0)},t.FromLTRB=function(e,n,o,r){return t.fromRectangleF(s.a.FromLTRB(e,n,o,r))},t}(),c=function(){function t(t,e){this.width=0,this.height=0,this.width=t,this.height=e}return t.prototype.clone=function(){return new t(this.width,this.height)},t.prototype.toString=function(){return[this.width,this.height].join(",")},t}();n.d(e,"getOrientedSquare",function(){return o.h}),n.d(e,"getBounds",function(){return o.f}),n.d(e,"getTriangleAngle",function(){return o.l}),n.d(e,"normalizeAngle",function(){return o.m}),n.d(e,"getScalarProduct",function(){return o.i}),n.d(e,"getSquareDistanceToSegment",function(){return o.k}),n.d(e,"getSquareDistanceToPoint",function(){return o.j}),n.d(e,"getLineWidth",function(){return o.g}),n.d(e,"ConvertDegreeToRadian",function(){return o.c}),n.d(e,"ConvertRadianToDegree",function(){return o.d}),n.d(e,"Clamp",function(){return o.a}),n.d(e,"EqualsOfFloatNumbers",function(){return o.e}),n.d(e,"CompareRectangels",function(){return o.b}),n.d(e,"Matrix",function(){return r.a}),n.d(e,"PathSegment",function(){return i.b}),n.d(e,"Path",function(){return i.a}),n.d(e,"PointF",function(){return a.a}),n.d(e,"RectangleF",function(){return s.a}),n.d(e,"RotatedRectangleF",function(){return u}),n.d(e,"SizeF",function(){return c})},370:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u});var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},s=function(){function t(){this._listeners=[]}return t.prototype.add=function(t){this._listeners.push(t)},t.prototype.remove=function(t){this._listeners=this._listeners.filter(function(e){return e!==t})},t.prototype.listenersCount=function(){return this._listeners.length},t.prototype.notify=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var i=r(this._listeners),s=i.next();!s.done;s=i.next()){s.value.apply(void 0,a(n))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e){t.prototype.notify.call(this,e)},e.prototype.fire=function(t){this.notify(t)},e}(s),u=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e,n){t.prototype.notify.call(this,e,n)},e}(s)},375:function(t,e,n){"use strict";n.r(e);var o=n(402);n.d(e,"Color",function(){return o.a});var r=n(449);n.d(e,"RgbColor",function(){return r.a});var i=n(543);n.d(e,"CmykColor",function(){return i.a});var a=n(503);n.d(e,"GrayscaleColor",function(){return a.a});var s=n(504);n.d(e,"LabColor",function(){return s.a});var l=n(450);n.d(e,"ColorFactory",function(){return l.a});var u=n(505);n.d(e,"SpotColor",function(){return u.a});var c=n(431);n.d(e,"Utils",function(){return c.a})},378:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(368),r=function(){function t(){}return t.drawLine=function(e,n,o,r,i,a,s,l){void 0===l&&(l=1),!t.isFullTransparentColor(s)&&a>0&&(null==l||l>0)&&(e.save(),l&&(e.globalAlpha=e.globalAlpha*l),e.lineWidth=a,e.strokeStyle=s,e.beginPath(),e.moveTo(n,o),e.lineTo(r,i),e.closePath(),e.stroke(),e.restore())},t.drawDashedLine=function(e,n,o,r,i,a,s,l,u,c,h){if(void 0===h&&(h=1),a>0&&u>0&&c>0&&(null==h||h>0)){if(e.save(),h&&(e.globalAlpha=e.globalAlpha*h),e.lineWidth=a,r<n){var p=n;n=r,r=p,p=o,o=i,i=p}var f,d=r-n,g=i-o,y=u+c,m=Math.sqrt(d*d+g*g),_=Math.floor(m/y),b=(d/=m/y)*(u/y),v=d*(c/y),C=(g/=m/y)*(u/y),w=g*(c/y),P=n,O=o;if(!t.isFullTransparentColor(s)){for(e.strokeStyle=s,e.beginPath(),e.moveTo(P,O),f=0;f<_;f++)P+=b,O+=C,e.lineTo(P,O),P+=v,O+=w,f+1<_&&e.moveTo(P,O);P+b<=r&&O+C<=i?(e.moveTo(P,O),e.lineTo(P+b,O+C)):(e.moveTo(P,O),e.lineTo(r,i)),e.closePath(),e.stroke()}if(P=n+b,O=o+C,!t.isFullTransparentColor(l)){for(e.strokeStyle=l,e.beginPath(),e.moveTo(P,O),f=0;f<_;f++)P+=v,O+=w,e.lineTo(P,O),P+=b,O+=C,f+1<_&&e.moveTo(P,O);P<r&&O<i&&(e.moveTo(P,O),e.lineTo(r,i)),e.closePath(),e.stroke()}e.restore()}},t.drawPolyline=function(e,n,o,r,i){if(!t.isFullTransparentColor(r)&&o>0&&(null==i||i>0)&&n&&n.length>1){e.save(),i&&(e.globalAlpha=e.globalAlpha*i),e.lineWidth=o,e.strokeStyle=r,e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var a=1,s=n.length;a<s;++a){var l=n[a];e.lineTo(l.x,l.y)}e.stroke(),e.restore()}},t.drawPath=function(e,n,o,r,i,a,s){t.path(e,n,o,r,null,i,a,s,[])},t.fillPath=function(e,n,o,r,i,a){t.path(e,n,o,r,i,0,null,a,[])},t.path=function(e,n,r,i,a,s,l,u,c){var h=null!=l&&!t.isFullTransparentColor(l)&&s>0,p=null!=a&&!t.isFullTransparentColor(a);if((h||p)&&(null==u||u>0)){e.save(),u&&(e.globalAlpha=e.globalAlpha*u);var f=i.toMatrix();if(e.translate(r.x,r.y),e.transform(f.m00,f.m10,f.m01,f.m11,f.m02,f.m12),e.translate(-r.x,-r.y),n.draw(e),p&&(e.fillStyle=a,e.fill()),h){if(Object(o.EqualsOfFloatNumbers)(i.scaleX,i.scaleY)){if(s/=i.scaleX,c&&c.length>0)for(var d=0;d<c.length;d++)c[d]/=i.scaleX}else{e.restore(),e.save(),u&&(e.globalAlpha=u);var g=n.clone();g.transform(i,r),g.draw(e)}e.lineWidth=s,e.strokeStyle=l,e.setLineDash(c),e.stroke()}e.restore()}},t.clipPath=function(t,e){e.draw(t),t.clip()},t.drawImage=function(e,n,r,i,a,s,l,u,c){if(void 0===s&&(s=!1),void 0===l&&(l=null),void 0===u&&(u=1),void 0===c&&(c=null),null==u||u>0){e.save(),u&&(e.globalAlpha=e.globalAlpha*u),e.translate(r.centerX,r.centerY),e.rotate(Object(o.ConvertDegreeToRadian)(r.angle));var h=null!=c?c.width:n.naturalWidth||e.canvas.width,p=null!=c?c.height:n.naturalHeight||e.canvas.height,f=void 0!=i&&0!==i&&void 0!=a&&0!==a&&Math.abs(h-r.width*i)<1&&Math.abs(p-r.height*a)<1;s||(s=(e.imageSmoothingEnabled||!0===e.msImageSmoothingEnabled)&&Math.abs(r.angle)%90<.01&&f),s&&(e.imageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1);try{f?(e.scale(1/i,1/a),null!=c?e.drawImage(n,c.left,c.top,c.width,c.height,-r.width*i/2,-r.height*a/2,h,p):e.drawImage(n,-r.width*i/2,-r.height*a/2,h,p),e.scale(i,a)):null!=c?e.drawImage(n,c.left,c.top,c.width,c.height,-r.width/2,-r.height/2,r.width,r.height):e.drawImage(n,-r.width/2,-r.height/2,r.width,r.height),l&&!t.isFullTransparentColor(l)&&(e.fillStyle=l,e.fillRect(-r.width/2,-r.height/2,r.width,r.height))}catch(t){}s&&(e.imageSmoothingEnabled=!0,e.msImageSmoothingEnabled=!0),e.restore()}},t.drawText=function(t,e,n,r,i){if(!Object(o.EqualsOfFloatNumbers)(0,n)){t.save(),t.globalAlpha=n,t.translate(i.x,i.y),t.transform(r.m00,r.m10,r.m01,r.m11,r.m02,r.m12),t.translate(-i.x,-i.y);try{e.draw(t)}finally{t.restore()}}},t.drawRectangle=function(e,n,o,r,i){t.rectangle(e,n,o,r,null,i)},t.fillRectangle=function(e,n,o,r){t.rectangle(e,n,0,null,o,r)},t.rectangle=function(e,n,r,i,a,s){void 0===a&&(a=null),void 0===s&&(s=1);var l=i&&!t.isFullTransparentColor(i)&&r>0,u=a&&!t.isFullTransparentColor(a);(l||u)&&(null==s||s>0)&&(e.save(),s&&(e.globalAlpha=e.globalAlpha*s),e.translate(n.centerX,n.centerY),e.rotate(Object(o.ConvertDegreeToRadian)(n.angle)),u&&(e.fillStyle=a,e.fillRect(-n.width/2,-n.height/2,n.width,n.height)),l&&(e.lineWidth=r,e.strokeStyle=i,e.strokeRect(-n.width/2,-n.height/2,n.width,n.height)),e.restore())},t.isFullTransparentColor=function(t){if(!t)return!1;var e=t.A||t.a;if(0===e)return!0;if("string"==typeof t){if(e=/^\s*rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\,\s*(\d{1,}(\.\d{1,})?)\s*\)\s*;{0,1}\s*$/i.exec(t))return 0===(e=parseFloat(e[1]))}return!1},t.clearCanvas=function(t,e){void 0===e&&(e=!1),e&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.clearRect(0,0,t.canvas.width,t.canvas.height),e&&t.restore()},t}()},380:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(370),r=n(495),i=n(496),a=(n(867),n(371)),s=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t};!function(t){var e=t.from;t.from=function(t){return t instanceof c?t:e(t)}}(i);var c=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._collection=[],this._itemAddedEvent=new o.a,this._itemRemovedEvent=new o.a,this._itemMovedEvent=new o.a,this._enumerable=i.from(this._collection),0!==t.length&&this.setRange(t)}return t.prototype.setRange=function(t){this.clear(),this.addRange(t)},t.prototype.addRange=function(e){e instanceof t&&(e=e._collection),function(t){return"getEnumerator"in t&&"toArray"in t}(e)&&(e=e.toArray());for(var n=0;n<e.length;n++)this.add(e[n])},t.prototype.add=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var r=s(n),i=r.next();!i.done;i=r.next()){var a=i.value;this.insertAt(this._collection.length,a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.push=function(t){return this.add(t),this.length},t.prototype.insertAt=function(t,e){var n,o,r;Array.isArray(e)||(e=[e]);try{for(var i=s(e),l=i.next();!l.done;l=i.next()){var c=l.value;this._checkIfItemExists(c)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}if(t<0||t>this._collection.length)throw new a.g;(r=this._collection).splice.apply(r,u([t,0],e));for(var h=0;h<e.length;h++){c=e[h];this._onItemAdded(this._collection.indexOf(c),c)}},t.prototype.remove=function(t){if(!this.contains(t))throw new a.b(r.c);return this.removeAt(this.indexOf(t))},t.prototype.removeAt=function(t){if(t<0||t>this._collection.length-1)throw new a.g;var e=this._collection[t];return this._collection.splice(t,1),this._onItemRemoved(t,e),e},t.prototype.removeRange=function(t,e){for(var n=this._collection.slice(),o=this._collection.splice(t,e-t+1),r=0;r<o.length;r++){var i=o[r];this._onItemRemoved(n.indexOf(i),i)}return o},t.prototype.move=function(t,e,n){"boolean"!=typeof n&&(n=!1);var o=this._collection[t];return o&&t>=0&&e>=0&&t!=e&&(this._collection.splice(t,1),this._collection.splice(e,0,o),n||this._onItemMoved(t,e)),o},t.prototype.clear=function(){for(var t=this.get_count()-1;t>=0;t--)this.removeAt(t)},t.prototype.get_count=function(){return this.length},Object.defineProperty(t.prototype,"length",{get:function(){return this._collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this.get_item(t)},t.prototype.set=function(t,e){throw new a.f},t.prototype.get_item=function(t){return this._collection[t]},t.prototype._checkIfItemExists=function(t){if(this.contains(t))throw new a.b(r.b)},t.prototype._onItemAdded=function(t,e){this._itemAddedEvent.notify({item:e,index:t})},t.prototype.add_itemAdded=function(t){this._itemAddedEvent.add(t)},t.prototype.remove_itemAdded=function(t){this._itemAddedEvent.remove(t)},t.prototype._onItemRemoved=function(t,e){this._itemRemovedEvent.notify({item:e,index:t})},t.prototype.add_itemRemoved=function(t){this._itemRemovedEvent.add(t)},t.prototype.remove_itemRemoved=function(t){this._itemRemovedEvent.remove(t)},t.prototype._onItemMoved=function(t,e){this._itemMovedEvent.notify({oldIndex:t,newIndex:e})},t.prototype.add_itemMoved=function(t){this._itemMovedEvent.add(t)},t.prototype.remove_itemMoved=function(t){this._itemMovedEvent.remove(t)},t.prototype.add_collectionChanged=function(t){this.add_itemMoved(t),this.add_itemRemoved(t),this.add_itemAdded(t)},t.prototype.remove_collectionChanged=function(t){this.remove_itemMoved(t),this.remove_itemRemoved(t),this.remove_itemAdded(t)},t.prototype[Symbol.iterator]=function(){return this._collection.values()},t.prototype.toArray=function(){return this._collection.slice()},t.prototype.constructor=function(t){throw new a.f},t.prototype.getEnumerator=function(){return this._enumerable.getEnumerator()},t.prototype.traverseBreadthFirst=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).traverseBreadthFirst.apply(t,u(e))},t.prototype.traverseDepthFirst=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).traverseDepthFirst.apply(t,u(e))},t.prototype.flatten=function(){return this._enumerable.flatten()},t.prototype.pairwise=function(t){return this._enumerable.pairwise(t)},t.prototype.scan=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).scan.apply(t,u(e))},t.prototype.select=function(t){return this._enumerable.select(t)},t.prototype.selectMany=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).selectMany.apply(t,u(e))},t.prototype.where=function(t){return this._enumerable.where(t)},t.prototype.choose=function(t){return this._enumerable.choose(t)},t.prototype.ofType=function(t){return this._enumerable.ofType(t)},t.prototype.zip=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).zip.apply(t,u(e))},t.prototype.merge=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).merge.apply(t,u(e))},t.prototype.join=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).join.apply(t,u(e))},t.prototype.groupJoin=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).groupJoin.apply(t,u(e))},t.prototype.all=function(t){return this._enumerable.all(t)},t.prototype.any=function(t){return this._enumerable.any(t)},t.prototype.isEmpty=function(){return this._enumerable.isEmpty()},t.prototype.concat=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).concat.apply(t,u(e))},t.prototype.alternate=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).alternate.apply(t,u(e))},t.prototype.defaultIfEmpty=function(t){return this._enumerable.defaultIfEmpty(t)},t.prototype.distinct=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).distinct.apply(t,u(e))},t.prototype.distinctUntilChanged=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).distinctUntilChanged.apply(t,u(e))},t.prototype.except=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).except.apply(t,u(e))},t.prototype.intersect=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).intersect.apply(t,u(e))},t.prototype.union=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).union.apply(t,u(e))},t.prototype.sequenceEqual=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).sequenceEqual.apply(t,u(e))},t.prototype.orderBy=function(t){return this._enumerable.orderBy(t)},t.prototype.orderByDescending=function(t){return this._enumerable.orderByDescending(t)},t.prototype.reverse=function(){return this._enumerable.reverse()},t.prototype.shuffle=function(){return this._enumerable.shuffle()},t.prototype.weightedSample=function(t){return this._enumerable.weightedSample(t)},t.prototype.groupBy=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).groupBy.apply(t,u(e))},t.prototype.partitionBy=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).partitionBy.apply(t,u(e))},t.prototype.buffer=function(t){return this._enumerable.buffer(t)},t.prototype.aggregate=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).aggregate.apply(t,u(e))},t.prototype.average=function(t){return this._enumerable.average(t)},t.prototype.count=function(t){return this._enumerable.count(t)},t.prototype.max=function(t){return this._enumerable.max(t)},t.prototype.min=function(t){return this._enumerable.min(t)},t.prototype.maxBy=function(t){return this._enumerable.maxBy(t)},t.prototype.minBy=function(t){return this._enumerable.minBy(t)},t.prototype.sum=function(t){return this._enumerable.sum(t)},t.prototype.elementAt=function(t){return this._enumerable.elementAt(t)},t.prototype.elementAtOrDefault=function(t,e){return this._enumerable.elementAtOrDefault(t,e)},t.prototype.first=function(t){return this._enumerable.first(t)},t.prototype.firstOrDefault=function(t,e){return this._enumerable.firstOrDefault(t,e)},t.prototype.last=function(t){return this._enumerable.last(t)},t.prototype.lastOrDefault=function(t,e){return this._enumerable.lastOrDefault(t,e)},t.prototype.single=function(t){return this._enumerable.single(t)},t.prototype.singleOrDefault=function(t,e){return this._enumerable.singleOrDefault(t,e)},t.prototype.skip=function(t){return this._enumerable.skip(t)},t.prototype.skipWhile=function(t){return this._enumerable.skipWhile(t)},t.prototype.take=function(t){return this._enumerable.take(t)},t.prototype.takeWhile=function(t){return this._enumerable.takeWhile(t)},t.prototype.takeExceptLast=function(t){return this._enumerable.takeExceptLast(t)},t.prototype.takeFromLast=function(t){return this._enumerable.takeFromLast(t)},t.prototype.indexOf=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).indexOf.apply(t,u(e))},t.prototype.lastIndexOf=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).lastIndexOf.apply(t,u(e))},t.prototype.asEnumerable=function(){return this._enumerable},t.prototype.cast=function(){return this._enumerable.cast()},t.prototype.toLookup=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toLookup.apply(t,u(e))},t.prototype.toObject=function(t,e){return this._enumerable.toObject(t,e)},t.prototype.toDictionary=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toDictionary.apply(t,u(e))},t.prototype.toJSONString=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toJSONString.apply(t,u(e))},t.prototype.toJoinedString=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toJoinedString.apply(t,u(e))},t.prototype.doAction=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).doAction.apply(t,u(e))},t.prototype.forEach=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).forEach.apply(t,u(e))},t.prototype.write=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).write.apply(t,u(e))},t.prototype.writeLine=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).writeLine.apply(t,u(e))},t.prototype.force=function(){return this._enumerable.force()},t.prototype.letBind=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).letBind.apply(t,u(e))},t.prototype.share=function(){return this._enumerable.share()},t.prototype.memoize=function(){return this._enumerable.memoize()},t.prototype.catchError=function(t){return this._enumerable.catchError(t)},t.prototype.finallyAction=function(t){return this._enumerable.finallyAction(t)},t.prototype.log=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).log.apply(t,u(e))},t.prototype.trace=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).trace.apply(t,u(e))},t.prototype.insert=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).insert.apply(t,u(e))},t.prototype.contains=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).contains.apply(t,u(e))},t}()},382:function(t,e,n){"use strict";n.d(e,"h",function(){return i}),n.d(e,"f",function(){return a}),n.d(e,"l",function(){return s}),n.d(e,"m",function(){return l}),n.d(e,"i",function(){return u}),n.d(e,"k",function(){return c}),n.d(e,"j",function(){return h}),n.d(e,"g",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d}),n.d(e,"a",function(){return g}),n.d(e,"e",function(){return y}),n.d(e,"b",function(){return m});var o=n(383),r=n(387),i=function(t,e,n){return t.x*e.y+t.y*n.x+e.x*n.y-(n.x*e.y+e.x*t.y+n.y*t.x)},a=function(t){if(0==t.length)return new o.a(0,0,0,0);for(var e=t[0],n=e.x,r=e.x,i=e.y,a=e.y,s=1,l=t.length;s<l;++s)e=t[s],n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),a=Math.max(a,e.y);return new o.a(n,i,r-n,a-i)},s=function(t,e,n){var o=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2),r=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2),a=Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2),s=0;a*r!=0&&(s=g(-1,(-o+a+r)/(2*Math.sqrt(a)*Math.sqrt(r)),1));var l=i(t,e,n),u=Math.acos(s);return l>0&&(u=-u),d(u)},l=function(t){return(t%=360)<0&&(t+=360),t},u=function(t,e){return t.x*e.x+t.y*e.y},c=function(t,e,n){var o=new r.a(n.x-e.x,n.y-e.y),i=new r.a(t.x-e.x,t.y-e.y),a=u(i,o);if(a<=0)return h(t,e);var s=u(o,o);if(s<a)return h(t,n);var l=a/s,c=new r.a(e.x+o.x*l,e.y+o.y*l);return h(t,c)},h=function(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},p=function(t,e,n,o,r){function i(t,e,n,o){var r=Math.pow(e-o,2),i=Math.pow(t-n,2);return Math.sqrt(r*i/(i+r))}if(t.x==e.x)return n*o;if(t.y==e.y)return n*r;var a=i(t.x,t.y,e.x,e.y);return n*i(t.x*o,t.y*r,e.x*o,e.y*r)/a},f=function(t){return Math.PI*t/180},d=function(t){return 180*t/Math.PI},g=function(t,e,n){return Math.max(t,Math.min(n,e))},y=function(t,e,n){return"number"==typeof t&&"number"==typeof e&&("number"!=typeof n&&(n=1e-4),0!=n?Math.abs(t-e)<=n:t==e)},m=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){for(var o=t[n],r=!1,i=0;i<e.length;i++)if(o.isEqual(e[i])){r=!0;break}if(!r)return!1}return!0}},383:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(387),r=n(382),i=n(716),a=function(){function t(t,e,n,o){this._left="number"==typeof t?t:0,this._top="number"==typeof e?e:0,this._width="number"==typeof n?n:2,this._height="number"==typeof o?o:2,this._id=Math.random().toString()}return t.prototype.toJSON=function(){return{left:this.left,top:this.top,width:this.width,height:this.height,id:this._id}},Object.defineProperty(t.prototype,"left",{get:function(){return this._left},set:function(e){Object(r.e)(e,this._left,t._tolerance)||(this._left=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._top},set:function(e){Object(r.e)(e,this._top,t._tolerance)||(Object(i.a)({class:"RectangleF",method:"set top",id:this._id,"old value":this._top,"new value":e},!0),this._top=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){Object(r.e)(e,this._width,t._tolerance)||(this._width=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){Object(r.e)(e,this._height,t._tolerance)||(this._height=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.FromLTRB=function(e,n,o,r){return new t(e,n,o-e,r-n)},t.FromObject=function(e){return new t(e.left,e.top,e.width,e.height)},t.intersect=function(e,n){var o=Math.max(e.left,n.left),r=Math.min(e.right,n.right),i=Math.max(e.top,n.top),a=Math.min(e.bottom,n.bottom);return r>=o&&a>=i?new t(o,i,r-o,a-i):t.empty},t.union=function(e,n){var o=Math.min(e.left,n.left),r=Math.max(e.left+e.width,n.left+n.width),i=Math.min(e.top,n.top);return new t(o,i,r-o,Math.max(e.top+e.height,n.top+n.height)-i)},Object.defineProperty(t,"empty",{get:function(){return new t(0,0,-1,-1)},enumerable:!0,configurable:!0}),t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&(Object(r.e)(t.left,e.left,n)&&Object(r.e)(t.top,e.top,n)&&Object(r.e)(t.width,e.width,n)&&Object(r.e)(t.height,e.height,n))},t.prototype.contains=function(t,e,n){if(null==e&&(e=!1),e){"number"!=typeof n&&(n=1e-4);var o=this.left,i=this.top,a=this.left+this.width,s=this.top+this.height;return(t.x>o||Object(r.e)(t.x,o,n))&&(t.y>i||Object(r.e)(t.y,i,n))&&(t.x<a||Object(r.e)(t.x,a,n))&&(t.y<s||Object(r.e)(t.y,s,n))}return t.x>this.left&&t.y>this.top&&t.x<this.left+this.width&&t.y<this.top+this.height},t.prototype.containsRectangle=function(t){var e=new o.a(t.left,t.top),n=new o.a(t.right,t.bottom);return this.contains(e,!0)&&this.contains(n,!0)},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.inflate=function(t){this.left-=t,this.top-=t,this.width+=2*t,this.height+=2*t},t.prototype.intersectsWith=function(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom},t.prototype.getCenter=function(){return new o.a(this.left+this.width/2,this.top+this.height/2)},t.prototype.toString=function(){return[this.left,this.top,this.width,this.height].join(",")},t.fromString=function(e){var n=e.replace(", ",",").split(",");return new t(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]))},Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new o.a(this.left+this.width/2,this.top+this.height/2)},enumerable:!0,configurable:!0}),t._tolerance=1e-6,t}()},387:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(382),r=function(){function t(t,e){this.x=0,this.y=0,this.x=t||0,this.y=e||0}return t.prototype.rotate=function(e){return this.rotateAt(e,new t(0,0))},t.prototype.rotateAt=function(e,n){n||(n=new t(0,0));var r=Object(o.c)(e),i=Math.cos(r)*(this.x-n.x)-Math.sin(r)*(this.y-n.y)+n.x,a=Math.sin(r)*(this.x-n.x)+Math.cos(r)*(this.y-n.y)+n.y;return this.x=i,this.y=a,this},t.prototype.translate=function(t,e){return this.x=this.x+t,this.y=this.y+e,this},t.prototype.scale=function(t,e){return this.x=this.x*t,this.y=this.y*e,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.isEqual=function(t,e){return null!=t&&Object(o.e)(this.x,t.x,e)&&Object(o.e)(this.y,t.y,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&t.isEqual(e)},t.prototype.distance=function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},t.prototype.transform=function(e,n){return null==n&&(n=new t),this.translate(-n.x,-n.y),this.scale(e.scaleX,e.scaleY),this.rotate(e.angle),this.translate(e.translateX,e.translateY),this.translate(n.x,n.y),this},t.prototype.toString=function(){return[this.x,this.y].join(",")},t.prototype.toIPoint=function(){return{x:this.x,y:this.y}},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t}()},389:function(t,e,n){"use strict";n.r(e);var o=n(448),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n}return r(e,t),e.prototype._copy=function(e,n,o,r){return t.prototype._copy.call(this,e,n,o,r),n.sourceDpi=e.sourceDpi,n.smartObjectDpi=e.smartObjectDpi,n.smartObjectRectangle=e.smartObjectRectangle,n.smartObjectSize=e.smartObjectSize,n.smartObjectStorageId=e.smartObjectStorageId,null!=e.warpControlPoints&&(n.warpControlPoints=e.warpControlPoints.map(function(t){return t})),null!=e.projectiveTransform&&(n.projectiveTransform=e.projectiveTransform.map(function(t){return t})),null!=e.vectorMask&&(n.vectorMask=e.vectorMask.map(function(t){return t})),n},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="SmartItem",e}(o.a),a=n(401),s=n(410),l=n(459),u=n(394),c=n(451),h=n(454),p=n(462),f=n(510),d=n(463),g=n(455),y=n(511),m=n(457),_=n(512),b=n(514),v=n(501),C=n(432),w=n(515),P=n(460),O=n(391),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},I=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(x(arguments[e]));return t},T=function(t){function e(e,n,o,r,i){var a=t.call(this)||this;return a.id=e,a._name=n,a._mask=o,a._value=r,a._values=i,a}return S(e,t),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){t!=this._mask&&(this._mask=t,this._propertyChanged.notify(this,"mask"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!=this._value&&(this._value=t,this._propertyChanged.notify(this,"value"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){t!=this._values&&(this._values=t,this._propertyChanged.notify(this,"values"))},enumerable:!0,configurable:!0}),e.prototype.generateNewIds=function(){this._generateNewId()},e.prototype._copy=function(e,n,o){return t.prototype._copy.call(this,e,n,!1),n.mask=e.mask,n.value=e.value,n.values=I(e.values),n},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(O.a),B=function(){return function(){}}(),R=function(){return function(){}}(),E=function(){return function(){}}(),j=function(){return function(){}}(),k=n(499),F=n(500),A=n(464),M=n(513),z=n(497),L=n(465),D=n(421),N=n(516),W=n(517),V=n(458),q=n(518),U=n(456),H=n(519),G=n(429),X=n(392),Y=n(507),J=n(420),$=n(508),K=n(506),Q=n(498);n.d(e,"BaseItem",function(){return o.a}),n.d(e,"SmartItem",function(){return i}),n.d(e,"Item",function(){return a.a}),n.d(e,"ShapeItem",function(){return s.a}),n.d(e,"ContentItem",function(){return l.a}),n.d(e,"BaseTextItem",function(){return u.a}),n.d(e,"BlendMode",function(){return c.a}),n.d(e,"AutoScaledTextItem",function(){return h.a}),n.d(e,"BarcodeItem",function(){return p.b}),n.d(e,"BarcodeFormat",function(){return p.a}),n.d(e,"BarcodeSubType",function(){return p.c}),n.d(e,"BarcodeData",function(){return f.a}),n.d(e,"BarcodePermissions",function(){return d.a}),n.d(e,"BoundedTextItem",function(){return g.a}),n.d(e,"ContentPermissions",function(){return y.a}),n.d(e,"CurvedTextItem",function(){return m.a}),n.d(e,"DashedLineItem",function(){return _.a}),n.d(e,"EllipseItem",function(){return b.a}),n.d(e,"FrontendPermissions",function(){return v.a}),n.d(e,"ImageItem",function(){return C.a}),n.d(e,"ImageMetaData",function(){return w.a}),n.d(e,"ImagePermissions",function(){return P.a}),n.d(e,"InStringPlaceholder",function(){return T}),n.d(e,"FontSettings",function(){return B}),n.d(e,"ShadowSettings",function(){return R}),n.d(e,"StrokeSettings",function(){return E}),n.d(e,"ItemData",function(){return j}),n.d(e,"ItemPermissions",function(){return k.a}),n.d(e,"ItemToolbarPermissions",function(){return F.a}),n.d(e,"LineItem",function(){return A.a}),n.d(e,"LinePermissions",function(){return M.a}),n.d(e,"ManipulationPermissions",function(){return z.a}),n.d(e,"OverlayEffect",function(){return L.a}),n.d(e,"ParagraphSettings",function(){return D.a}),n.d(e,"PathBoundedTextItem",function(){return N.a}),n.d(e,"PathBoundedTextPermissions",function(){return W.a}),n.d(e,"VerticalContentAlignment",function(){return V.d}),n.d(e,"HorizontalContentAlignment",function(){return V.a}),n.d(e,"ResizeMode",function(){return V.c}),n.d(e,"PlaceholderItem",function(){return V.b}),n.d(e,"PlaceholderPermissions",function(){return q.a}),n.d(e,"PlainTextItem",function(){return U.a}),n.d(e,"PolylineItem",function(){return H.a}),n.d(e,"RectangleItem",function(){return G.a}),n.d(e,"ResizeGripsPermissions",function(){return X.a}),n.d(e,"ShapePermissions",function(){return Y.a}),n.d(e,"FitMode",function(){return J.a}),n.d(e,"ShrinkMode",function(){return J.c}),n.d(e,"OverflowStrategy",function(){return J.b}),n.d(e,"TextAlignment",function(){return J.d}),n.d(e,"TextVerticalAlignment",function(){return J.e}),n.d(e,"TextPermissions",function(){return $.a}),n.d(e,"ThemeBinding",function(){return K.a}),n.d(e,"VisualizationPermissions",function(){return Q.a})},391:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(371),r=n(704),i=n(447),a=n(370),s=n(372),l=n(376),u=function(){function t(t,e){void 0===e&&(e=""),this._tags={},this._name="",this._propertyChanged=new a.b,this.id=null!=t?t:(new i.a).toString(),this.name=e}return Object.defineProperty(t.prototype,"version",{get:function(){return r.a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._propertyChanged.notify(this,"name"))},enumerable:!0,configurable:!0}),t.prototype.getTagsRef=function(){return this._tags},t.prototype.setTags=function(t){this._tags=t},Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},set:function(t){if(null==t)throw new o.b("value is null!");this._tags=t},enumerable:!0,configurable:!0}),t.prototype._copy=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!1),e.name=t.name,n?e.generateNewIds():e.id=t.id,null!=this.tags)for(var r in e.tags={},t.tags)e.tags[r]=l.clone(t.tags[r])},t.prototype.getSimplifiedObject=function(t){var e=s.f(this,t);return e.tags=this.getTagsRef(),e.id=this.id.toString(),e},t.prototype._generateNewId=function(){this.id=(new i.a).toString()},t.prototype.toString=function(){return this.name},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}()},392:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(371),r=n(370),i=n(376),a=function(){function t(t,e,n){void 0===n&&(n=!0),this._edgeConstraint=null,this._cornerArbitraryConstraint=null,this.propertyChanged=new r.a,this.edge=e,this._setCornerValues(t,e,n)}return Object.defineProperty(t.prototype,"edgeConstraint",{set:function(t){var e=this.edge;this._edgeConstraint=t,this.edge!==e&&this.propertyChanged.notify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edge",{get:function(){return null!=this._edgeConstraint?this._edgeConstraint:this._edge},set:function(t){this._edge!==t&&(this._edge=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"corner",{get:function(){return this._corner},set:function(t){if(null==t)throw new o.c("corner cannot be null");this._corner!==t&&(this._corner=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype._setCornerValues=function(e,n,o){this.corner=e&&n?o?[t.arbitrary,t.proportional]:[t.proportional,t.arbitrary]:e?[t.proportional]:n?[t.arbitrary]:[]},t.prototype.getCornerProportional=function(){return this.corner.includes(t.proportional)},t.prototype.getCornerArbitrary=function(){return null!=this._cornerArbitraryConstraint?this._cornerArbitraryConstraint:this.corner.includes(t.arbitrary)},t.prototype.setCornerProportional=function(t){var e=this.getCornerArbitrary();this._setCornerValues(t,e,!0)},t.prototype.setCornerArbitrary=function(t){var e=this.getCornerProportional();this._setCornerValues(e,t,!0)},t.prototype.setCornerArbitraryConstraint=function(t){var e=this.getCornerArbitrary();this._cornerArbitraryConstraint=t,this.getCornerArbitrary()!==e&&this.propertyChanged.notify()},t.prototype.clone=function(){var e=new t(!0,!0);return e.edge=this.edge,e.corner=this.corner.slice(),e},t.prototype.equals=function(t){return this.edge===t.edge&&i.isEqual(this.corner,t.corner)},t.prototype._get_data=function(){return{Edge:this.edge,Corner:this.corner}},t._from_data=function(e){if(null==e)return new t(!1,!1);var n=new t(!0,!0);return n.corner=e.Corner,n.edge=e.Edge,n},t.prototype.getSimplifiedObject=function(){var t={};return t.edge=this.edge,t.corner=this.corner,t},t.arbitrary="Arbitrary",t.proportional="Proportional",t}()},394:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var o=n(429),r=n(375),i=n(453),a=n(508),s=n(371),l=n(372),u=n(376),c=n(368),h=n(420),p=n(370),f=n(380),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(t){function e(n,o,i){var s=t.call(this)||this;s._text="",s._originalText="",s._underline=!1,s._color=new r.RgbColor("rgb(0,0,0)"),s._alignment=h.d.Left,s._tracking=0,s._leading=0,s._isRichText=!1,s._checkTextCrop=!0,s._overlapLinesEnabled=!1,s._verticalScale=1,s._horizontalScale=1,s._stroke=null,s._shadow=null,s._previewScale=1,s._placeholders=new f.a,s.values=[],s._maxLineLength=null,s._maxLineCount=null,s.isTextPlaceholder=!1,s.previewText=null,s.textColorForAbnormalRendering=new r.RgbColor("rgb(0,0,0)"),s.type=e.type,s._onFontPropertyChanged=function(t,e){s._propertyChanged.notify(s,"font")},s._onShadowPropertyChanged=function(t,e){s._propertyChanged.notify(s,"shadow")},s._onStrokePropertyChanged=function(t,e){s._propertyChanged.notify(s,"stroke")},s.borderWidth=0,s.fillColor=new r.RgbColor("rgba(0, 0, 0, 0)"),s.text=null!=n?n:"",s._font=new e.FontSettings(null!=o?o:"ArialMT",null!=i?i:10),s._subscribeFontPropertyChanged(),s.textPermissions=new a.a;var l=function(){return s._propertyChanged.notify(s,"text")};return s._placeholders.add_itemAdded(function(t){return t.item.addPropertyChanged(l)}),s._placeholders.add_itemRemoved(function(t){return t.item.removePropertyChanged(l)}),s._ignorePermissionsChange=!0,s.itemPermissions.allowRemoveOnLayoutChange=!0,s.itemPermissions.itemToolbarPermissions.showEditButton=!0,s._ignorePermissionsChange=!1,s}return d(e,t),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return this._maxLineCount},set:function(t){this._maxLineCount!==t&&(this._maxLineCount=t,this._propertyChanged.notify(this,"maxLineCount"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineLength",{get:function(){return this._maxLineLength},set:function(t){this._maxLineLength!==t&&(this._maxLineLength=t,this._propertyChanged.notify(this,"maxLineLength"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewScale",{get:function(){return this._previewScale},set:function(t){c.EqualsOfFloatNumbers(this._previewScale,t)||(this._previewScale=t,this._propertyChanged.notify(this,"previewScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){i.a.equals(this._stroke,t)||(this._unsubscribeStrokePropertyChanged(),this._stroke=t,this._subscribeStrokePropertyChanged(),this._propertyChanged.notify(this,"stroke"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadow",{get:function(){return this._shadow},set:function(t){null==this._shadow&&null==t||null!=t&&t.equals(this._shadow)||(this._unsubscribeShadowPropertyChanged(),this._shadow=t,this._subscribeShadowPropertyChanged(),this._propertyChanged.notify(this,"shadow"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScale",{get:function(){return this._horizontalScale},set:function(t){c.EqualsOfFloatNumbers(this._horizontalScale,t)||(this._horizontalScale=t,this._propertyChanged.notify(this,"horizontalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalScale",{get:function(){return this._verticalScale},set:function(t){c.EqualsOfFloatNumbers(this._verticalScale,t)||(this._verticalScale=t,this._propertyChanged.notify(this,"verticalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkTextCrop",{get:function(){return this._checkTextCrop},set:function(t){this._checkTextCrop!==t&&(this._checkTextCrop=t,this._propertyChanged.notify(this,"checkTextCrop"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlapLinesEnabled",{get:function(){return this._overlapLinesEnabled},set:function(t){this._overlapLinesEnabled!==t&&(this._overlapLinesEnabled=t,this._propertyChanged.notify(this,"overlapLinesEnabled"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRichText",{get:function(){return this._isRichText},set:function(t){this._isRichText!==t&&(this._isRichText=t,this._propertyChanged.notify(this,"isRichText"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment!==t&&(this._alignment=t,this._propertyChanged.notify(this,"alignment"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tracking",{get:function(){return this._tracking},set:function(t){c.EqualsOfFloatNumbers(this._tracking,t)||(this._tracking=t,this._propertyChanged.notify(this,"tracking"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){c.EqualsOfFloatNumbers(this._leading,t)||(this._leading=t,this._propertyChanged.notify(this,"leading"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalText",{get:function(){return null!=this._originalText?this._originalText:""},set:function(t){this._originalText=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{get:function(){return this._underline},set:function(t){this._underline!==t&&(this._underline=t,this._propertyChanged.notify(this,"underline"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){e.FontSettings.equals(this._font,t)||(this._unsubscribeFontPropertyChanged(),this._font=t,this._subscribeFontPropertyChanged(),this._propertyChanged.notify(this,"font"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text=this.getUpdatedText(this._text),this._text},set:function(t){this._text!==t&&(this._text=t,this.previewText=null,this._propertyChanged.notify(this,"text"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){r.Color.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),e.prototype.getUpdatedText=function(t){var e=t;this.placeholders.length>0&&(e=this.isRichText?this._replaceInStringPlaceholdersValueInRichText():this._replaceInStringPlaceholdersValueInPlainText());var n=e.split("\n");if(null!=this.maxLineCount&&0!==this.maxLineCount&&n.length>this.maxLineCount&&(n=n.splice(0,this.maxLineCount)),null!=this.maxLineLength&&0!==this.maxLineLength)for(var o=0;o<n.length;o++)n[o].length>this.maxLineLength&&(n[o]=n[o].substr(0,this.maxLineLength));return n.join("\n")},Object.defineProperty(e.prototype,"placeholders",{get:function(){return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textForTextWhizz",{get:function(){return null!=this.previewText?this.previewText:this.text},enumerable:!0,configurable:!0}),e.prototype._canSetIsVariable=function(){return!0},Object.defineProperty(e.prototype,"previewFontSize",{get:function(){return this.font.size*this.previewScale},set:function(t){this.font.size=t/this.previewScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewLeading",{get:function(){return this.leading*this.previewScale},set:function(t){this.leading=t/this.previewScale},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,null==this.textPermissions||this.textPermissions.allowChangeText?this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null:this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!1,this.isRenderTypeIsNormal||(this.textPermissions.allowChangeFontColor=!1,this.textPermissions.allowChangeShadow=!1,this.textPermissions.allowChangeStroke=!1)},Object.defineProperty(e.prototype,"textPermissions",{get:function(){return this._textPermissions},set:function(t){if(null==t)throw new s.b("textPermissions cannot be null");l.c(this._textPermissions,t)||(null!=this._textPermissions&&this._textPermissions.propertyChanged.remove(this._onPermissionsChanged),this._textPermissions=t,this.applyPermissionsConstrain(),this._textPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"textPermissions"))},enumerable:!0,configurable:!0}),e.prototype._subscribeFontPropertyChanged=function(){null!=this._font&&this._font.addPropertyChanged(this._onFontPropertyChanged)},e.prototype._unsubscribeFontPropertyChanged=function(){null!=this._font&&this._font.removePropertyChanged(this._onFontPropertyChanged)},e.prototype._subscribeShadowPropertyChanged=function(){null!=this._shadow&&this._shadow.addPropertyChanged(this._onShadowPropertyChanged)},e.prototype._unsubscribeShadowPropertyChanged=function(){null!=this._shadow&&this._shadow.removePropertyChanged(this._onShadowPropertyChanged)},e.prototype._subscribeStrokePropertyChanged=function(){null!=this._stroke&&this._stroke.addPropertyChanged(this._onStrokePropertyChanged)},e.prototype._unsubscribeStrokePropertyChanged=function(){null!=this._stroke&&this._stroke.removePropertyChanged(this._onStrokePropertyChanged)},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["_placeholders","currentTextImage","textPermissions","textForTextWhizz","shadow","stroke"].concat(e));return n.placeholders=this.placeholders.toArray(),n.textPermissions=this.textPermissions.getSimplifiedObject(),null!=this.shadow&&(n.shadow=this.shadow.getSimplifiedObject()),null!=this.stroke&&(n.stroke=this.stroke.getSimplifiedObject()),n},e.prototype._replaceInStringPlaceholdersValueInPlainText=function(){var t=this.originalText;return this.placeholders.forEach(function(e){t=t.replace(e.id,e.value)}),t},e.prototype._replaceInStringPlaceholdersValueInRichText=function(){if(null==this._originalTextDom){var t=new DOMParser;this._originalTextDom=t.parseFromString("<xml>"+this.originalText+"</xml>","text/xml")}var e=this._originalTextDom.cloneNode(!0),n=e.getElementsByTagName("span");this.placeholders.forEach(function(t){if(null!=n&&n.length)for(var e=0;e<n.length;e++){var o=n[e];null!=o.textContent&&(o.textContent=o.textContent.replace(t.id,t.value))}});var o=(new XMLSerializer).serializeToString(e);return o.substr(0,o.length-6).substr(5)},e.prototype._copy=function(n,o,r,i){if(t.prototype._copy.call(this,n,o,r,i),o.textPermissions=n._textPermissions.clone(),o.placeholders.setRange(n.placeholders.toArray().map(function(t){return t.clone()})),o.color=n._color.clone(),o.text=n._text,o.font=n._font.clone(),o.underline=n._underline,o.originalText=n._originalText,o.leading=n._leading,o.tracking=n._tracking,o.alignment=n._alignment,o.checkTextCrop=n._checkTextCrop,o.isRichText=n._isRichText,o.verticalScale=n._verticalScale,o.horizontalScale=n._horizontalScale,o.shadow=null!=n._shadow?n._shadow.clone():null,o.stroke=null!=n._stroke?n._stroke.clone():null,o.previewScale=n._previewScale,o._maxLineCount=n._maxLineCount,o.textPermissions=n._textPermissions.clone(),o.previewText=n.previewText,o.isTextPlaceholder=n.isTextPlaceholder,o.maxLineLength=n.maxLineLength,o.overlapLinesEnabled=n.overlapLinesEnabled,null!=n.values)for(var a in o.values=[],n.values)o.values.push(e.BaseTextValue.clone(n.values[a]))},e.type="baseText",e}(o.a);!function(t){var e=function(){function t(t,e){void 0===t&&(t="ArialMT"),void 0===e&&(e=10),this._fauxBold=!1,this._fauxItalic=!1,this._allCaps=!1,this._openTypeFeatures=[],this.$_propertyChanged=new p.b,this._postScriptName=t,this._size=e}return t.prototype.clone=function(){var e=new t(this._postScriptName,this._size);return e._openTypeFeatures=u.clone(this._openTypeFeatures),e.allCaps=this._allCaps,e.fauxItalic=this._fauxItalic,e.fauxBold=this._fauxBold,e},Object.defineProperty(t.prototype,"fauxBold",{get:function(){return this._fauxBold},set:function(t){this._fauxBold!==t&&(this._fauxBold=t,this.$_propertyChanged.notify(this,"fauxBold"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fauxItalic",{get:function(){return this._fauxItalic},set:function(t){this._fauxItalic!==t&&(this._fauxItalic=t,this.$_propertyChanged.notify(this,"fauxItalic"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allCaps",{get:function(){return this._allCaps},set:function(t){this._allCaps!==t&&(this._allCaps=t,this.$_propertyChanged.notify(this,"allCaps"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openTypeFeatures",{get:function(){return this._openTypeFeatures},set:function(t){this._openTypeFeatures!==t&&(this._openTypeFeatures=t,this.$_propertyChanged.notify(this,"openTypeFeatures"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"postScriptName",{get:function(){return this._postScriptName},set:function(t){this._postScriptName!==t&&(this._postScriptName=t,this.$_propertyChanged.notify(this,"postScriptName"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){c.EqualsOfFloatNumbers(this._size,t)||(this._size=t,this.$_propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this.$_propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this.$_propertyChanged.remove(t)},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.equals=function(t){return this.postScriptName===t.postScriptName&&this.size===t.size&&this.fauxBold===t.fauxBold&&this.fauxItalic===t.fauxItalic&&this.allCaps===t.allCaps&&u.isEqual(this.openTypeFeatures,t.openTypeFeatures)},t}();t.FontSettings=e,function(t){t.clone=function(t){return{name:t.name,text:t.text}}}(t.BaseTextValue||(t.BaseTextValue={}))}(g||(g={}))},395:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return h}),n.d(e,"e",function(){return p});var o=n(391),r=n(376),i=n(380),a=n(430),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e,n){var o=t.call(this)||this;return o._items=new i.a,o._visible=!0,o.parentComponent=null,o.locked=!1,o.renderingType=a.a.Normal,o.type="Container",o.region=null,o._onItemAdded=function(t){t.item.parentContainer=o},o._items=new i.a,o._items.add_itemAdded(o._onItemAdded),null!=e&&o.items.setRange(e),null!=n&&(o.name=n),o}return s(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._propertyChanged.notify(this,"visible"))},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){var e=t.prototype.getSimplifiedObject.call(this,["parentComponent","version"]);return e.version=this.version,e},e.prototype.generateNewIds=function(){this._generateNewId(),this._items.forEach(function(t){return t.generateNewIds()})},e.prototype._copy=function(e,n,o){t.prototype._copy.call(this,e,n,o),n.items.addRange(e.items.toArray().map(function(t){return t.clone(o)})),n.locked=e.locked,n.visible=e.visible,n.renderingType=e.renderingType,n.translationKey=e.translationKey,n.region=null!=e.region?e.region.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(o.a),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.locked=!0,e.noPrint=!1,e.noShow=!1,e.size=null,e}return s(e,t),e.prototype._copy=function(e,n,o){t.prototype._copy.call(this,e,n,o),n.noPrint=e.noPrint,n.noShow=e.noShow,n.size=null!=e.size?e.size.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(l),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.locked=!1,e.type="SurfaceContainer",e}return s(e,t),e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(l),h=function(t){function e(){var e=t.call(this)||this;return e.type="SpotColorContainer",e.renderingType=a.a.Grayscale,e}return s(e,t),e.prototype._copy=function(e,n,o){t.prototype._copy.call(this,e,n,o),n.previewColor=e.previewColor},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(c),p=function(t){function e(){var e=t.call(this)||this;return e.type="TextureContainer",e.renderingType=a.a.Solid,e}return s(e,t),Object.defineProperty(e.prototype,"previewTextureSource",{get:function(){return this._previewTextureSource},set:function(t){t!==this._previewTextureSource&&(this._previewTextureSource=t,this._propertyChanged.notify(this,"previewTextureSource"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o){return t.prototype._copy.call(this,e,n,o),n.previewTextureSource=null!=e.previewTextureSource?e.previewTextureSource.clone():null,n.previewTextureName=e.previewTextureName,n},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.getSimplifiedObject=function(e){r.isArray(e)||r.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this);return n.previewTextureSource={id:this.previewTextureSource.id,width:this.previewTextureSource.width,height:this.previewTextureSource.height,isVector:this.previewTextureSource.isVector,pageIndex:this.previewTextureSource.pageIndex,url:this.previewTextureSource.url,actualSize:this.previewTextureSource.actualSize,saveAspectRatio:this.previewTextureSource.saveAspectRatio,origin:this.previewTextureSource.origin},n},e}(c)},396:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o=n(414),r=n(368),i=n(437),a=n(521),s=n(378),l=n(375),u=n(370),c=n(533),h=n(389),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=function(t){function e(n){var o=t.call(this,e._getItemPath(n),n)||this;return o._content=null,o._topFrames=[],o._bottomFrames=[],o._editing=!1,o._showMaskedContent=!0,o._isContentUpdating=!1,o._previousRectangle=null,o._placeholderButtonGroup=null,o._editButtonGroup=null,o._doneButtonGroup=null,o._selectButton=null,o._doneButton=null,o._handleButton=null,o._qualityChangeContainer=null,o._qualityChangeScaleBar=null,o._qualityChangeInfoBar=null,o._forceQualityChangeInfoBar=!1,o._emptyPlaceholderBorderColor=new l.RgbColor({r:204,g:204,b:204}),o._emptyPlaceholderBorderWidth=1,o._selectButtonClickEvent=new u.b,null!=n&&null!=n.sourceRectangle&&(o._controlPoints=[new r.PointF(n.sourceRectangle.left,n.sourceRectangle.top),new r.PointF(n.sourceRectangle.right,n.sourceRectangle.bottom)]),o._selectButtonClickHandler=o._onSelectButtonClick.bind(o),o}return p(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e._getItemPath=function(t){return null==t?null:null!=t.sourcePath?t.sourcePath:null!=t.sourceRectangle?r.Path.rectangle(t.sourceRectangle.left,t.sourceRectangle.top,t.sourceRectangle.width,t.sourceRectangle.height):null},e.prototype._onItemPropertyChanged=function(e,n){var o=this;switch(n){case"content":this.content=null!=e.content&&null!=this.canvas?this.canvas.handlerFactory.get(e.content):null,this.update();break;case"topFrames":null!=this.canvas&&(this.topFrames=e.topFrames.map(function(t){return o.canvas.handlerFactory.get(t)})),this.update();break;case"bottomFrames":null!=this.canvas&&(this.bottomFrames=e.bottomFrames.map(function(t){return o.canvas.handlerFactory.get(t)})),this.update();break;case"locked":case"visible":var r=this.get_canvas();null!=r&&r.updatePlaceholderButtonGroup(this);break;case"isStubContent":this._reloadPlaceholderButtons();break;case"isCoverMode":null!=this._content&&this.item.isCoverMode&&this._content.setRectangle(this._content.rectangle);break;case"contentOverlayEffect":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setVisible=function(e){if(this.visible!==e){t.prototype._setVisible.call(this,e),null!=this._content&&(this._content.visible=e);var n=this.get_canvas();null!=n&&n.updatePlaceholderButtonGroup(this)}},e.prototype.quickUpdate=function(){this.isVisible()&&this.update(),null!=this.canvas&&this.canvas.updatePlaceholderButtonGroup(this)},Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){var e=this.canvas;if(null==e||this.isStubOrEmpty()||e.removeViolationContainer(this._content),this._content=t,null!=this._content&&(this._content.layer=this.layer,this._content.parentPlaceholder=this,this._content.contentType=i.a.PlaceholderContent),null!=e){if(this._reloadPlaceholderButtons(),null==this._content)return;this._content.canvas=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topFrames",{get:function(){return this._topFrames},set:function(t){var e=this;this._topFrames=t,this._updateTopFrames(function(t){t._contentType=i.a.TopFrame,t._layer=e.get_layer(),t._parentPlaceholder=e,t.canvas=e.canvas})},enumerable:!0,configurable:!0}),e.prototype.getTopFrame=function(t){return null!=this._topFrames?this._topFrames[t]:null},e.prototype.setTopFrame=function(t,e){e._contentType=i.a.TopFrame,e._layer=this.get_layer(),e._parentPlaceholder=this,e.canvas=this.canvas,this._topFrames[t]=e},Object.defineProperty(e.prototype,"bottomFrames",{get:function(){return this._bottomFrames},set:function(t){var e=this;this._bottomFrames=t,this._updateBottomFrames(function(t){t._contentType=i.a.BottomFrame,t._layer=e.get_layer(),t._parentPlaceholder=e,t.canvas=e.canvas})},enumerable:!0,configurable:!0}),e.prototype.getBottomFrame=function(t){return null!=this._bottomFrames?this._bottomFrames[t]:null},e.prototype.setBottomFrame=function(t,e){e._contentType=i.a.BottomFrame,e._layer=this.get_layer(),e._parentPlaceholder=this,e.canvas=this.canvas,this._bottomFrames[t]=e},e.prototype.isEmptyContent=function(){return null==this._content},e.prototype._reloadPlaceholderButtons=function(){var t=this.get_canvas();null!=t&&(t.removePlaceholderButtonGroup(this),t.addPlaceholderButtonGroup(this),this.isStubOrEmpty()?t.removeViolationContainer(this._content):t.addViolationContainer(this._content))},e.prototype.isStubOrEmpty=function(){return this.item.isStubContent||this.isEmptyContent()},Object.defineProperty(e.prototype,"editing",{get:function(){return!this.isStubOrEmpty()&&this._editing},set:function(t){if(this._editing!==t){if(t&&!this.get_permissions().get_allowEditContent()&&this.isStubOrEmpty())return;this._editing=t,this.raiseChanged();var e=this.get_canvas();null!=e&&(e.updateSelection(),e.updatePlaceholderButtonGroup(this),e.updateFloatingItemToolbar(this),e.redraw())}},enumerable:!0,configurable:!0}),e.prototype.isCoverMode=function(){return this.item.isCoverMode},e.prototype._createItemHandlerPermissions=function(){var e=t.prototype._createItemHandlerPermissions.call(this);return e.set_allowEditContent(this.item.placeholderPermissions.allowEditContent),e.set_showSelectButton(this.item.placeholderPermissions.showSelectButton),e.set_showHandleButton(this.item.placeholderPermissions.showHandleButton),e},e.prototype.showEditButton=function(){var e=t.prototype.showEditToolbarButton,n=!!this.isStubOrEmpty()||!this.item.imageContent.source.isVector;return e&&n},e.prototype.get_permissions=function(e){if(!this.editing||null!=e&&e)return t.prototype.get_permissions.call(this);if(this.isEmptyContent())return new a.a({},!1);var n=this._content.get_permissions().clone();return n.set_allowDelete(!1),n},Object.defineProperty(e.prototype,"showMaskedContent",{get:function(){return this._showMaskedContent},set:function(t){this._showMaskedContent=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var e=t.prototype.clone.call(this);return this.isEmptyContent()||(e.content=this._content.clone()),null!=this._topFrames&&(e.topFrames=this._topFrames),null!=this._bottomFrames&&(e.bottomFrames=this._bottomFrames),e},e.prototype.setRectangle=function(e,n,o){!this.editing||o?t.prototype.setRectangle.call(this,e,n):this._content.setRectangle(e,n)},e.prototype._createDataInstance=function(t){return new c.a(t)},e.prototype.drawItemHandler=function(e){if(null!=e){var n=function(t){t.drawItemHandler(e)},o=this.editing&&this.showMaskedContent;o||this._updateBottomFrames(n);var r=s.a,i=this.originalPath,a=this.getControlCenter(),u=this.item.transform;if(this.isEmptyContent())t.prototype.drawItemHandler.call(this,e),r.drawPath(e,i,a,u,this._emptyPlaceholderBorderWidth,this._emptyPlaceholderBorderColor,1);else{o&&this._content._drawMaskedContent(e);var c=this.isNormalRenderingType?this.item.opacity:1;e.save();var h=null;null!=this.item.mask&&null!=this.item.mask.vectorMask?(h=this._getTransformedClippingPath(),i=this.item.mask.vectorMask):h=this._getTransformedPath(),r.clipPath(e,h),r.fillPath(e,i,a,u,this.item.fillColor.preview,c),this._content.drawItemHandler(e),this.get_canvas().get_dndHandler().isDragSource(this)&&(e.globalCompositeOperation="destination-out",r.fillRectangle(e,this.rectangle,new l.RgbColor({r:0,g:0,b:0}),.3),e.globalCompositeOperation="source-over"),e.restore(),r.drawPath(e,i,a,u,this._getActualBorderWidth(),this.item.borderColor.preview,c)}if(o){if(e.globalCompositeOperation="destination-over",null!=this._bottomFrames)for(var p=this._bottomFrames.length-1;p>=0;p--)n(this._bottomFrames[p]);e.globalCompositeOperation="source-over"}this.get_canvas().get_dndHandler().isDragTarget(this)&&this.isNormalRenderingType&&r.fillRectangle(e,this.rectangle,new l.RgbColor({r:0,g:0,b:0}),.5),this._updateTopFrames(n)}},e.prototype.getSelectionRectangle=function(){return this.editing?this._content.getSelectionRectangle():t.prototype.getSelectionRectangle.call(this)},e.prototype._getHighlightRectangle=function(){return this.editing?this.rectangle:t.prototype._getHighlightRectangle.call(this)},e.prototype.getBorderMargin=function(){return this.editing?this._content.getBorderMargin():t.prototype.getBorderMargin.call(this)},e.prototype.update=function(){this.updateColors(),this.updateContentAndFrames(function(t){t.update()}),null!=this.canvas&&this.canvas.updatePlaceholderButtonGroup(this)},e.prototype.addSelectButtonClick=function(t){this._selectButtonClickEvent.add(t)},e.prototype.removeSelectButtonClick=function(t){this._selectButtonClickEvent.remove(t)},e.prototype._onSelectButtonClick=function(){this._selectButtonClickEvent.notify(this)},e.prototype.getChangeContentButtonClickEvent=function(){return this._selectButtonClickEvent},e.prototype._onAddedOnCanvas=function(e){var n=this;t.prototype._onAddedOnCanvas.call(this,e),this.updateContentAndFrames(function(t){t._layer=n.get_layer(),t._parentPlaceholder=n,t.canvas=e}),null!=e&&e.addPlaceholderButtonGroup(this),null!=this.content&&(this.content.canvas=e)},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),this.updateContentAndFrames(function(t){t._onRemovedFromCanvas(e)}),null!=e&&e.removePlaceholderButtonGroup(this)},e.prototype._transformRectangle=function(e,n){if(this._previousRectangle=this.rectangle,t.prototype._transformRectangle.call(this,e,n),!this.isEmptyContent()&&null!=this.content.startRectangle)if(this.item.isStubContent&&this.item.fixedStubContentSize&&!this.editing){var o=n.clone();o.Width=e.Width,o.Height=e.Height,this.content._transformRectangle(e,o)}else this.content._transformRectangle(e,n);this.editing||this._updateFrames(function(t){null!=t.startRectangle&&t._transformRectangle(e,n)}),this._previousRectangle=null;var r=this.get_canvas();null!=r&&r.updatePlaceholderButtonGroupPosition(this)},e.prototype._startTransform=function(){t.prototype._startTransform.call(this),this.editing&&(this._startRectangle=this._content.rectangle),this.updateContentAndFrames(function(t){t._startRectangle=t.rectangle})},e.prototype._endTransform=function(t,e){if(t&&(e||null!=this._startRectangle)&&this._itemPropertyChangedEvent.notify(this,"transform"),t&&null!=this._startRectangle){var n=this.rectangle;this._previousRectangle=null;var o=function(t){return t.rectangle},r=null!=this._topFrames?this._topFrames.map(o):null,i=null!=this._bottomFrames?this._bottomFrames.map(o):null,a=function(t){null!=t._startRectangle&&t.setRectangle(t._startRectangle,!0)};this.editing||(this.setRectangle(this._startRectangle,!0),this._updateFrames(a));var s=this.isEmptyContent()?null:this._content.rectangle;if(null!=s&&this._updateContent(a),!this.editing){var l=function(t,e){t.setRectangle(e)};this._updateTopFrames(l,r),this._updateBottomFrames(l,i),this.setRectangle(n)}null!=s&&this._content.setRectangle(s)}t&&e||(delete this._startRectangle,this.updateContentAndFrames(function(t){delete t._startRectangle})),this.get_canvas().updateFloatingItemToolbar(this)},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this);var e=this.get_canvas();null!=e&&e.updatePlaceholderButtonGroupPosition(this)},e.prototype._onResized=function(){return this.updateContentAndFrames(function(t){t._onResized()}),t.prototype._onResized.call(this)},e.prototype.showSelectButton=function(){return this.isStubOrEmpty()&&this.get_permissions().get_showSelectButton()},e.prototype.showSelectToolbarButton=function(){return this._permissions.get_showSelectToolbarButton()},e.prototype.showHandleButton=function(){return!this.isStubOrEmpty()&&this.get_permissions().get_allowEditContent()&&this.get_permissions().get_showHandleButton()&&!this._editing},e.prototype.onHandleButtonMouseDown=function(){this._isContentUpdating=!0,this.editing=!0},e.prototype.onPlaceholderButtonMouseUp=function(){this._isContentUpdating=!1,this.get_canvas().updatePlaceholderButtonGroup(this)},e.prototype.onDoneButtonClick=function(){var t=this.get_canvas();null!=t&&(t.set_selectedItemHandlers([this]),this.editing=!1)},e.prototype.setContentUpdating=function(t){this._isContentUpdating=t},e.prototype.isContentUpdating=function(){return this._isContentUpdating},e.prototype._updateFrames=function(t){this._updateTopFrames(t),this._updateBottomFrames(t)},e.prototype._updateTopFrames=function(t,e){if(null!=this._topFrames)for(var n=0;n<this._topFrames.length;n++)t(this._topFrames[n],null!=e?e[n]:null)},e.prototype._updateBottomFrames=function(t,e){if(null!=this._bottomFrames)for(var n=0;n<this._bottomFrames.length;n++)t(this._bottomFrames[n],null!=e?e[n]:null)},e.prototype._updateContent=function(t){this.isEmptyContent()||t(this._content)},e.prototype.updateContentAndFrames=function(t){this._updateContent(t),this._updateFrames(t)},e.prototype.getBoundsIncludingFrames=function(){var t=this.bounds;return this._updateFrames(function(e){t=r.RectangleF.union(t,e.bounds)}),t},e.prototype.getRectangleIncludingFrames=function(){var t=this.rectangle;return this._updateFrames(function(e){t=r.RotatedRectangleF.union(e.rectangle,t)}),t},Object.defineProperty(e.prototype,"qualityChangeScaleBar",{get:function(){return this._qualityChangeScaleBar},set:function(t){this._qualityChangeScaleBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeInfoBar",{get:function(){return this._qualityChangeInfoBar},set:function(t){this._qualityChangeInfoBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeContainer",{get:function(){return this._qualityChangeContainer},set:function(t){this._qualityChangeContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceQualityChangeInfoBar",{get:function(){return this._forceQualityChangeInfoBar},set:function(t){this._forceQualityChangeInfoBar=t;var e=this.get_canvas();null!=e&&e.updateViolationContainer(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderButtonGroup",{get:function(){return this._placeholderButtonGroup},set:function(t){this._placeholderButtonGroup=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doneButtonGroup",{get:function(){return this._doneButtonGroup},set:function(t){this._doneButtonGroup=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectButton",{get:function(){return this._selectButton},set:function(t){this._selectButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doneButton",{get:function(){return this._doneButton},set:function(t){this._doneButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleButton",{get:function(){return this._handleButton},set:function(t){this._handleButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectButtonClickHandler",{get:function(){return this._selectButtonClickHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editButtonGroup",{get:function(){return this._editButtonGroup},set:function(t){this._editButtonGroup=t},enumerable:!0,configurable:!0}),e.prototype.setQualityChangeScaleBarWidth=function(t){null!=this._qualityChangeScaleBar&&(t=Math.max(0,t),t=Math.min(100,t),this._qualityChangeScaleBar.style.width=t+"%")},e.prototype.setQualityChangeInfoBarText=function(t){null!=this._qualityChangeInfoBar&&(this._qualityChangeInfoBar.innerText=t)},e.prototype.setBadToWarningChangeScaleBarClass=function(){var t=this.get_canvas();if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToWarningChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var o=t.qualityWarningToGoodChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityNoAnimationChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setWarningToGoodChangeScaleBarClass=function(){var t=this.get_canvas();if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityWarningToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var o=t.qualityBadToWarningChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityNoAnimationChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setBadToGoodChangeScaleBarClass=function(){var t=this.get_canvas();if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var o=t.qualityBadToWarningChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,!1);var r=t.qualityWarningToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityNoAnimationChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.rotateContentLeft=function(){this._rotateContent(-90)},e.prototype.rotateContentRight=function(){this._rotateContent(90)},e.prototype._rotateContent=function(t){if(!this.isStubOrEmpty()){var e=this.content.getTransformedRectangle(!1);e.angle=Object(r.normalizeAngle)((e.angle+t)%360),this.content.setTransformedRectangle(e)}},e.prototype.getContentScale=function(){if(this.isStubOrEmpty())return null;var t=this.getTransformedRectangle(!1),e=this.content.getTransformedRectangle(!1),n=90===Object(r.normalizeAngle)(t.angle-e.angle)||270===Object(r.normalizeAngle)(t.angle-e.angle),o=n?e.height/t.width:e.width/t.width,i=n?e.width/t.height:e.height/t.height;return this.item.contentResizeMode===h.ResizeMode.Fit?100*Math.max(o,i):100*Math.min(o,i)},e.prototype.setContentScale=function(t){if(!this.isStubOrEmpty()){var e=this.content.getTransformedRectangle(!1),n=t/this.getContentScale();this.content.setTransformedRectangle(new r.RotatedRectangleF(e.centerX,e.centerY,e.width*n,e.height*n,e.angle)),this.content.item.getItemChangingEvent().notify()}},e.prototype.resetContent=function(){if(!this.isStubOrEmpty()){var t=this.getTransformedRectangle(!1),e=this.content.getTransformedRectangle(!1),n=100/this.getContentScale(),o=90===Object(r.normalizeAngle)(t.angle-e.angle)||270===Object(r.normalizeAngle)(t.angle-e.angle),i=this.content.item,a=o?e.height/e.width:e.width/e.height,s=i.ratioWidthToHeight||i.sourceRectangle.width/i.sourceRectangle.height,l=a<s?n*(s/a):n,u=a>s?n*(a/s):n,c=o?e.height*l:e.width*l,p=o?e.width*u:e.height*u,f=this.item.contentResizeMode===h.ResizeMode.Fit?Math.min(t.width/c,t.height/p):Math.max(t.width/c,t.height/p);this.content.setTransformedRectangle(new r.RotatedRectangleF(t.centerX,t.centerY,c*f,p*f,t.angle)),this.content.item.getItemChangedEvent().notify()}},e.prototype.getSelectToolbarButtonClickEvent=function(){return this._selectButtonClickEvent},e.typeName="PlaceholderItemHandler",e}(o.a)},401:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var o=n(448),r=n(395),i=n(497),a=n(498),s=n(499),l=n(501),u=n(371),c=n(370),h=n(368),p=n(412),f=n(375),d=n(419),g=n(506),y=n(376),m=n(430),_=n(451),b=n(452),v=n(372),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=function(t){function e(){var n=t.call(this)||this;n._visible=!0,n._locked=!1,n._opacity=1,n._fromLayout=!1,n._textWrappingMode=d.a.None,n._isVariable=!1,n._ignorePermissionsChange=!1,n._onPermissionsChanged=function(){n._propertyChanged.notify(n,"permissions")},n.themeBinding=new g.a,n.blendMode=_.a.Normal,n._onTransformChanged=function(t){n._propertyChanged.notify(n,"transform")},n._onMaskChanged=function(t){n._propertyChanged.notify(n,"mask")},n._changedEvent=new c.a,n._changingEvent=new c.a,n.type=e.type;var o=new s.a;return o.allowRemoveOnLayoutChange=!1,n.itemPermissions=o,n.manipulationPermissions=new i.a,n.visualizationPermissions=new a.a,n.frontendPermissions=new l.a,n.mask=new b.a,n.setTransform(new p.a),n}return C(e,t),e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.itemPermissions=e._itemPermissions.clone(),n.visible=e._visible,n.locked=e._locked,n.opacity=e._opacity,n.isVariable=e._isVariable,n.textWrappingMode=e._textWrappingMode,n.manipulationPermissions=e._manipulationPermissions.clone(),n.visualizationPermissions=e._visualizationPermissions.clone(),n.frontendPermissions=e._frontendPermissions.clone(),n.transform=e._transform.clone(),n.containerName=e.containerName,n.themeBinding=e.themeBinding.clone(),n.mask=null!=e.mask?e.mask.clone():null,n.blendMode=e.blendMode},Object.defineProperty(e.prototype,"manipulationPermissions",{get:function(){return this._manipulationPermissions},set:function(t){if(null==t)throw new u.b("manipulationPermissions cannot be null");v.c(this._manipulationPermissions,t)||(null!=this._manipulationPermissions&&this._manipulationPermissions.propertyChanged.remove(this._onPermissionsChanged),this._manipulationPermissions=t,this.applyPermissionsConstrain(),this._manipulationPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"manipulationPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visualizationPermissions",{get:function(){return this._visualizationPermissions},set:function(t){if(null==t)throw new u.b("visualizationPermissions cannot be null");v.c(this._visualizationPermissions,t)||(null!=this._visualizationPermissions&&this._visualizationPermissions.propertyChanged.remove(this._onPermissionsChanged),this._visualizationPermissions=t,this.applyPermissionsConstrain(),this._visualizationPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"visualizationPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemPermissions",{get:function(){return this._itemPermissions},set:function(t){if(null==t)throw new u.b("itemPermissions cannot be null");v.c(this._itemPermissions,t)||(null!=this._itemPermissions&&this._itemPermissions.propertyChanged.remove(this._onPermissionsChanged),this._itemPermissions=t,this.applyPermissionsConstrain(),this._itemPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"itemPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frontendPermissions",{get:function(){return this._frontendPermissions},set:function(t){if(null==t)throw new u.b("frontendPermissions cannot be null");v.c(this._frontendPermissions,t)||(null!=this._frontendPermissions&&this._frontendPermissions.propertyChanged.remove(this._onPermissionsChanged),this._frontendPermissions=t,this.applyPermissionsConstrain(),this._frontendPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"frontendPermissions"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){this.isRenderTypeIsNormal||(this.itemPermissions.allowOpacityChange=!1)},e.prototype._onContainerChanged=function(){t.prototype._onContainerChanged.call(this),this.applyPermissionsConstrain()},Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform},set:function(t){this.setTransform(t)},enumerable:!0,configurable:!0}),e.prototype.setTransform=function(t,e){void 0===e&&(e=!1),this._transform&&this._transform.removeTransformChanged(this._onTransformChanged);var n=!1;p.a.isEqual(this._transform,t)||(this._transform=t,n=!0),this._transform&&this._transform.addTransformChanged(this._onTransformChanged),!e&&n&&this._propertyChanged.notify(this,"transform")},Object.defineProperty(e.prototype,"textWrappingMode",{get:function(){return this._textWrappingMode},set:function(t){this._textWrappingMode!==t&&(this._textWrappingMode=t,this._propertyChanged.notify(this,"textWrappingMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locked",{get:function(){return this._locked},set:function(t){this._locked!==t&&(this._locked=t,this._propertyChanged.notify(this,"locked"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){v.c(this.mask,t)||(null!=this._mask&&this._mask.removeMaskChanged(this._onMaskChanged),this._mask=t,null!=this._mask&&this._mask.addMaskChanged(this._onMaskChanged),this._propertyChanged.notify(this,"mask"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._propertyChanged.notify(this,"visible"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){h.EqualsOfFloatNumbers(this._opacity,t)||(this._opacity=t,this._propertyChanged.notify(this,"opacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVariable",{get:function(){return this._isVariable},set:function(t){if(this._isVariable!==t){if(!this._canSetIsVariable())throw new u.e("Unable to set isVariable on item of type '"+this.type+"'");this._isVariable=t,this._propertyChanged.notify(this,"isVariable")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fromLayout",{get:function(){return this._fromLayout},set:function(t){this._fromLayout!==t&&(this._fromLayout=t,this._propertyChanged.notify(this,"fromLayout"))},enumerable:!0,configurable:!0}),e.prototype.canSetIsVariable=function(){return this._canSetIsVariable()},e.prototype._canSetIsVariable=function(){return!1},e.prototype._getParentContainer=function(){return null!=this.parentContainer?this.parentContainer:null},e.prototype.getSimplifiedObject=function(e){y.isArray(e)||y.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["_changedEvent","_changingEvent","manipulationPermissions","itemPermissions","visualizationPermissions","frontendPermissions","renderingType","isRenderTypeIsNormal"].concat(e));return n.manipulationPermissions=this.manipulationPermissions.getSimplifiedObject(),n.itemPermissions=this.itemPermissions.getSimplifiedObject(),n.visualizationPermissions=this.visualizationPermissions.getSimplifiedObject(),n.frontendPermissions=this.frontendPermissions.getSimplifiedObject(),n.mask=null!=this.mask?this.mask.getSimplifiedObject():null,n},e.prototype.getItemChangedEvent=function(){return this._changedEvent},e.prototype.getItemChangingEvent=function(){return this._changingEvent},e.prototype._getThemeBinding=function(t){return null!=t?t:this.themeBinding},e.prototype._applyThemeColor=function(t,e,n){if(null!=t&&null!=e[t]){var o=f.ColorFactory.createColor(e[t]);if(o)return n(o),!0}return!1},Object.defineProperty(e.prototype,"isRenderTypeIsNormal",{get:function(){return this.renderingType===m.a.Normal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderingType",{get:function(){return this.parentContainer instanceof r.d?this.parentContainer.renderingType:m.a.Normal},enumerable:!0,configurable:!0}),e.type="item",e}(o.a)},402:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(371),r=n(372),i=function(){function t(t){this._previewFromServer=!1,this.preview=null,this.profileId=null,null!=t&&(r.e(t.preview)||(this._previewFromServer=!0),"string"!=typeof t&&this._init(t))}return Object.defineProperty(t.prototype,"previewFromServer",{get:function(){return this._previewFromServer},enumerable:!0,configurable:!0}),t.prototype.needUpdate=function(t){var e="RgbColor"===this.type,n=e&&null!=this.profileId&&this.profileId!==t;return(!e||n)&&!this.previewFromServer},t.prototype.equals=function(t,e){return void 0===e&&(e=!1),t.profileId===this.profileId&&(e||t.preview===this.preview)},t.prototype.getData=function(){return{preview:this.preview,profileId:this.profileId,type:this.type}},t.prototype._init=function(t){r.e(t.preview)||(this.preview=t.preview),r.e(t.profileId)||(this.profileId=t.profileId)},t.prototype._validateString=function(t){if(r.e(t))throw new o.b("Value must be a non-empty string")},t.prototype._validateNumber=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=255),"number"!=typeof t)throw new o.b("Value must be a number");if(t<e||t>n)throw new o.b("Value must be in range ["+e+", "+n+"]")},t.equals=function(t,e){return null==t&&null==e||null!=t&&t.equals(e)},t}()},404:function(t,e,n){"use strict";n.r(e);var o=n(430),r=n(395),i=n(523),a=n(391),s=n(524),l=n(522),u=n(442),c=n(436),h=n(467),p=n(447),f=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.storageId=this.storageId,e.width=this.width,e.height=this.height,e},t}(),d=n(452);n.d(e,"RenderingType",function(){return o.a}),n.d(e,"Container",function(){return r.a}),n.d(e,"MockupContainer",function(){return r.b}),n.d(e,"SurfaceContainer",function(){return r.d}),n.d(e,"SpotColorContainer",function(){return r.c}),n.d(e,"TextureContainer",function(){return r.e}),n.d(e,"CropMark",function(){return i.a}),n.d(e,"CropMarkTextAlignment",function(){return i.c}),n.d(e,"CropMarkText",function(){return i.b}),n.d(e,"ModelComponent",function(){return a.a}),n.d(e,"PrintArea",function(){return s.a}),n.d(e,"Product",function(){return l.a}),n.d(e,"PdfBox",function(){return u.a}),n.d(e,"SafetyLine",function(){return u.b}),n.d(e,"Surface",function(){return c.a}),n.d(e,"SurfaceMockup",function(){return h.a}),n.d(e,"Uuid",function(){return p.a}),n.d(e,"Watermark",function(){return f}),n.d(e,"ItemMask",function(){return d.a})},405:function(t,e,n){"use strict";var o=n(422),r=n(468),i=n(420),a=n(705),s=n(469),l=n(368),u=n(378),c=function(){function t(){}return t.render=function(t,e,n,o,r){if(t.frontEndRenderingReady&&o.ready)this._drawTextWhizz(t,o,r);else if(e.isLoaded)this._drawImage(t,e,n,r);else if(e.isLoading){var i=t.canvas,a=t.rectangle;i.drawWaitClock(r,new l.PointF(a.centerX,a.centerY))}},t._isBounded=function(t){return"BoundedTextItemHandler"===t.getTypeName()||"PathBoundedTextItemHandler"===t.getTypeName()},t._isResizing=function(t){var e=t.canvas;return e.isItemHandlerSelected(t)&&e.isResizing()},t._drawImage=function(t,e,n,o){var r=t.canvas,i=t.item,a=r.get_disableSmoothing(),s=r.get_screenXDpi()*r.get_zoom()/72,l=r.get_screenYDpi()*r.get_zoom()/72;if(this._isBounded(t)){var c=this._isResizing(t);if(!t.isUpdatingAfterResize){var h=c&&null!=t.startRectangle?t.startRectangle:t.rectangle;u.a.drawImage(o,e.image,h,s,l,a,null,i.opacity,n)}}else u.a.drawImage(o,e.image,t.rectangle,s,l,a,null,i.opacity,n)},t._drawTextWhizz=function(t,e,n){var o;if(this._isBounded(t)&&this._isResizing(t)&&null!=t.startRectangle){var r=l.RotatedRectangleF.fromRectangleF(t.getControlBounds());o=t.startRectangle.getTransform(r).toMatrix()}else o=t.item.transform.toMatrix();var i=t.getControlCenter();if(e.isExtended){n.save();var a=t.getControlBounds();u.a.clipPath(n,l.Path.rectangle(a.left,a.top,a.width,a.height))}try{u.a.drawText(n,e,t.item.opacity,o,i)}finally{e.isExtended&&n.restore()}},t}(),h=n(423),p=n(375),f=n(372),d=n(433),g=n(371);n.d(e,"a",function(){return m}),n.d(e,"b",function(){return _});var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(t){function e(e){var n=t.call(this,e)||this;return n._defaultWidth=10,n._currentTextImage=null,n._onCanvasChangedDelegate=null,n._textManager=null,n._isUpdatingAfterResize=!1,n._height=0,n._feUpdate=!0,n._updateTextsFunc=function(){null!=n.canvas&&n.canvas.updateTexts()},n._imageContainer=new s.a(n._onImageLoaded.bind(n)),n._allowNegativeResize=!1,n}return y(e,t),e.prototype._getSrc=function(){var t=this._imageContainer.source;return f.e(t)?this._createImageUrl():t},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"text":this.update(null,this._updateTextsFunc,!0);break;case"font":this.update(null,this._updateTextsFunc,null);break;case"underline":case"color":case"alignment":case"leading":case"tracking":case"verticalScale":case"horizontalScale":case"stroke":case"shadow":this.update();break;case"checkTextCrop":!this.frontEndRenderingReady&&e.checkTextCrop&&this.update()}"checkTextCrop"!==n&&t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.font=e.font,this.item.leading=e.leading,this.item.color=e.color,this.item.stroke=e.stroke,this.item.shadow=e.shadow,this.item.verticalScale=e.verticalScale,this.item.horizontalScale=e.horizontalScale,this.item.previewText=e.previewText,this.item.mask=e.mask,this._updateVectorMaskCenter()},Object.defineProperty(e.prototype,"currentTextImage",{get:function(){return null!=this._currentTextImage?this._currentTextImage:this._currentTextImage=new _},set:function(t){this._currentTextImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textCropped",{get:function(){return this.item.checkTextCrop?this.frontEndRenderingReady?this._textManager.isCropped:null!=this.currentTextImage&&this.currentTextImage.textCropped:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded||null!=this._textManager&&this._textManager.ready},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t},Object.defineProperty(e.prototype,"isUpdatingAfterResize",{get:function(){return this._isUpdatingAfterResize},enumerable:!0,configurable:!0}),e.prototype._getText=function(){return(this.item.isTextPlaceholder&&""===this.item.text?this.item.originalText:this.item.text).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.prototype._getFonts=function(){return f.d(this.item)},e.prototype.update=function(t,e,n){var o=this;if(this.isVisible()){var r=function(){o._afterUpdate(e)};this._frontEndRenderingEnabled?this._frontEndUpdate(t,r,n):this._update(null,t,r)}else"function"==typeof t&&t()},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,o=t.prototype.getColorData.call(this);return e.color.needUpdate(n)&&(o.color=e.color.getData()),null!=e.stroke&&e.stroke.color.needUpdate(n)&&(o.stroke=e.stroke.color.getData()),null!=e.shadow&&e.shadow.color.needUpdate(n)&&(o.shadow=e.shadow.color.getData()),null!=this.canvas&&this.canvas.viewer.frontEndTextRenderingEnabled&&e.isRichText&&(o.text=e.text),o},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem(function(t){null!=e.color&&(t.color=p.ColorFactory.createColor(e.color)),null!=e.stroke&&(t.stroke.color=p.ColorFactory.createColor(e.stroke)),null!=e.shadow&&(t.shadow.color=p.ColorFactory.createColor(e.shadow)),null!=e.text&&(t.previewText=e.text)})},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,o=e.isRichText&&null==e.previewText&&e.text.includes("color:cmyk");return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)||null!=e.stroke&&e.stroke.color.needUpdate(n)||null!=e.shadow&&e.shadow.color.needUpdate(n)||o},e.prototype._afterUpdate=function(t){"function"==typeof t&&t(),null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redrawDesign())},e.prototype._xmlToHtml=function(t){return(new DOMParser).parseFromString("<body>"+t+"</body>","text/html").getElementsByTagName("body")[0]},e.prototype._validateBeforeCallService=function(){var t=!1,e=this._getText();""!==e.trim()&&(t=""!==this._xmlToHtml(e).textContent.trim());return t},e.prototype._onValidateBeforeCallServiceFailed=function(){this._getSrc()?this._setDefaultTextControlPoints():this._updateEmptyTextControlPoints()},e.prototype._updateEmptyTextControlPoints=function(){var e=this,n=null,o=this._createDataInstance(this),r=JSON.parse(this._getDataItem());n=r.Text,""===r.text&&(r.text="a");var i=[JSON.stringify(o),r];t.prototype._callService.call(this,"Update"+this.getTypeName(),i,function(t){var o=null;"object"==typeof t&&(o=t.item,t=t.itemHandlerData),null!=o&&(o.text=n,e._applyDataItem(o,t)),e.setData(t)},function(t){window.console&&(console.error("Fail updateByService"),console.error(t))},null)},e.prototype._setDefaultTextControlPoints=function(){var t=this.item.alignment;t===i.d.Center?this._controlPoints[0].x+=(this._controlPoints[1].x-this._controlPoints[0].x)/2-this._defaultWidth/2:t===i.d.Right&&(this._controlPoints[0].x=this._controlPoints[1].x-this._defaultWidth),this._controlPoints[1].x=this._controlPoints[0].x+this._defaultWidth,this.raiseChanged();var e=this.canvas;null!=e&&(e.updateSelection(),e.redraw())},e.prototype._transformChanged=function(){var e=this;if(t.prototype._transformChanged.call(this),this.isUpdating&&this._callbacks){var n=this.item.transform.clone();this._callbacks.push(function(){e.item.setTransform(n,!0)})}},e.prototype._createImageUrl=function(){var t=this.canvas;return null==t?null:this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentTextImage.cacheFileId)?null:null!=this.currentTextImage.cacheFileId&&0!==this.currentTextImage.cacheFileId.length||null!=this.currentTextImage.base64Image&&0!==this.currentTextImage.base64Image.length?this.currentTextImage&&this.currentTextImage.base64Image?"data:image/png;base64,"+this.currentTextImage.base64Image:t.get_handlerUrl()+"/txt?f="+encodeURIComponent(this.currentTextImage.cacheFileId):null},e.prototype._updateImageUrl=function(){if(""!==this._getText().trim()&&this.isVisible()){var t=this.canvas;if(null!=t&&t.get_isInitialized()){var e=this._createImageUrl();null!=this._imageContainer.source&&e===this._imageContainer.source||(null===e?(this._imageContainer.clear(),t.redraw()):this._imageContainer.updateUrl(e))}}},e.prototype.quickUpdate=function(){this.frontEndRenderingReady||this._updateImageUrl(),this.isVisible()&&!this._imageContainer.source&&this.canvas&&!this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentTextImage.cacheFileId)&&this.update()},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype.drawItemHandler=function(t){if(null!=t&&""!==this._getText().trim()){this._hasVectorMask()&&(t.save(),this._clip(t));var e=this.item,n=this.rectangle;u.a.fillRectangle(t,n,e.fillColor.preview,e.opacity);try{var o=this.canvas.service.imageLoaderService.getImageContainerFor(this.currentTextImage.cacheFileId);if(null!=o){var r=this.canvas.service.imageLoaderService.getImageContainerRectangleFor(this.currentTextImage.cacheFileId);c.render(this,o,r,this._textManager,t)}else c.render(this,this._imageContainer,null,this._textManager,t)}catch(t){console.error(t),this.update()}var i=this._getActualBorderWidth();i>0&&(n.width+=i,n.height+=i,u.a.drawRectangle(t,n,i,e.borderColor.preview,e.opacity)),this._hasVectorMask()&&t.restore()}},e.prototype._createDataInstance=function(t){return new r.a(t)},e.prototype._onImageLoaded=function(t,e){this._isUpdatingAfterResize=!1,this._height=this.rectangle.height,null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent()},e.prototype._onResized=function(){return this._isUpdatingAfterResize=!0,t.prototype._onResized.call(this)},e.prototype._onCanvasChanged=function(){this.frontEndRenderingReady||this.update()},e.prototype._onAddedOnCanvas=function(e,n){null!=e&&e.viewer.frontEndTextRenderingEnabled&&this._initTextManager(),t.prototype._onAddedOnCanvas.call(this,e,n),null==this.canvas||this._onCanvasChangedDelegate||(this._onCanvasChangedDelegate=this._onCanvasChanged.bind(this),this.canvas.add_zoomChanged(this._onCanvasChangedDelegate))},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),e&&null!=this._onCanvasChangedDelegate&&(e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate)},e.prototype._endTransform=function(e,n){t.prototype._endTransform.call(this,e,n),e&&(this.frontEndRenderingReady?this.update(null,null,!0):n&&this.update())},Object.defineProperty(e.prototype,"_fontRegistry",{get:function(){return null!=this.canvas?this.canvas.viewer.fontRegistry:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_frontEndRenderingEnabled",{get:function(){return null!=this.canvas&&this.canvas.viewer.frontEndTextRenderingEnabled&&this._isFrontEndRenderingSupported()&&this._feUpdate},enumerable:!0,configurable:!0}),e.prototype._isFrontEndRenderingSupported=function(){return null!=this._fontRegistry&&!this._fontRegistry.checkFailedFonts(this._getFonts())&&null==this.item.shadow},Object.defineProperty(e.prototype,"frontEndRenderingReady",{get:function(){var t=null!=this._textWhizz,e=null!=this._fontRegistry&&this._fontRegistry.ready&&this._fontRegistry.containsFonts(this._getFonts()),n=!this.hasColorsToUpdate();return this._frontEndRenderingEnabled&&t&&e&&n&&!this._textManager.failed},enumerable:!0,configurable:!0}),e.prototype._initTextManager=function(){this._textManager=new a.a(this._createTextWhizzText.bind(this),this._updateTextWhizzStyle.bind(this))},e.prototype._createTextWhizzText=function(t){return this._createText(t)},e.prototype._updateTextWhizzStyle=function(t){var e=this.item;return t.fontName=e.font.postScriptName,t.fontSize=d.b(e.font.size,a.a.DEFAULT_DPI),t.fauxBold=e.font.fauxBold,t.fauxItalic=e.font.fauxItalic,t.underline=e.underline,t.fillColor=a.a.rgbToTextWhizzColor(p.ColorFactory.createColor(e.color.preview)),t.leading=e.leading,t.tracking=e.tracking,null!=e.stroke&&e.stroke.size>0&&(t.strokeColor=a.a.rgbToTextWhizzColor(p.ColorFactory.createColor(e.stroke.color.preview)),t.strokeWidth=d.b(e.stroke.size,a.a.DEFAULT_DPI)),this._updateStyle(t),t},e.prototype._frontEndUpdate=function(t,n,o){var r=this,i=h.c.makeCancelable(new Promise(function(i,a){var s=function(){"function"==typeof t&&t(),r._beforeFrontEndUpdate();try{r._textManager.updateText(o)}catch(t){return void a(t)}var s=r._measureText();s.inflate(e._renderingMargin),r._modifyItem(function(t){t.sourceRectangle=s,t.sourcePath=l.Path.rectangle(s.left,s.top,s.width,s.height),t.transform.clear({keepAngle:!0,supressOnChanged:!0}),r.controlPoints=[new l.PointF(s.left,s.top),new l.PointF(s.right,s.bottom)],r._height=s.height}),"function"==typeof n&&n(),r.canvas.redraw(),i()};if(r.frontEndRenderingReady)s();else{if(null==r._textWhizz)throw new g.f("");!function(){var t=new Array;t.push(r._fontRegistry.loadFonts(r._getFonts())),t.push(r.updateColors()),Promise.all(t).then(s).catch(function(){a()})}()}}));i.promise.catch(function(){r._update(null,t,n)}),this._updateActiveWebServiceCall(i)},e.prototype.dispose=function(){this._imageContainer.dispose(),null!=this._onCanvasChangedDelegate&&(null!=this.canvas&&this.canvas.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate),t.prototype.dispose.call(this)},e.prototype._toggleFrontEndUpdate=function(){this._feUpdate=!this._feUpdate,this.update(null,null,!0)},e._renderingMargin=1,e.typeName="BaseTextItemHandler",e}(o.a),_=function(){return function(){this.cacheFileId=null,this.base64Image=null,this.textCropped=null}}()},410:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(401),r=n(411),i=n(383),a=n(507),s=n(392),l=n(375),u=n(370),c=n(371),h=n(372),p=n(376),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(n){var o=t.call(this)||this;return o._borderWidth=1,o._fillColor=new l.RgbColor("rgba(112,112,112,1)"),o._borderColor=new l.RgbColor("rgba(0,0,0,1)"),o._altBorderColor=null,o._dash=[],o._fixedBorderWidth=!1,o.sourcePathId=null,o.sourcePathLoaded=!1,o._stubPath=null,o._pathLoadedEvent=new u.a,o.type=e.type,o.sourcePath=null!=n?n:new r.a(""),o.sourceRectangle=new i.a(0,0,10,10),o.shapePermissions=new a.a,o._ignorePermissionsChange=!0,o.manipulationPermissions.resizeGrips=new s.a(!0,!0),o.itemPermissions.itemToolbarPermissions.showEditButton=!1,o.itemPermissions.itemToolbarPermissions.showSelectButton=!1,o._ignorePermissionsChange=!1,o}return f(e,t),Object.defineProperty(e.prototype,"fixedBorderWidth",{get:function(){return this._fixedBorderWidth},set:function(t){this._fixedBorderWidth!==t&&(this._fixedBorderWidth=t,this._propertyChanged.notify(this,"fixedBorderWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){this._borderWidth!==t&&(this._borderWidth=t,this._propertyChanged.notify(this,"borderWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePath",{get:function(){return this._sourcePath},set:function(t){h.c(this._sourcePath,t)||(this._sourcePath=t,this._propertyChanged.notify(this,"sourcePath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceRectangle",{get:function(){return this._sourceRectangle},set:function(t){i.a.isEqual(this._sourceRectangle,t)||(this._sourceRectangle=t,this._propertyChanged.notify(this,"sourceRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._borderColor},set:function(t){l.Color.equals(this._borderColor,t)||(this._borderColor=t,this._propertyChanged.notify(this,"borderColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){l.Color.equals(this._fillColor,t)||(this._fillColor=t,this._propertyChanged.notify(this,"fillColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altBorderColor",{get:function(){return this._altBorderColor},set:function(t){l.Color.equals(this._altBorderColor,t)||(this._altBorderColor=t,this._propertyChanged.notify(this,"altBorderColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dash",{get:function(){return this._dash},set:function(t){p.isEqual(this._dash,t)||(this._dash=t,this._propertyChanged.notify(this,"dash"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!1,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!1,this.isRenderTypeIsNormal||(this.shapePermissions.allowChangeBorderColor=!1,this.shapePermissions.allowChangeFillColor=!1)},Object.defineProperty(e.prototype,"shapePermissions",{get:function(){return this._shapePermissions},set:function(t){if(null==t)throw new c.b("shapePermissions cannot be null");h.c(this._shapePermissions,t)||(null!=this._shapePermissions&&this._shapePermissions.propertyChanged.remove(this._onPermissionsChanged),this._shapePermissions=t,this.applyPermissionsConstrain(),this._shapePermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"shapePermissions"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.shapePermissions=null!=e._shapePermissions?e._shapePermissions.clone():null,n._stubPath=null!=e._stubPath?e._stubPath.clone():null,n.dash=p.clone(e._dash),n.altBorderColor=null!=e._altBorderColor?e._altBorderColor.clone():null,n.fillColor=null!=e._fillColor?e._fillColor.clone():null,n.borderColor=null!=e._borderColor?e._borderColor.clone():null,n.sourceRectangle=null!=e._sourceRectangle?e._sourceRectangle.clone():null,null!=e.sourcePathId?n.sourcePathId=e.sourcePathId:n.sourcePath=null!=e._sourcePath?e._sourcePath.clone():null,n.borderWidth=e._borderWidth,n.fixedBorderWidth=e.fixedBorderWidth},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["shapePermissions"].concat(e));return n.shapePermissions=this.shapePermissions.getSimplifiedObject(),null==this.sourcePathId?n.sourcePath=null!=this.sourcePath?this.sourcePath.toString():null:n.sourcePath=null,n},e.prototype._onPathLoaded=function(){this._pathLoadedEvent.notify(this)},e.prototype.getPathLoadedEvent=function(){return this._pathLoadedEvent},e.type="ShapeItem",e}(o.a)},411:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l});var o=n(387),r=n(370),i=n(383),a=n(382),s=function(){function t(t,e){this._name="",this._points=[],this._name=t?t.toUpperCase():"",this._points=e||[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.getPoint=function(t){return this._points[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this._points.length},enumerable:!0,configurable:!0}),t.prototype.transform=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).transform(t,e)},t.prototype.rotateAt=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).rotateAt(t,e)},t.prototype.translate=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).translate(t,e)},t.prototype.draw=function(t){switch(this.name){case"Z":t.closePath();break;case"M":t.moveTo(this.getPoint(0).x,this.getPoint(0).y);break;case"L":t.lineTo(this.getPoint(0).x,this.getPoint(0).y);break;case"Q":t.quadraticCurveTo(this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y);break;case"C":t.bezierCurveTo(this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,this.getPoint(2).x,this.getPoint(2).y)}},t.prototype.toString=function(){for(var t=this.name,e=0;e<this.length;e++)t+=" "+this.getPoint(e).x+" "+this.getPoint(e).y;return t},t}(),l=function(){function t(t){this._pathChangedEvent=new r.a,this._segments=[],null!=t&&this._fromString(t)}return Object.defineProperty(t.prototype,"length",{get:function(){return this._segments.length},enumerable:!0,configurable:!0}),t.prototype.addPathChanged=function(t){this._pathChangedEvent.add(t)},t.prototype.removePathChanged=function(t){this._pathChangedEvent.remove(t)},t.prototype.moveTo=function(t,e){this._segments.push(new s("M",[new o.a(t,e)])),this._pathChangedEvent.notify()},t.prototype.lineTo=function(t,e){this._segments.push(new s("L",[new o.a(t,e)])),this._pathChangedEvent.notify()},t.prototype.quadraticTo=function(t,e,n,r){this._segments.push(new s("Q",[new o.a(t,e),new o.a(n,r)])),this._pathChangedEvent.notify()},t.prototype.cubicTo=function(t,e,n,r,i,a){this._segments.push(new s("C",[new o.a(t,e),new o.a(n,r),new o.a(i,a)])),this._pathChangedEvent.notify()},t.prototype.close=function(){this._segments.push(new s("Z")),this._pathChangedEvent.notify()},t.prototype.transform=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].transform(t,e)},t.prototype.rotateAt=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].rotateAt(t,e)},t.prototype.translate=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].translate(t,e)},t.prototype.draw=function(t){if(t){t.beginPath();for(var e=0;e<this.length;e++)this._segments[e].draw(t)}},t.prototype.toString=function(){for(var t="",e=0;e<this.length;e++)t+=this._segments[e].toString(),e<this._segments.length-1&&(t+=" ");return t},t.prototype.clone=function(){return new t(this.toString())},t.prototype.equals=function(t){return this.isEqual(t)},t.prototype.isEqual=function(t){return null!=t&&this.toString()===t.toString()},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.style.position="absolute",t.style.visibility="hidden";var e=document.createElementNS("http://www.w3.org/2000/svg","path");t.appendChild(e),e.setAttribute("d",this.toString());var n=document.querySelector("body");n.appendChild(t);var o=e.getBBox(),r=new i.a(o.x,o.y,o.width,o.height);return n.removeChild(t),r},enumerable:!0,configurable:!0}),t.prototype._fromString=function(t){for(var e=t.split(" "),n=0;n<e.length;){for(var r=e[n],i=n+1,a=[];i<e.length;){var l=parseFloat(e[i]);if(isNaN(l)||!isFinite(l))break;a.push(l),i++}for(var u=0,c=[];u<a.length;)c.push(new o.a(a[u],a[u+1])),u+=2;var h=new s(r,c);this._segments.push(h),n=i}},t.rectangle=function(e,n,o,r){var i=new t;return i.moveTo(e,n),i.lineTo(e+o,n),i.lineTo(e+o,n+r),i.lineTo(e,n+r),i.lineTo(e,n),i.close(),i},t.ellipse=function(e,n,o,r){var i=o/2,a=r/2,s=new t;return s.moveTo(e,n+a),s.cubicTo(e,n+a-.5517*a,e+i-.5517*i,n,e+i,n),s.cubicTo(e+i+.5517*i,n,e+o,n+a-.5517*a,e+o,n+a),s.cubicTo(e+o,n+a+.5517*a,e+i+.5517*i,n+r,e+i,n+r),s.cubicTo(e+i-.5517*i,n+r,e,n+a+.5517*a,e,n+a),s.close(),s},t.roundedRectangle=function(e,n,o,r,i){if(null==i)return t.rectangle(e,n,o,r);var s=new t,l=e,u=n,c=i[0].width,h=i[0].height,p=i[1].width,f=i[1].height,d=i[2].width,g=i[2].height,y=i[3].width,m=i[3].height;return(Object(a.e)(c,0)||Object(a.e)(h,0))&&(c=h=0),(Object(a.e)(p,0)||Object(a.e)(f,0))&&(p=f=0),(Object(a.e)(d,0)||Object(a.e)(g,0))&&(d=g=0),(Object(a.e)(y,0)||Object(a.e)(m,0))&&(y=m=0),s.moveTo(l+c,u),Object(a.e)(c+p,o)||s.lineTo(l+o-p,u),Object(a.e)(p,0)||Object(a.e)(f,0)||s.cubicTo(l+o-p*(1-.5517),u,l+o,u+f*(1-.5517),l+o,u+f),Object(a.e)(f+g,r)||s.lineTo(l+o,u+r-g),Object(a.e)(d,0)||Object(a.e)(g,0)||s.cubicTo(l+o,u+r-g*(1-.5517),l+o-d*(1-.5517),u+r,l+o-d,u+r),Object(a.e)(d+y,o)||s.lineTo(l+y,u+r),Object(a.e)(y,0)||Object(a.e)(m,0)||s.cubicTo(l+y*(1-.5517),u+r,l,u+r-m*(1-.5517),l,u+r-m),Object(a.e)(m+h,r)||s.lineTo(l,u+h),Object(a.e)(c,0)||Object(a.e)(h,0)||s.cubicTo(l,u+h*(1-.5517),l+c*(1-.5517),u,l+c,u),s.close(),s},t}()},412:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(370),r=n(382),i=n(502),a=function(){function t(t,e,n,r,i){this._angle=0,this._scaleX=0,this._scaleY=0,this._translateX=0,this._translateY=0,this._transformChangedEvent=new o.a,this._angle=i||0,this._scaleX=t||0===t?t:1,this._scaleY=e||0===t?e:1,this._translateX=n||0,this._translateY=r||0}return t.prototype.addTransformChanged=function(t){this._transformChangedEvent.add(t)},t.prototype.removeTransformChanged=function(t){this._transformChangedEvent.remove(t)},t.prototype._setProperty=function(t,e,n){void 0===n&&(n=!1);var o="_"+t;this[o]!==e&&(this[o]=e,n||this._transformChangedEvent.notify())},Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),t.prototype.setAngle=function(t,e){this._setProperty("angle",t,e)},Object.defineProperty(t.prototype,"scaleX",{get:function(){return this._scaleX},enumerable:!0,configurable:!0}),t.prototype.setScaleX=function(t,e){this._setProperty("scaleX",t,e)},Object.defineProperty(t.prototype,"scaleY",{get:function(){return this._scaleY},enumerable:!0,configurable:!0}),t.prototype.setScaleY=function(t,e){this._setProperty("scaleY",t,e)},Object.defineProperty(t.prototype,"translateX",{get:function(){return this._translateX},enumerable:!0,configurable:!0}),t.prototype.setTranslateX=function(t,e){this._setProperty("translateX",t,e)},Object.defineProperty(t.prototype,"translateY",{get:function(){return this._translateY},enumerable:!0,configurable:!0}),t.prototype.setTranslateY=function(t,e){this._setProperty("translateY",t,e)},t.prototype.move=function(t,e){var n=this.clone();null!=t&&this.setTranslateX(this._translateX+t,!0),null!=e&&this.setTranslateY(this._translateY+e,!0),n.isEqual(this)||this._transformChangedEvent.notify()},t.prototype.rotate=function(t){null==t||Object(r.e)(t,0)||(this._angle+=t,this._transformChangedEvent.notify())},t.prototype.clone=function(){return new t(this._scaleX,this._scaleY,this._translateX,this._translateY,this._angle)},t.prototype.isEqual=function(t,e){return null!=t&&Object(r.e)(this._scaleX,t._scaleX,e)&&Object(r.e)(this._scaleY,t._scaleY,e)&&Object(r.e)(this._translateX,t._translateX,e)&&Object(r.e)(this._translateY,t._translateY,e)&&Object(r.e)(this._angle,t._angle,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&t.isEqual(e,n)},t.prototype.toMatrix=function(){var t=this._angle,e=Math.sin(Object(r.c)(t)),n=Math.cos(Object(r.c)(t));return new i.a(n*this._scaleX,e*this._scaleX,-e*this._scaleY,n*this._scaleY,this._translateX,this._translateY)},t.prototype.clear=function(t){var e=void 0===t?{}:t,n=e.keepAngle,o=void 0!==n&&n,r=e.supressOnChanged,i=void 0!==r&&r;this._scaleX=1,this._scaleY=1,this._translateX=0,this._translateY=0,o||(this._angle=0),i||this._transformChangedEvent.notify()},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return Object(r.e)(this._scaleX,1)&&Object(r.e)(this._scaleY,1)&&Object(r.e)(this._translateX,0)&&Object(r.e)(this._translateY,0)&&Object(r.e)(this._angle,0)},enumerable:!0,configurable:!0}),t}()},413:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(370),r=n(434),i=n(535),a=n(389),s=n(372),l=n(461),u=n(530),c=n(450),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function s(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}l((o=o.apply(t,e||[])).next())})},f=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(t){function e(e){var n=t.call(this,e)||this;return n._maxImageSize=4e6,n._imageResizedEvent=new o.b,n._qualityChangeContainer=null,n._qualityChangeScaleBar=null,n._qualityChangeInfoBar=null,n.item.source.type===a.ImageItem.ImageSourceType.Url&&n.loadImage(null,{downloadToServerCache:!0,actualSize:n.item.source.actualSize,saveAspectRatio:n.item.source.saveAspectRatio}),n}return h(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n);var o=null==this.item.source.id&&null!=this.item.source.url;this.item.source.id=e.source.id,this.item.source.width=e.source.width,this.item.source.height=e.source.height,this.item.source.isVector=e.source.isVector,this.item.source.pageIndex=e.source.pageIndex,this.item.source.url=e.source.url,o&&(this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder),this.update())},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"source":this._sourceUrl=null,this.update(),null==this.item.source.id&&null!=this.item.source.url&&this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder);var o=this.canvas;null!=o&&o.updateFloatingItemToolbar(this);break;case"fillColor":this.item.effect===r.c.Colorize&&this.update();case"effect":case"overlayEffect":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"needToDownloadImage",{get:function(){return this._needToDownloadImage},set:function(t){this._needToDownloadImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"takeIntoAccountImageDpi",{get:function(){return this._takeIntoAccountImageDpi},set:function(t){this._takeIntoAccountImageDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceImageHorizontalResolution",{get:function(){return this._sourceImageHorizontalResolution},set:function(t){this._sourceImageHorizontalResolution=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceImageVerticalResolution",{get:function(){return this._sourceImageVerticalResolution},set:function(t){this._sourceImageVerticalResolution=t},enumerable:!0,configurable:!0}),e.prototype.loadImage=function(t,e,n){return void 0===e&&(e={}),p(this,void 0,void 0,function(){var o=this;return f(this,function(r){switch(r.label){case 0:return"string"!=typeof t&&this.item.source.type!==a.ImageItem.ImageSourceType.Url&&console.error("Invalid sourceUrl: "+t),e.downloadToServerCache?(this._needToDownloadImage=!0,this._actualSize=null!=e.actualSize&&e.actualSize,this._saveAspectRatio=null==e.saveAspectRatio||e.saveAspectRatio,this._sourceUrl=t,null==t&&(this._sourceUrl=this.item.source.url),[4,new Promise(function(t){return o.update(null,t)})]):[3,2];case 1:return r.sent(),null!=n&&n(),[3,3];case 2:this._needToDownloadImage=!1,this._setSrc(t),r.label=3;case 3:return[2,this.item.source.id]}})})},e.prototype.loadImageFromImagePicker=function(t,e,n){var o=this;return l.e({url:s.g(t,"api/imagepicker/GetSourceImageMetadata"),type:l.b.post,headers:[l.a.json],data:JSON.stringify(e)}).then(function(t){var e=new a.ImageMetaData(t.value);o.item.source.setIdWithOrigin(e.storageId,e.origin),o.item.source.width=e.size.width,o.item.source.height=e.size.height,o.name=e.name,o.item.source.isVector=e.isVector,o.item.source.pageIndex=e.pageIndex,o.item.sourceRectangle=n,o.updateRectangle()})},e.prototype.showEditButton=function(){return t.prototype.showEditToolbarButton.call(this)&&!this.item.source.isVector},e.prototype.update=function(t,e){var n=this;if(void 0!=this._sourceUrl&&null!=this._sourceUrl)this._update([this._actualSize,this._saveAspectRatio,this._sourceUrl],t,e),null==this.item.source.id&&null!=this.item.source.url&&this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder);else if(this.item.source.type===a.ImageItem.ImageSourceType.Url)this.loadImage(null,{downloadToServerCache:!0,actualSize:this.item.source.actualSize,saveAspectRatio:this.item.source.saveAspectRatio}).then(function(){null!=n.canvas&&n.canvas.updateSelection()});else{this.quickUpdate();var o=this.get_canvas();null!=o&&o.updateSelection()}},e.prototype._createDataInstance=function(t){return new i.a(t)},e.prototype._updateImageUrl=function(){var e=this,n=this.get_canvas();if(null!=n&&this.isVisible()){if(null==this.item.source.id||null!=this.item.source.width&&null!=this.item.source.height)return void t.prototype._updateImageUrl.call(this);n.service.GetImageSize(this.item.source.id,this.item.source.pageIndex,function(n){if(e.item.source.width=n.width,e.item.source.height=n.height,e._saveAspectRatio){var o=e.item.source.width/e.item.source.height;e.width<e.height?e.height=e.width/o:e.width=e.height*o}t.prototype._updateImageUrl.call(e)},function(t){window.console&&(console.error("Unable GetimageSize of image with id "+e.item.source.id),console.error(t))})}},e.prototype._createImageUrl=function(){var t=this.item.source.id;if(null==t)return null;var e,n,o=this.get_canvas();if(null==o)return null;var r=o.get_zoom(),i=r*o.get_screenXDpi()/72,a=r*o.get_screenYDpi()/72,s=this.rectangle;e=s.width*i,n=s.height*a,this.item.source.isVector||(e=Math.min(e,this.item.source.width),n=Math.min(n,this.item.source.height));var l=this._maxImageSize/e/n;return l<1&&(e*=l=Math.sqrt(l),n*=l),e=Math.max(1,Math.round(e)),n=Math.max(1,Math.round(n)),this._pixelWidth=e,this._pixelHeight=n,u.a.getImageUrl(o,t,e,n,!1,this.item.effect,!1,this.item.overlayEffect,this.item.source.pageIndex,!this.isNormalRenderingType,this.item.fillColor)},e.prototype.addImageResized=function(t){this._imageResizedEvent.add(t)},e.prototype.removeImageResized=function(t){this._imageResizedEvent.remove(t)},e.prototype._onResized=function(){var e=this.rectangle;return this._imageResizedEvent.notify(this,{Width:e.width,Height:e.height}),this.update(),t.prototype._onResized.call(this)},e.prototype._getDrawingFillColor=function(){return this.item.effect===r.c.Colorize?c.a.createColor("rgba(0,0,0,0)"):this.item.fillColor},Object.defineProperty(e.prototype,"qualityChangeScaleBar",{get:function(){return this._qualityChangeScaleBar},set:function(t){this._qualityChangeScaleBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeInfoBar",{get:function(){return this._qualityChangeInfoBar},set:function(t){this._qualityChangeInfoBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeContainer",{get:function(){return this._qualityChangeContainer},set:function(t){this._qualityChangeContainer=t},enumerable:!0,configurable:!0}),e.prototype.setQualityChangeScaleBarWidth=function(t){null!=this._qualityChangeScaleBar&&(t=Math.max(0,t),t=Math.min(100,t),this._qualityChangeScaleBar.style.width=t+"%")},e.prototype.setQualityChangeInfoBarText=function(t){null!=this._qualityChangeInfoBar&&(this._qualityChangeInfoBar.innerText=t)},e.prototype.setBadToWarningChangeScaleBarClass=function(){var t=this.get_canvas();if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToWarningChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var o=t.qualityWarningToGoodChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityNoAnimationChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setWarningToGoodChangeScaleBarClass=function(){var t=this.get_canvas();if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityWarningToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var o=t.qualityBadToWarningChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityNoAnimationChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setBadToGoodChangeScaleBarClass=function(){var t=this.get_canvas();if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var o=t.qualityBadToWarningChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,!1);var r=t.qualityWarningToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityNoAnimationChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.updateRectangle=function(e,n,o,r){t.prototype.updateRectangle.call(this,e,n,o,this.item.source.width,this.item.source.height,r)},e.typeName="ImageItemHandler",e}(r.b)},414:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o=n(370),r=n(415),i=n(375),a=n(368),s=n(378),l=n(416),u=n(461),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function s(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}l((o=o.apply(t,e||[])).next())})},p=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=function(t){function e(e,n){var r=t.call(this,null,null,null,null,n)||this;return r._transformedPath=null,r._originalPathId=null,r._isLoadingPath=!1,r._isLoadedPath=!1,r.originalPath=null!=e?e:new a.Path(""),r._addedOnCanvasEvent=new o.a,null!=n&&null!=n.sourcePathId&&r.setOriginalPathId(n.sourcePathId),r._updateControlPoints(),r._allowNegativeResize=!1,r}return c(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return t.prototype._getItem.call(this)},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.fillColor=e.fillColor,this.item.borderColor=e.borderColor,this.item.sourcePath=e.sourcePath,this.item.altBorderColor=e.altBorderColor,this.item.borderWidth=e.borderWidth,this.item.dash=e.dash,this.item.fixedBorderWidth=e.fixedBorderWidth},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"fillColor":case"borderColor":case"altBorderColor":this.update(),null!=this.canvas&&this.canvas.redraw();case"dash":break;case"fixedBorderWidth":case"borderWidth":null!=this.get_canvas()&&this.get_canvas().updateSelection();break;case"sourceRectangle":this.originalPath=a.Path.rectangle(this.item.sourceRectangle.left,this.item.sourceRectangle.top,this.item.sourceRectangle.width,this.item.sourceRectangle.height),this._controlPoints=[new a.PointF(this.item.sourceRectangle.left,this.item.sourceRectangle.top),new a.PointF(this.item.sourceRectangle.right,this.item.sourceRectangle.bottom)]}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.update=function(e,n){"function"==typeof e?this.isVisible()?t.prototype._update.call(this,null,e,n):e():this.updateColors()},e.prototype._setVisible=function(e){t.prototype._setVisible.call(this,e),this.isVisible()&&this.update()},e.prototype._getActualDash=function(){var t=this.item.dash;if(null==t)return t;var e=this.get_canvas(),n=t.slice(0);if(n.length>0&&this.item.fixedBorderWidth&&null!=e)for(var o=0;o<n.length;o++)n[o]/=e.get_zoom();return n},Object.defineProperty(e.prototype,"originalPath",{get:function(){return this.item.sourcePath},set:function(t){this.item.sourcePath=t,this._isLoadedPath=!0},enumerable:!0,configurable:!0}),e.prototype._updateControlPoints=function(){if(null!=this.item.sourcePath){var t=this.item.sourcePath.bounds;this.controlPoints=[new a.PointF(t.left,t.top),new a.PointF(t.right,t.bottom)]}},e.prototype.getOriginalPathId=function(){return this._originalPathId},e.prototype.setOriginalPathId=function(t){return h(this,void 0,void 0,function(){var e,n,o,r;return p(this,function(i){switch(i.label){case 0:return this._originalPathId=t,null==this._originalPathId?[2]:(this._isLoadingPath=!0,this._isLoadedPath=!1,[4,this._waitAddOnCanvas()]);case 1:i.sent(),e=this.canvas.get_handlerUrl(),i.label=2;case 2:return i.trys.push([2,4,5,6]),[4,u.e({type:u.b.get,url:e+"/pth?f="+this._originalPathId,headers:[u.a.text]})];case 3:return n=i.sent(),o=new a.Path(n.value),this.originalPath=o,this._updateControlPoints(),this._isLoadedPath=!0,[3,6];case 4:return r=i.sent(),console.error("Unable to load content path. Reason: "+r),this._isLoadedPath=!1,[3,6];case 5:return this._isLoadingPath=!1,[7];case 6:return this.canvas.redraw(),[2]}})})},e.prototype._waitAddOnCanvas=function(){return h(this,void 0,void 0,function(){var t=this;return p(this,function(e){switch(e.label){case 0:return null!=this.get_canvas()?[2]:[4,new Promise(function(e){var n=function(){e(),t._addedOnCanvasEvent.remove(n)};t._addedOnCanvasEvent.add(n)})];case 1:return e.sent(),[2]}})})},e.prototype._getActualBorderWidth=function(){var t=this.item.borderWidth,e=this.get_canvas();return this.item.fixedBorderWidth&&null!=e&&(t/=e.get_zoom()),t},e.prototype._getBoundsMargin=function(){return this._getActualBorderWidth()},e.prototype._getTransformedPath=function(){var t=this.getControlCenter(),e=this.item.sourcePath.clone();return e.transform(this.item.transform,t),e},e.prototype._createDataInstance=function(t){return new l.a(t)},e.prototype.drawItemHandler=function(t){if(null!=t)if(this._isLoadingPath||!this._isLoadedPath)this.get_canvas().drawWaitClock(t,this.rectangle.center);else{var e=this._getActualDash();(this.isNormalRenderingType||0===this.item.fillColor.alpha)&&this.item.fillColor.preview;this._hasVectorMask()&&(t.save(),this._clip(t));var n=this.item.altBorderColor;if(n&&null!=e&&e.length>0){var o=e.slice(0);o.unshift(0),o.push(0),s.a.path(t,this.item.sourcePath,this.getControlCenter(),this.item.transform,this.item.fillColor.preview,this._getActualBorderWidth(),n.preview,this.item.opacity,o)}(this.isNormalRenderingType||0===this.item.borderColor.alpha)&&this.item.borderColor.preview,this.isNormalRenderingType&&this.item.opacity;s.a.path(t,this.item.sourcePath,this.getControlCenter(),this.item.transform,this.item.fillColor.preview,this._getActualBorderWidth(),this.item.borderColor.preview,this.item.opacity,e),this._hasVectorMask()&&t.restore()}},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,o=t.prototype.getColorData.call(this);return e.fillColor.needUpdate(n)&&(o.fill=e.fillColor.getData()),e.borderColor.needUpdate(n)&&(o.border=e.borderColor.getData()),null!=e.altBorderColor&&e.altBorderColor.needUpdate(n)&&(o.altBorder=e.altBorderColor.getData()),o},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem(function(t){null!=e.fill&&(t.fillColor=i.ColorFactory.createColor(e.fill)),null!=e.border&&(t.borderColor=i.ColorFactory.createColor(e.border)),null!=e.altBorder&&(t.altBorderColor=i.ColorFactory.createColor(e.altBorder))})},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null;return t.prototype.hasColorsToUpdate.call(this)||e.fillColor.needUpdate(n)||e.borderColor.needUpdate(n)||null!=e.altBorderColor&&e.altBorderColor.needUpdate(n)},e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),this._addedOnCanvasEvent.notify()},e.typeName="ShapeItemHandler",e}(r.a)},415:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(370),r=n(368),i=n(545),a=n(437),s=n(378),l=n(376),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(t){function e(e,n,i,a,s){var u=t.call(this,s)||this;u.floatingItemToolbar=null,u.selectToolbarButton=null,u.deleteToolbarButton=null,u.editToolbarButton=null,u._doubleClickEvent=new o.b,u._clickEvent=new o.b,u._deleteToolbarButtonClickEvent=new o.b,u._editToolbarButtonClickEvent=new o.b,u._selectToolbarButtonClickEvent=new o.b,u._violationWarningButtonClick=new o.b,u._violationWarningButtonClickEvent=new o.b;var c=e||0,h=n||0,p=i||0,f=a||0;return u._controlPoints=[new r.PointF(c,h),new r.PointF(c+p,h+f)],u._allowNegativeResize=!1,u._selectionTolerance=0,u.floatingItemToolbar=null,u.selectToolbarButton=null,u.deleteToolbarButton=null,u.editToolbarButton=null,u._deleteToolbarButtonClickHandler=u._onDeleteToolbarButtonClick.bind(u),u._editToolbarButtonClickHandler=u._onEditToolbarButtonClick.bind(u),u._selectToolbarButtonClickHandler=u._onSelectToolbarButtonClick.bind(u),u._throttleSizeChanging=l.throttle(function(){this.raiseChanging()},100),u._violationWarningButton=null,u._violationWarningButtonClickHandler=u._onViolationWarningButtonClick.bind(u),u._violationContainer=null,u._updateVectorMaskCenter(),u}return u(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"opacity":case"transform":break;case"locked":case"visible":this._updateVisibility();break;case"textWrappingMode":null!=this.canvas&&this.canvas.updateTexts();break;case"mask":this._updateVectorMaskCenter()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"allowNegativeResize",{get:function(){return this._allowNegativeResize},enumerable:!0,configurable:!0}),e.prototype._getBoundsMargin=function(){return 0},e.prototype.getControlBounds=function(){var t=Math.max(this._controlPoints[0].x,this._controlPoints[1].x),e=Math.max(this._controlPoints[0].y,this._controlPoints[1].y),n=Math.min(this._controlPoints[0].x,this._controlPoints[1].x),o=Math.min(this._controlPoints[0].y,this._controlPoints[1].y),i=t-n,a=e-o;return new r.RectangleF(n,o,i,a)},e.prototype.getControlCenter=function(){var t=this.getControlBounds(),e=t.left+t.width/2,n=t.top+t.height/2;return new r.PointF(e,n)},e.prototype._getRectangle=function(){var t=r.RotatedRectangleF.fromRectangleF(this.getControlBounds());return t.setTransform(this.item.transform),t},Object.defineProperty(e.prototype,"rectangle",{get:function(){return this._getRectangle()},enumerable:!0,configurable:!0}),e.prototype.setRectangle=function(t,e){var n=r.RotatedRectangleF.fromRectangleF(this.getControlBounds()),o=t.getTransform(n);this.item.setTransform(o,e)},Object.defineProperty(e.prototype,"bounds",{get:function(){var t=this.rectangle,e=this._getBoundsMargin();return t.width+=t.width>0?e:-e,t.height+=t.height>0?e:-e,t.bounds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.item.transform.angle},set:function(t){this.item.transform.setAngle(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rectangle.height},set:function(t){var e=this.rectangle;e.height=t,this.setRectangle(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rectangle.width},set:function(t){var e=this.rectangle;e.width=t,this.setRectangle(e)},enumerable:!0,configurable:!0}),e.prototype.setLocation=function(t){var e=this.rectangle;e.location=t,this.setRectangle(e)},Object.defineProperty(e.prototype,"startRectangle",{get:function(){return null!=this._startRectangle?this._startRectangle:null},enumerable:!0,configurable:!0}),e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),null!=e&&(null!=this._contentType&&this._contentType!==a.a.NotContent||(e.addFloatingItemToolbar(this),e.addViolationContainer(this)))},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),null!=e&&(e.removeFloatingItemToolbar(this),e.removeViolationContainer(this))},e.prototype.update=function(){this.updateColors(),this._updateDeleteAndEditGroup(),this._updateViolationContainersVisibility()},e.prototype.hitTest=function(t){return this.canvas.hitTestSelection(this._getHighlightRectangle(),t)},e.prototype._transformRectangle=function(t,n,o){if(void 0===o&&(o=!1),null!=t&&null!=n&&null!=this._startRectangle){var r;if(this._startRectangle.isEqual(t))r=n.clone();else{var i=this._startRectangle.clone();r=e.transformRectangleByTwoRectanglesDiff(i,t,n)}this.setRectangle(r,!0);var a=this.canvas;null!=a&&a.updateFloatingItemToolbar(this),this.updateViolationContainerPosition(),this._throttleSizeChanging()}},e.prototype._startTransform=function(){this._startRectangle=this.rectangle;var t=this.canvas;null!=t&&t.updateViolationContainer(this,!1)},e.prototype._endTransform=function(t,e){t&&(e||null!=this._startRectangle)&&this._itemPropertyChangedEvent.notify(this,"transform"),t&&e||delete this._startRectangle;var n=this.canvas;null!=n&&n.updateFloatingItemToolbar(this),this.updateViolationContainerPosition()},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this);var e=this.canvas;null!=e&&e.updateFloatingItemToolbar(this),this.updateViolationContainerPosition()},e.prototype._onResized=function(){return delete this._startRectangle,!0},e.prototype.dispatchDoubleClickEvent=function(t){this._doubleClickEvent.notify(t,this)},e.prototype.addDoubleClick=function(t){this._doubleClickEvent.add(t)},e.prototype.removeDoubleClick=function(t){this._doubleClickEvent.remove(t)},e.prototype.dispatchClickEvent=function(t){this._clickEvent.notify(t)},e.prototype.addClick=function(t){this._clickEvent.add(t)},e.prototype.removeClick=function(t){this._clickEvent.remove(t)},e.prototype.drawHighlight=function(t){var e=this.canvas.get_mul(),n=this._getHighlightRectangle();s.a.rectangle(t,n,this.canvas.selectionWidth/e,this.canvas.selectionColor)},e.prototype._getHighlightRectangle=function(){var t=this.rectangle,e=parseInt(this._getBoundsMargin().toString());return t.width+=t.width>=0?e:-e,t.height+=t.height>=0?e:-e,t},e.prototype.getSelectionRectangle=function(){return this.rectangle},e.prototype.getBorderMargin=function(){return this._getBoundsMargin()/2},e.prototype.getSelectionTolerance=function(){return this._selectionTolerance},e.prototype.addDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.add(t)},e.prototype.removeDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.remove(t)},e.prototype._onDeleteToolbarButtonClick=function(){this._deleteToolbarButtonClickEvent.notify(this)},e.prototype.showDeleteToolbarButton=function(){return this.get_permissions().get_allowDelete()&&this.get_permissions().get_showDeleteToolbarButton()},e.prototype.addEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.add(t)},e.prototype.removeEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.remove(t)},e.prototype._onEditToolbarButtonClick=function(){this._editToolbarButtonClickEvent.notify(this)},e.prototype.showEditToolbarButton=function(){return this.get_permissions().get_showEditToolbarButton()},e.prototype.addSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.add(t)},e.prototype.removeSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.remove(t)},e.prototype._onSelectToolbarButtonClick=function(){this._selectToolbarButtonClickEvent.notify(this)},e.prototype.showSelectToolbarButton=function(){return this.get_permissions().get_showSelectToolbarButton()},e.prototype._updateVisibility=function(){this._updateDeleteAndEditGroup(),this._updateViolationContainersVisibility()},e.prototype._updateDeleteAndEditGroup=function(){var t=this.canvas;null!=t&&t.updateFloatingItemToolbar(this)},e.prototype._onViolationWarningButtonClick=function(t){this._violationWarningButtonClick.notify(this,t),t.preventDefault()},e.prototype._updateViolationContainersVisibility=function(){var t=this.canvas;null!=t&&t.updateViolationContainer(this)},e.prototype.updateViolationContainerPosition=function(){var t=this.canvas;null!=t&&t.updateViolationContainerPosition(this)},e.prototype.isGoodViolationIcon=function(){var t=this.canvas;if(null==this._violationWarningButton||null==t||!this.isVisible())return!1;var e=t.goodViolationIconCssClass;return this._violationWarningButton.classList.contains(e)},e.prototype.setGoodViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isGoodViolationIcon())){var n=e.goodViolationIconCssClass,o=e.warningViolationIconCssClass,r=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(o),this._violationWarningButton.classList.remove(r),this._violationWarningButton.classList.add(n),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isWarningViolationIcon=function(){var t=this.canvas;if(null==this._violationWarningButton||null==t||!this.isVisible())return!1;var e=t.warningViolationIconCssClass;return this._violationWarningButton.classList.contains(e)},e.prototype.setWarningViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isWarningViolationIcon())){var n=e.goodViolationIconCssClass,o=e.warningViolationIconCssClass,r=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(n),this._violationWarningButton.classList.remove(r),this._violationWarningButton.classList.add(o),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isBadViolationIcon=function(){var t=this.canvas;if(null==this._violationWarningButton||null==t||!this.isVisible())return!1;var e=t.badViolationIconCssClass;return this._violationWarningButton.classList.contains(e)},e.prototype.setBadViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isBadViolationIcon())){var n=e.goodViolationIconCssClass,o=e.warningViolationIconCssClass,r=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(n),this._violationWarningButton.classList.remove(o),this._violationWarningButton.classList.add(r),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isNoneViolationIcon=function(){var t=this.canvas;if(null==this._violationWarningButton||null==t||!this.isVisible())return!1;var e=t.goodViolationIconCssClass,n=t.warningViolationIconCssClass,o=t.badViolationIconCssClass,r=this._violationWarningButton.classList.contains(e)||this._violationWarningButton.classList.contains(n)||this._violationWarningButton.classList.contains(o);return"hidden"===this._violationWarningButton.style.visibility||!r},e.prototype.setNoneViolationIcon=function(){var t=this.canvas;if(null!=this._violationWarningButton&&null!=t&&this.isVisible()){var e=t.goodViolationIconCssClass,n=t.warningViolationIconCssClass,o=t.badViolationIconCssClass;this._violationWarningButton.classList.remove(e),this._violationWarningButton.classList.remove(n),this._violationWarningButton.classList.remove(o),this._violationWarningButton.style.visibility="hidden"}},e.prototype.addViolationWarningButtonClick=function(t){this._violationWarningButtonClick.add(t)},e.prototype.removeViolationWarningButtonClick=function(t){this._violationWarningButtonClick.remove(t)},e.prototype.getDeleteToolbarButtonClickHandler=function(){return this._deleteToolbarButtonClickHandler},e.prototype.getEditToolbarButtonClickHandler=function(){return this._editToolbarButtonClickHandler},e.prototype.getSelectToolbarButtonClickHandler=function(){return this._selectToolbarButtonClickHandler},e.prototype.getViolationWarningButton=function(){return this._violationWarningButton},e.prototype.setViolationWarningButton=function(t){this._violationWarningButton=t},e.prototype.getViolationWarningButtonClickHandler=function(){return this._violationWarningButtonClickHandler},e.prototype.getViolationContainer=function(){return this._violationContainer},e.prototype.setViolationContainer=function(t){this._violationContainer=t},e.prototype.getViolationWarningButtonElement=function(){return this._violationWarningButton},e.transformRectangleByTwoRectanglesDiff=function(t,e,n){var o=n.getTransform(e),i=o.angle,a=o.scaleX,s=o.scaleY;if(Object(r.EqualsOfFloatNumbers)(n.angle,0)||t.rotateAt(-n.angle,e.center),Object(r.EqualsOfFloatNumbers)(a,1)&&Object(r.EqualsOfFloatNumbers)(s,1))t.centerX+=o.translateX,t.centerY+=o.translateY;else{t.width=t.width*a,t.height=t.height*s,t.centerX=n.centerX+(t.centerX-e.centerX)*a,t.centerY=n.centerY+(t.centerY-e.centerY)*s}if(Object(r.EqualsOfFloatNumbers)(n.angle,0)||t.rotateAt(n.angle,n.center),!Object(r.EqualsOfFloatNumbers)(i,0)){var l=t.center;l.rotateAt(i,e.center),t.angle=t.angle+i,t.center=l}return t},e.prototype._getPrintAreaBounds=function(){if(null==this.layer||null==this.layer.container.parentComponent)return null;var t=this.layer.container.parentComponent;return null==t.printAreas||t.printAreas.length<1?null:t.printAreas.get(0).bounds},e.prototype.getTransformedRectangle=function(t){void 0===t&&(t=!0);var e=this.rectangle,n=this._getPrintAreaBounds();return null!=n&&t&&(e.location=e.location.translate(-n.left,-n.top)),e},e.prototype.setTransformedRectangle=function(t){this.setRectangle(t)},e.prototype._clip=function(t){if(this._hasVectorMask()){var e=this._getTransformedClippingPath();s.a.clipPath(t,e)}},e.prototype._updateVectorMaskCenter=function(){this._hasVectorMask()?this._vectorMaskCenter=r.RotatedRectangleF.fromRectangleF(this.item.mask.vectorMask.bounds).center:this._vectorMaskCenter=null},e.prototype._getTransformedClippingPath=function(){if(!this._hasVectorMask()||null==this._vectorMaskCenter)return null;var t=this.item.mask.vectorMask.clone(),e=this.item.transform.clone(),n=this._vectorMaskCenter,o=this.getControlCenter();if(0!==e.angle&&(t.rotateAt(e.angle,o),e.setAngle(0,!0)),!Object(r.EqualsOfFloatNumbers)(e.scaleX,1)||!Object(r.EqualsOfFloatNumbers)(e.scaleY,1)){var i=n.x-o.x,a=n.y-o.y;o.translate(e.translateX,e.translateY),e.setTranslateX(o.x+i*e.scaleX-n.x),e.setTranslateY(o.y+a*e.scaleY-n.y)}return t.transform(e,n),t},e.prototype._hasVectorMask=function(){return null!=this.item.mask&&null!=this.item.mask.vectorMask},e.typeName="BaseRectangleItemHandler",e}(i.a)},416:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(466),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="ShapeHandlerData",n}return r(e,t),e.prototype.applyState=function(e,n){t.prototype.applyState.call(this,e,n)},e}(o.a)},419:function(t,e,n){"use strict";var o;n.d(e,"a",function(){return o}),function(t){t[t.None=0]="None",t[t.Square=1]="Square",t[t.Tight=2]="Tight"}(o||(o={}))},420:function(t,e,n){"use strict";var o,r,i,a,s;n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),function(t){t[t.ShrinkToContentWidth=0]="ShrinkToContentWidth",t[t.StretchToContentWidth=1]="StretchToContentWidth",t[t.ShrinkOrStretchToContentWidth=2]="ShrinkOrStretchToContentWidth",t[t.ShrinkToContentHeight=3]="ShrinkToContentHeight",t[t.StretchToContentHeight=4]="StretchToContentHeight",t[t.ShrinkOrStretchToContentHeight=5]="ShrinkOrStretchToContentHeight",t[t.ShrinkToContent=6]="ShrinkToContent",t[t.StretchToContent=7]="StretchToContent",t[t.ShrinkOrStretchToContent=8]="ShrinkOrStretchToContent"}(o||(o={})),function(t){t[t.Size=0]="Size",t[t.Scale=1]="Scale"}(r||(r={})),function(t){t[t.Clip=0]="Clip",t[t.FitToWidth=1]="FitToWidth",t[t.FitToBox=2]="FitToBox",t[t.ExpandBox=3]="ExpandBox"}(i||(i={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(a||(a={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(s||(s={}))},421:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(382),r=function(){function t(t){this.FirstLineIndent=0,this.SpaceAfter=0,this.SpaceBefore=0,null!=t&&(this.FirstLineIndent="number"==typeof t.FirstLineIndent?t.FirstLineIndent:0,this.SpaceAfter="number"==typeof t.SpaceAfter?t.SpaceAfter:0,this.SpaceBefore="number"==typeof t.SpaceBefore?t.SpaceBefore:0)}return t.prototype.equals=function(e){return e instanceof t&&Object(o.e)(this.FirstLineIndent,e.FirstLineIndent)&&Object(o.e)(this.SpaceAfter,e.SpaceAfter)&&Object(o.e)(this.SpaceBefore,e.SpaceBefore)},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.clone=function(){return new t(this)},t}()},422:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(414),r=n(368),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e){var n=this;return null!=e?(n=t.call(this,r.Path.rectangle(e.sourceRectangle.left,e.sourceRectangle.top,e.sourceRectangle.width,e.sourceRectangle.height),e)||this)._controlPoints=[new r.PointF(e.sourceRectangle.left,e.sourceRectangle.top),new r.PointF(e.sourceRectangle.right,e.sourceRectangle.bottom)]:n=t.call(this,null,e)||this,n._allowNegativeResize=!0,n}return i(e,t),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.sourceRectangle=e.sourceRectangle},Object.defineProperty(e.prototype,"rectangle",{get:function(){var e=t.prototype._getRectangle.call(this);return e.width<0&&(e.width=-e.width),e.height<0&&(e.height=-e.height),e},enumerable:!0,configurable:!0}),e.typeName="RectangleItemHandler",e}(o.a)},423:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return u});var o,r=n(368),i=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function s(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}l((o=o.apply(t,e||[])).next())})},a=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};!function(t){var e;t.round3=function(t){return Math.round(1e3*t)/1e3},t.createBoundedWrapper=function(t,e,n){return null==n?e.bind(t):Function.prototype.bind.apply(e,[t].concat(n))},t.cursorToCss=function(t){var n=e;return void 0==n&&(e=n=["default","nw-resize","ne-resize","sw-resize","se-resize","n-resize","s-resize","w-resize","e-resize","move","crosshair","pointer","ew-resize","ns-resize","nesw-resize","nwse-resize"]),n[t]},t.makeSingle=function(t){var e;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i(this,void 0,void 0,function(){var o,r,i,s;return a(this,function(a){switch(a.label){case 0:o=e=new Object,r=t.apply(void 0,l(n)),a.label=1;case 1:return(s=r.next(i)).done?[2,s.value]:[4,s.value];case 2:if(i=a.sent(),o!==e)return[2];a.label=3;case 3:return[3,1];case 4:return[2]}})})}},t.makeCancelable=function(t){var e=!1;return{promise:new Promise(function(n,o){t.then(function(t){return e?o({isCanceled:!0}):n(t)}),t.catch(function(t){return o(e?{isCanceled:!0}:t)})}),cancel:function(){e=!0}}},t.getEventPath=function(t){if(null==t.view||!(t instanceof t.view.UIEvent))throw new Error("Unexpected event type");if(null!=t.path)return(Array.isArray(t.path)?t.path:Array.prototype.slice.call(t.path)).filter(function(t){return t instanceof Element});var e=[],n=t.target;n instanceof t.view.Element||null==console||console.log("unexpected event target",n);do{e.push(n),n=n.parentElement}while(null!=n&&n!==t.currentTarget);return e},t.isEventPathContainsClass=function(e,n){var o;if(e instanceof UIEvent)o=e;else{if(!(e.originalEvent instanceof UIEvent))throw new Error("Unexpected event type");o=e.originalEvent}return!!t.getEventPath(o).some(function(t){return t.classList.contains(n)})}}(o||(o={}));var u,c,h=function(){function t(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.round=function(){return new t(Math.round(this.x),Math.round(this.y),Math.round(this.width),Math.round(this.height))},t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},t.prototype.contains=function(t){return this.x<=t.x&&this.y<=t.y&&this.x+this.width>t.x&&this.y+this.height>t.y},t.prototype.intersectsWith=function(t){return this.contains(new r.PointF(t.x,t.y))||this.contains(new r.PointF(t.x+t.width-1,t.y+t.height-1))||t.contains(new r.PointF(this.x,this.y))||t.contains(new r.PointF(this.x+this.width-1,this.y+this.height-1))},t.prototype.intersect=function(e){if(!this.intersectsWith(e))return new t(0,0,-1,-1);var n=Math.max(this.x,e.x),o=Math.max(this.y,e.y);return new t(n,o,Math.min(this.x+this.width-1,e.x+e.width-1)-n+1,Math.min(this.y+this.height-1,e.y+e.height-1)-o+1)},t}();!function(t){t[t.defaultCursor=0]="defaultCursor",t[t.sizeNW=1]="sizeNW",t[t.sizeNE=2]="sizeNE",t[t.sizeSW=3]="sizeSW",t[t.sizeSE=4]="sizeSE",t[t.sizeN=5]="sizeN",t[t.sizeS=6]="sizeS",t[t.sizeW=7]="sizeW",t[t.sizeE=8]="sizeE",t[t.move=9]="move",t[t.cross=10]="cross",t[t.pointer=11]="pointer",t[t.sizeEW=12]="sizeEW",t[t.sizeNS=13]="sizeNS",t[t.sizeNESW=14]="sizeNESW",t[t.sizeNWSE=15]="sizeNWSE"}(u||(u={})),function(t){t[t.rgb=16777216]="rgb",t[t.cmyk=335544320]="cmyk",t[t.grayScale=301989888]="grayScale",t[t.unknown=0]="unknown"}(c||(c={}))},429:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(410),r=n(383),i=n(411),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(n){void 0===n&&(n=new r.a(0,0,10,10));var o=t.call(this,i.a.rectangle(n.left,n.top,n.width,n.height))||this;return o.type=e.type,o.sourceRectangle=n,o}return a(e,t),e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="RectangleItem",e}(o.a)},430:function(t,e,n){"use strict";var o;n.d(e,"a",function(){return o}),function(t){t[t.Normal=0]="Normal",t[t.Grayscale=1]="Grayscale",t[t.Solid=2]="Solid"}(o||(o={}))},431:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(372),r=n(368),i=n(449),a=function(){function t(){}return t.isValidRgbColor=function(t){return!o.e(t)&&(null!=i.a.matchRgb(t)||null!=i.a.matchRgba(t))},t.convertPercentToByte=function(t){return Object(r.Clamp)(0,parseInt((255*parseFloat(t)/100).toFixed(0)),255)},t.convertByteToPercent=function(t){return(t/255*100).toFixed(0)+"%"},t}()},432:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var o=n(459),r=n(460),i=n(392),a=n(383),s=n(371),l=n(370),u=n(376),c=n(372),h=n(509),p=n(461),f=n(433),d=n(389),g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function s(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}l((o=o.apply(t,e||[])).next())})},m=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_=function(t){function e(n,o,s,l,u){var c=t.call(this)||this;return c._effect=h.a.None,c._overlayEffect=null,c.type=e.type,c.mviKeepTemplateTransform=!1,c.values=[],c.allowedSubfolder=null,c.ratioWidthToHeight=null,c.isUserImage=!1,c._onSourcePropertyChanged=function(t,e){switch(e){case"url":case"id":case"pageIndex":c._propertyChanged.notify(c,"source");break;case"isVector":c.applyPermissionsConstrain(),c._propertyChanged.notify(c,"source")}},c._onOverlayEffectPropertyChanged=function(t,e){c._propertyChanged.notify(c,"overlayEffect")},c.imagePermissions=new r.a,c.manipulationPermissions.resizeGrips=new i.a(!0,!1),c.shapePermissions.allowChangeFillColor=!1,c.imagePermissions.allowKeepOverlayColor=!1,c.itemPermissions.itemToolbarPermissions.showSelectButton=!0,c.source=null!=n?new e.ImageSource(n):new e.ImageSource,null!=u&&(c.ratioWidthToHeight=u),null!=s&&null!=l?c.sourceRectangle=new a.a(0,0,s,l):(null!=s&&c.SetWidth(s),null!=l&&c.SetHeight(l)),null!=o&&(c.sourceRectangle.left=o.x,c.sourceRectangle.top=o.y),c}return g(e,t),e.prototype._copy=function(n,o,r,i){if(t.prototype._copy.call(this,n,o,r,i),o.imagePermissions=null!=n._imagePermissions?n._imagePermissions.clone():null,o.effect=n._effect,o.overlayEffect=null!=n.overlayEffect?n.overlayEffect.clone():null,o.source=n._source.clone(),o.mviKeepTemplateTransform=n.mviKeepTemplateTransform,null!=n.values)for(var a in o.values=[],n.values)o.values.push(e.ImageItemValue.clone(n.values[a]));o.allowedSubfolder=n.allowedSubfolder,o.allowedTabs=u.clone(n.allowedTabs),o.ratioWidthToHeight=n.ratioWidthToHeight,o.isUserImage=n.isUserImage},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},Object.defineProperty(e.prototype,"imagePermissions",{get:function(){return this._imagePermissions},set:function(t){if(null==t)throw new s.b("imagePermissions cannot be null");c.c(this._imagePermissions,t)||(null!=this._imagePermissions&&this._imagePermissions.propertyChanged.remove(this._onPermissionsChanged),this._imagePermissions=t,this.applyPermissionsConstrain(),this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"imagePermissions"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null==this.imagePermissions||this.imagePermissions.allowChangeImage||this.imagePermissions.allowEditImage?null!=this.source&&this.source.isVector?this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!1:this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null:this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!1,null==this.imagePermissions||this.imagePermissions.allowChangeImage?this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=null:this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!1},Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){this._source===t||null!=this._source&&this._source.equals(t)||(null!=this._source&&this._source.removePropertyChanged(this._onSourcePropertyChanged),this._source=t,null!=this._source&&this._source.addPropertyChanged(this._onSourcePropertyChanged),this._propertyChanged.notify(this,"source"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effect},set:function(t){this._effect!==t&&(this._effect=t,this._propertyChanged.notify(this,"effect"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlayEffect",{get:function(){return this._overlayEffect},set:function(t){d.OverlayEffect.equals(this.overlayEffect,t)||(this._unsubscribeOverlayEffectPropertyChanged(),this._overlayEffect=t,this._subscribeOverlayEffectPropertyChanged(),this._propertyChanged.notify(this,"overlayEffect"))},enumerable:!0,configurable:!0}),e.prototype._subscribeOverlayEffectPropertyChanged=function(){null!=this.overlayEffect&&this.overlayEffect.addPropertyChanged(this._onOverlayEffectPropertyChanged)},e.prototype._unsubscribeOverlayEffectPropertyChanged=function(){null!=this.overlayEffect&&this.overlayEffect.removePropertyChanged(this._onOverlayEffectPropertyChanged)},e.prototype.SetWidth=function(t,e){this.sourceRectangle.width=t,null!=e&&(e=!0),null!=this.source.id&&e&&(this.sourceRectangle.height=this._calculateHeight(t))},e.prototype.SetHeight=function(t,e){this.sourceRectangle.height=t,null!=e&&(e=!0),null!=this.source.id&&e&&(this.sourceRectangle.width=this._calculateWidth(t))},e.prototype.getSrc=function(){throw new s.f},e.prototype._calculateHeight=function(t){if(null==this.ratioWidthToHeight)throw new s.d("Field ratioWidthToHeight is not set!");return t/this.ratioWidthToHeight},e.prototype._calculateWidth=function(t){if(null==this.ratioWidthToHeight)throw new s.d("Field ratioWidthToHeight is not set!");return t*this.ratioWidthToHeight},e.prototype.getSimplifiedObject=function(e){u.isArray(e)||u.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["imagePermissions"].concat(e));return n.source={id:this.source.id,width:this.source.width,height:this.source.height,isVector:this.source.isVector,pageIndex:this.source.pageIndex,url:this.source.url,actualSize:this.source.actualSize,saveAspectRatio:this.source.saveAspectRatio,origin:this.source.origin},n.imagePermissions=this.imagePermissions.getSimplifiedObject(),n},e.prototype.loadImageFromRemoteUrl=function(t,e){return y(this,void 0,void 0,function(){var n,o,r;return m(this,function(i){switch(i.label){case 0:return r=(o=JSON).parse,[4,p.e({url:c.g(t,"/api/ImagePicker/GetWebImageMeta"),type:p.b.post,headers:[p.a.json],data:JSON.stringify({url:e})})];case 1:return n=r.apply(o,[i.sent().value]),this.source.id=n.storageId,this.source.width=n.width,this.source.height=n.height,this.source.isVector=n.isVector,this.name=n.name,this.sourceRectangle.width=this.source.width,this.sourceRectangle.height=this.source.height,[2]}})})},e.prototype.setData=function(t){null!=t.name&&(this.displayName=t.name),this.isUserImage=t.isUserImage,this.source.setIdWithOrigin(t.storageId,t.origin),this.source.pageIndex=t.pageIndex,this.source.width=t.size.width,this.source.height=t.size.height,this.source.isVector=t.isVector},e.prototype.getOriginalImageSize=function(){return{width:Object(f.b)(this.source.width,this.source.dpiX||72),height:Object(f.b)(this.source.height,this.source.dpiY||72)}},e.type="ImageItem",e}(o.a);!function(t){var e,n;!function(t){t.clone=function(t){return u.clone(t)}}(e=t.IImageMetaData||(t.IImageMetaData={})),function(t){t.clone=function(t){return null==t?null:{name:t.name,value:e.clone(t.value),transformedRectangle:null!=t.transformedRectangle?t.transformedRectangle.clone():null}}}(t.ImageItemValue||(t.ImageItemValue={})),function(t){t[t.None=0]="None",t[t.StorageId=3]="StorageId",t[t.Url=4]="Url"}(n=t.ImageSourceType||(t.ImageSourceType={}));var o=function(){function t(t,e,o,r,i,a){void 0===o&&(o=0),void 0===r&&(r=!1),void 0===i&&(i=!0),this._storageId=null,this._url=null,this._type=n.None,this._isVector=!1,this._pageIndex=0,this._origin=null,this._actualSize=!1,this._saveAspectRatio=!0,this._dpiX=72,this._dpiY=72,this._propertyChanged=new l.b,this._storageId=t,null!=t&&(this._type=n.StorageId,this._origin=a),this._url=e,null!=e&&(this._type=n.Url,this._actualSize=r,this._saveAspectRatio=i)}return t.prototype.clone=function(){var e=new t;return e.id=this.id,e.url=this.url,e._type=this._type,e._width=this._width,e._height=this._height,e._isVector=this._isVector,e._pageIndex=this._pageIndex,e._origin=t.IOrigin.clone(this._origin),e._actualSize=this._actualSize,e._saveAspectRatio=this._saveAspectRatio,e},t.prototype.equals=function(t){return null!=t&&t.id===this.id&&t.url===this.url&&t._type===this._type&&t._width===this._width&&t._height===this._height&&t._isVector===this._isVector&&t._pageIndex===this._pageIndex&&JSON.stringify(t._origin)===JSON.stringify(this._origin)&&t._actualSize===this._actualSize&&t._saveAspectRatio===this._saveAspectRatio},Object.defineProperty(t.prototype,"id",{get:function(){return this._storageId},set:function(t){this._storageId!==t&&(this._storageId=t,this._propertyChanged.notify(this,"id"))},enumerable:!0,configurable:!0}),t.prototype.setIdWithOrigin=function(t,e){this.id=t,this._setOrigin(e)},Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){this._url!==t&&(this._url=t,this._propertyChanged.notify(this,"url"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVector",{get:function(){return this._isVector},set:function(t){this._isVector!==t&&(this._isVector=t,this._propertyChanged.notify(this,"isVector"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){t!==this._pageIndex&&(this._pageIndex=t,this._propertyChanged.notify(this,"pageIndex"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},enumerable:!0,configurable:!0}),t.prototype._setOrigin=function(t){t!==this._origin&&(this._origin=t,this._propertyChanged.notify(this,"origin"))},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualSize",{get:function(){return this._actualSize},set:function(t){this._actualSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"saveAspectRatio",{get:function(){return this._saveAspectRatio},set:function(t){this._saveAspectRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dpiX",{get:function(){return this._dpiX},set:function(t){t>0&&(this._dpiX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dpiY",{get:function(){return this._dpiY},set:function(t){t>0&&(this._dpiY=t)},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}();t.ImageSource=o,function(t){!function(t){t.clone=function(t){return null==t?null:u.clone(t)}}(t.IOrigin||(t.IOrigin={}))}(o=t.ImageSource||(t.ImageSource={}))}(_||(_={}))},433:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var o=n(368),r=n(371),i=n(393);function a(t,e){if("number"==typeof t)return s(t,e);if(t instanceof o.PointF)return new o.PointF(s(t.x,e),s(t.y,e));throw new r.b("points")}function s(t,e){return function(t,e){return t*e}(function(t){return t/72}(t),e)}function l(t,e){return t/e*72}function u(t){return t/i.a.devicePixelRatio}},434:function(t,e,n){"use strict";n(520),n(527);var o=n(528);n.d(e,"a",function(){return o.a});n(415),n(468),n(531),n(405),n(438),n(532);var r=n(529);n.d(e,"b",function(){return r.a});n(437),n(541),n(472);var i=n(509);n.d(e,"c",function(){return i.a});n(535);var a=n(413);n.d(e,"d",function(){return a.a});n(545),n(466),n(536),n(439),n(533);var s=n(396);n.d(e,"e",function(){return s.a});var l=n(470);n.d(e,"f",function(){return l.a});n(422);var u=n(526);n.d(e,"g",function(){return u.a});n(525),n(416),n(414),n(453),n(419)},435:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o=n(376),r=n(720),i=n(391),a=n(375),s=n(412),l=n(368),u=n(442),c=n(394),h=n(380),p=n(465),f=function(){function t(t){this._additionalConverters=o.isArray(t)?t:[],this.productParser=new r.a(t)}return t.prototype.deserialize=function(t){var e=t;return"string"==typeof t&&(e=JSON.parse(t)),o.isObject(e)?this.productParser.parseProduct(e):null},t.prototype.serialize=function(t,e){return this.serializeModelComponent(t,e)},t.prototype.serializeModelComponent=function(t,e){var n=this;null==e&&(e=!1);return JSON.stringify(t,function(t,e){if(e instanceof i.a)return e.getSimplifiedObject();if(e instanceof a.Color)return e.getData();if(e instanceof s.a)return{scaleX:e.scaleX,scaleY:e.scaleY,translateX:e.translateX,translateY:e.translateY,angle:e.angle};if(e instanceof u.b)return{name:e.name,altColor:e.altColor,color:e.color,margin:e.margin,stepPx:e.stepPx,widthPx:e.widthPx,borderRadius:e.borderRadius,pdfBox:e.pdfBox};if(e instanceof l.SizeF)return e.width+", "+e.height;if(e instanceof l.Path)return e.toString();if(e instanceof h.a)return e.toArray();if(e instanceof c.a.FontSettings)return{allCaps:e.allCaps,fauxBold:e.fauxBold,fauxItalic:e.fauxItalic,openTypeFeatures:e.openTypeFeatures,postScriptName:e.postScriptName,size:e.size};if(e instanceof p.a)return e.getData();var r=o.find(n._additionalConverters,function(t){return e instanceof t.typeCtor});return null!=r&&((e=o.clone(e)).$type=r.type),e},2)},t}()},436:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var o=n(391),r=n(404),i=n(441),a=n(376),s=n(467),l=n(371),u=n(380),c=n(395),h=n(370),p=n(496),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},g=function(t){function e(e,n,o,r,a,l,p){void 0===r&&(r=[]);var f=t.call(this,a,l)||this;if(f._mockup=new s.a,f._printAreas=new u.a,f._previewMockups=new u.a,f._printAreasCollectionChangedEvent=new h.b,f._printAreaAddedEvent=new h.b,f._printAreaRemovedEvent=new h.b,f._onContainersItemAdded=function(t){t.item.parentComponent=f},f._onContainersItemRemoved=function(t){t.item.parentComponent=null},f.watermark=null,f._containers=new u.a,f._onPrintAreaAdded=function(t){var e=t.item;e.parentSurface=f,f._printAreaAddedEvent.notify(f,e)},f._onPrintAreaRemoved=function(t){var e=t.item;e.parentSurface=null,f._printAreaRemovedEvent.notify(f,e)},f.width=null!=e?e:100,f.height=null!=n?n:100,f.parentProduct=null,f.mockup=null!=o?o:new s.a,f.printAreas.add_itemAdded(f._onPrintAreaAdded),f.printAreas.add_itemRemoved(f._onPrintAreaRemoved),f.printAreas.setRange(r),f._containers.add_itemAdded(f._onContainersItemAdded),f._containers.add_itemRemoved(f._onContainersItemRemoved),p){var d=new c.d;d.name=i.a.BG_CONTAINER_NAME,f.containers.push(d);var g=new c.d;g.name=i.a.MAIN_CONTAINER_NAME,f.containers.push(g);var y=new c.d;y.name=i.a.FG_CONTAINER_NAME,f.containers.push(y)}return f}return f(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mockup",{get:function(){return this._mockup},set:function(t){if(null==t)throw new l.b("mockup can`t be null");t!==this._mockup&&(this._mockup=t,null!=this._mockup&&(this._mockup.parentSurface=this),this._propertyChanged.notify(this,"mockup"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewMockups",{get:function(){return this._previewMockups},set:function(t){var e,n;if(null!=this._previewMockups)try{for(var o=d(this._previewMockups),r=o.next();!r.done;r=o.next()){r.value.parentSurface=null}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}if(this._previewMockups=t,null!=this._previewMockups)for(var i=0;i<this._previewMockups.length;++i)this._previewMockups.get(i).parentSurface=this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containers",{get:function(){return this._containers},set:function(t){if(null!=t&&t!==this._containers){null!=this._containers&&(this._containers.clear(),this._containers.remove_itemAdded(this._onContainersItemAdded),this._containers.remove_itemRemoved(this._onContainersItemRemoved)),this._containers=t;for(var e=0;e<this._containers.length;e++)this._onContainersItemAdded({index:e,item:this._containers.get(e)});this._containers.add_itemAdded(this._onContainersItemAdded),this._containers.add_itemRemoved(this._onContainersItemRemoved)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"printAreas",{get:function(){return this._printAreas},set:function(t){var e,n;if(null!=t&&t!==this._printAreas){null!=this._printAreas&&(this._printAreas.clear(),this._printAreas.remove_itemAdded(this._onPrintAreaAdded),this._printAreas.remove_itemRemoved(this._onPrintAreaRemoved)),this._printAreas=t;try{for(var o=d(this._printAreas),r=o.next();!r.done;r=o.next()){var i=r.value;this._onPrintAreaAdded({item:i})}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this._printAreas.add_itemAdded(this._onPrintAreaAdded),this._printAreas.add_itemRemoved(this._onPrintAreaRemoved)}},enumerable:!0,configurable:!0}),e.prototype.add_printAreaAdded=function(t){this._printAreaAddedEvent.add(t)},e.prototype.remove_printAreaAdded=function(t){this._printAreaAddedEvent.remove(t)},e.prototype.add_printAreaRemoved=function(t){this._printAreaRemovedEvent.add(t)},e.prototype.remove_printAreaRemoved=function(t){this._printAreaRemovedEvent.remove(t)},e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentProduct","nonChannelContainerItems"])},e.prototype.getCropMarksLayers=function(t){throw new l.f},e.prototype.getWatermarkLayers=function(t){throw new l.f},e.prototype.getAllItems=function(t){void 0===t&&(t={ignoreMockups:!1});var e=t.ignoreMockups?this.containers:p.empty().concat(this.mockup.underContainers,this.containers,this.mockup.overContainers);return null!=t.containerFilterFunc&&(e=e.where(t.containerFilterFunc)),e.selectMany(function(t){return t.items.cast()})},e.getItems=function(t,e){return t instanceof Array&&(t=p.from(t)),t.selectMany(function(t){return t.getAllItems(e)}).toArray()},e.prototype.getBackgroundItem=function(){var t=this.containers.firstOrDefault(function(t){return t.name===i.a.BG_CONTAINER_NAME});return null!=t?t.items.get(0):null},e.prototype._copy=function(e,n,o){t.prototype._copy.call(this,e,n,o),n.width=e.width,n.height=e.height,n.mockup=e.mockup.clone(o),n.previewMockups.addRange(e.previewMockups.toArray().map(function(t){return t.clone(o)})),n.printAreas.addRange(e.printAreas.toArray().map(function(t){return t.clone(o)})),n.containers.addRange(e.containers.toArray().map(function(t){return t.clone(o)})),n.watermark=null!=e.watermark?e.watermark.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId(),this._mockup.generateNewIds(),this._previewMockups.forEach(function(t){return t.generateNewIds()}),this._printAreas.forEach(function(t){return t.generateNewIds()}),this._containers.forEach(function(t){return t.generateNewIds()})},e.getAllItems=function(t,e){return void 0===e&&(e={ignoreMockups:!1}),t instanceof Array&&(t=p.from(t)),t.selectMany(function(t){return t.getAllItems(e)})},Object.defineProperty(e.prototype,"nonChannelContainerItems",{get:function(){return a.flatten(this._containers.toArray().filter(function(t){return t.renderingType===r.RenderingType.Normal}).map(function(t){return t.items.toArray()}))},enumerable:!0,configurable:!0}),e}(o.a)},437:function(t,e,n){"use strict";var o;n.d(e,"a",function(){return o}),function(t){t[t.NotContent=0]="NotContent",t[t.PlaceholderContent=1]="PlaceholderContent",t[t.TopFrame=2]="TopFrame",t[t.BottomFrame=3]="BottomFrame"}(o||(o={}))},438:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(405),r=n(368),i=n(378),a=n(420),s=n(705),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(t){function e(e){var n=t.call(this,e)||this;return n._lastRectangle=null,n._textAutoFitted=null,n}return l(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this._textAutoFitted=null,this.item.scheduledFitMode=null,this.item.textRectangle=e.textRectangle},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textRectangle":case"verticalAlignment":case"isVertical":case"paragraphSettings":case"wrappingMargin":case"scheduledFitMode":case"shrinkMode":case"overflowStrategy":case"wrappingPath":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.getTextRectangle=function(){var t=this.getControlCenter(),e=r.RotatedRectangleF.fromRectangleF(this.item.textRectangle);return e.transform(this.item.transform.clone(),t),e.toRectangleF()},Object.defineProperty(e.prototype,"lastRectangle",{get:function(){return this._lastRectangle},set:function(t){this._lastRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAutoFitted",{get:function(){var t=this;return null==this._textAutoFitted&&(this._textAutoFitted=function(){var e=t.item;return e.overflowStrategy!==a.b.Clip&&(e.shrinkMode===a.c.Scale||e.shrinkMode===a.c.Size)&&(e.originalVerticalScale<e.verticalScale||e.originalHorizontalScale<e.horizontalScale)}()),this._textAutoFitted},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$&&i.a.drawRectangle(e,r.RotatedRectangleF.fromRectangleF(this.getTextRectangle(),this.angle),1,"red",1)},e.prototype._onValidateBeforeCallServiceFailed=function(){if(!this._getSrc()){var t=this.item.textRectangle;this._controlPoints[0].x=t.left,this._controlPoints[0].y=t.top,this._controlPoints[1].x=t.left+t.width,this._controlPoints[1].y=t.top+t.height}var e=this.canvas;null!=e&&e.redraw()},e.prototype._isFrontEndRenderingSupported=function(){return t.prototype._isFrontEndRenderingSupported.call(this)&&null==this.item.scheduledFitMode&&this.item.overflowStrategy===a.b.Clip},e.prototype._createText=function(t){var e=this.item,n=e.textRectangle.clone();t&&(n.height=65535);var o=this._fontRegistry.createFont(e.font.postScriptName,e.font.size),i=this._createBoundedText(o,e.textForTextWhizz,n);if(t||e.verticalAlignment===a.e.Top)return i;var l=new this._textWhizz.TextHandler(i,s.a.DEFAULT_DPI).getBlackBox().height,u=n.height,c=0;switch(e.verticalAlignment){case a.e.Center:c=(u-l)/2;break;case a.e.Bottom:c=u-l}if(c<=0)return i;Object(r.EqualsOfFloatNumbers)(1,e.verticalScale)||(c*=1/e.verticalScale);var h=e.textRectangle.clone();return h.top+=c,h.height-=c,this._createBoundedText(o,e.textForTextWhizz,h)},e.prototype._createBoundedText=function(t,e,n){var o=new this._textWhizz.PathBoundedText(e,t),r=new this._textWhizz.Path;return r.rect(n.left,n.top,n.width,n.height),o.addPath(r),o},e.prototype._updateStyle=function(t){},e.prototype._measureText=function(){return this.item.textRectangle.clone()},e.prototype._beforeFrontEndUpdate=function(){if(!this.item.transform.isEmpty){var t=r.RotatedRectangleF.fromRectangleF(this.item.textRectangle);t.setTransform(this.item.transform),this._modifyItem(function(e){e.textRectangle=t.toRectangleF()})}},e.typeName="BoundedTextItemHandler",e}(o.a)},439:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(415),r=n(375),i=n(368),a=n(412),s=n(378),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(t){function e(e){var n=t.call(this,0,0,0,0,e)||this;return n._selectionTolerance=15,n._controlPoints=[new i.PointF(e.sourcePoint0.x?e.sourcePoint0.x:0,e.sourcePoint0.y?e.sourcePoint0.y:0),new i.PointF(e.sourcePoint1.x?e.sourcePoint1.x:0,e.sourcePoint1.y?e.sourcePoint1.y:0)],n._makeLineHorizontalWithAngle(),n}return l(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"width":var o=this.get_canvas();null!=o&&o.updateSelection();break;case"color":case"fixedWidth":this.canvas.redraw()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.set_controlPoints=function(t){this._controlPoints=new Array(new i.PointF(t[0].x,t[0].y),new i.PointF(t[1].x,t[1].y)),this.item.sourcePoint0=this._controlPoints[0],this.item.sourcePoint1=this._controlPoints[1],this._makeLineHorizontalWithAngle(),this.raiseChanged()},e.prototype.get_width=function(){return this.item.width},e.prototype.set_width=function(t){this.item.width=t},e.prototype.get_color=function(){return this.item.color},e.prototype.set_color=function(t){var e=r.ColorFactory.createColor(t);this.item.color=e},e.prototype.get_fixedWidth=function(){return this.item.fixedWidth},e.prototype.set_fixedWidth=function(t){this.item.fixedWidth=t},e.prototype.get_point0=function(){return this._getActualPoint(this._controlPoints[0])},e.prototype.set_point0=function(t){var e=this.getControlBounds();if(0===e.width||0===e.height){var n=this._getActualPoint(this._controlPoints[1]);this._controlPoints=[t.clone(),n],this.item.transform=new a.a}else this._makeLineHorizontalWithAngle(),this._setTransformByPoints(this._controlPoints[0],t,this._controlPoints[1])},e.prototype.get_point1=function(){return this._getActualPoint(this._controlPoints[1])},e.prototype.set_point1=function(t){var e=this.getControlBounds();if(0===e.width||0===e.height){var n=this._getActualPoint(this._controlPoints[0]);this._controlPoints=[n,t.clone()],this.item.transform=new a.a}else this._makeLineHorizontalWithAngle(),this._setTransformByPoints(this._controlPoints[1],t,this._controlPoints[0])},Object.defineProperty(e.prototype,"rectangle",{get:function(){var e=t.prototype._getRectangle.call(this);return e.height=this._getActualWidth(),e},enumerable:!0,configurable:!0}),e.prototype._getActualPoint=function(t){var e=new i.PointF(t.x,t.y),n=this.getControlCenter();e.translate(-n.x,-n.y);var o=this.item.transform;return e.scale(o.scaleX,o.scaleY),e.rotate(o.angle),e.translate(o.translateX,o.translateY),e.translate(n.x,n.y),e},e.prototype._setTransformByPoints=function(t,e,n){var o=this.getControlCenter(),r=this._getActualPoint(n),s=new i.PointF((r.x+e.x)/2,(r.y+e.y)/2),l=s.x-o.x,u=s.y-o.y,c=new i.PointF(t.x,t.y).translate(-o.x,-o.y),h=new i.PointF(e.x,e.y).translate(-l,-u).translate(-o.x,-o.y),p=(c.x*h.x+c.y*h.y)/Math.sqrt((c.x*c.x+c.y*c.y)*(h.x*h.x+h.y*h.y));p=i.Clamp(-1,p,1);var f=i.ConvertRadianToDegree(Math.acos(p));h=h.rotate(-f),this.item.transform=new a.a(h.x/c.x,h.y/c.y,l,u,f)},e.prototype._getActualWidth=function(){var t=this.get_width(),e=this.get_canvas();return this.get_fixedWidth()&&null!=e&&(t/=e.get_zoom()),t},e.prototype.drawItemHandler=function(t){if(null!=t){var e=this.get_point0(),n=this.get_point1(),o=this._getActualWidth();if(o>0){var r=this.isNormalRenderingType?this.item.color.preview:"rgb(0,0,0)",i=this.isNormalRenderingType?this.item.opacity:1;s.a.drawLine(t,e.x,e.y,n.x,n.y,o,r,i)}}},e.prototype._belongToPiece=function(t,e,n,o,r){var a=o/2+r;return i.getSquareDistanceToSegment(n,t,e)<=a*a},e.prototype.hitTest=function(e,n){var o=t.prototype.hitTest.call(this,e.clone()),r=e.clone(),i=this.get_canvas(),a=i.get_zoom()*i.get_screenXDpi()/72,s=this.rectangle,l=!!n&&s.toRectangleF().contains(e),u=this._getActualWidth(),c=(this._selectionTolerance/a-u)/2,h=this._belongToPiece(this.get_point0(),this.get_point1(),r,u,c<0?0:c);return o.body=!(!l&&!h),o},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),o=this.canvas.rgbColorProfileFileId;return e.color.needUpdate(o)&&(n.color=e.color.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=r.ColorFactory.createColor(e.color))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)},e.prototype._makeLineHorizontalWithAngle=function(){var t=this._controlPoints[0],e=this._controlPoints[1],n=i.getTriangleAngle(t,new i.PointF(t.x,e.y),e);if(0!==n){var o=(t.x+e.x)/2,r=(t.y+e.y)/2,a=t.distance(e);this._controlPoints[0]=new i.PointF(o-a/2,r),this.item.sourcePoint0=this._controlPoints[0],this._controlPoints[1]=new i.PointF(o+a/2,r),this.item.sourcePoint1=this._controlPoints[1],this.angle=n}},e}(o.a)},441:function(t,e,n){"use strict";var o=function(){function t(){}return t.prototype.trace=function(t){console.log.apply(console,arguments)},t.prototype.warn=function(t){console.warn.apply(console,arguments)},t.prototype.error=function(t){console.error.apply(console,arguments)},t}(),r=n(435);n.d(e,"a",function(){return i});var i=function(){function t(){}return t.getProductSerializer=function(){return null!=t.jsonProductSerializerFactory?t.jsonProductSerializerFactory():t._defaultJsonProductSerializerFactory()},t.getLogger=function(){var e=t._logger;return null==e&&(e=new o),e},t._defaultJsonProductSerializerFactory=function(){return new r.a},t.jsonProductSerializerFactory=null,t._logger=null,t.MAIN_CONTAINER_NAME="Main",t.BG_CONTAINER_NAME="Background",t.FG_CONTAINER_NAME="Foreground",t.BG_SOLIDCOLOR="solidColor",t.SPINE_AND_FOLDING_CONTAINER_NAME="Spine&Folding",t}()},442:function(t,e,n){"use strict";var o,r=n(383),i=n(375),a=n(368),s=n(433);!function(t){t[t.Point=0]="Point",t[t.Percent=1]="Percent",t[t.Pixel=2]="Pixel"}(o||(o={}));var l,u=function(){function t(t,e){this._rectangle=t,this._dpi=e}return t.prototype.convert=function(t){if(-1===t.indexOf("/"))return this._normalize(this._combineRadiuses(this._getRadiuses(t,!0),this._getRadiuses(t,!1)));var e=t.split("/");return this._normalize(this._combineRadiuses(this._getRadiuses(e[0].trim(),!0),this._getRadiuses(e[1].trim(),!1)))},t.prototype._normalize=function(t){if(null==t)return t;var e=t,n=(e[0].width+e[1].width)/this._rectangle.width,o=(e[2].width+e[3].width)/this._rectangle.width,r=(e[0].height+e[3].height)/this._rectangle.height,i=(e[1].height+e[2].height)/this._rectangle.height;return n>1&&(e[0].width=e[0].width/n,e[1].width=e[1].width/n),o>1&&(e[2].width=e[2].width/o,e[3].width=e[3].width/o),i>1&&(e[1].height=e[1].height/i,e[2].height=e[2].height/i),r>1&&(e[3].height=e[3].height/r,e[0].height=e[0].height/r),t},t.prototype._combineRadiuses=function(t,e){return null==t||4!==t.length?null:null==e||4!==e.length?null:[new a.SizeF(t[0],e[0]),new a.SizeF(t[1],e[1]),new a.SizeF(t[2],e[2]),new a.SizeF(t[3],e[3])]},t.prototype._getRadiuses=function(t,e){if(null==t)return null;var n=t.split(" ").filter(function(t){return null!=t&&t.length>0});if(n.length<1)return null;if(n.length>4)return null;for(var o=[],r=0;r<n.length;r++){var i=this._tryParseNumberPart(n[r]);if(null==i)return null;o.push(this._toPoints(i,e))}switch(o.length){case 1:return[o[0],o[0],o[0],o[0]];case 2:return[o[0],o[1],o[0],o[1]];case 3:return[o[0],o[1],o[2],o[1]];default:return o}},t.prototype._tryParseNumberPart=function(t){if(t.endsWith("%")){var e=parseFloat(t);return NaN!==e?{value:e,measureType:o.Percent}:null}if(t.toLowerCase().endsWith("px")){var n=parseFloat(t);return NaN!==n?{value:n,measureType:o.Pixel}:null}var r=parseFloat(t);return isNaN(r)?null:{value:r,measureType:o.Point}},t.prototype._toPoints=function(t,e){switch(t.measureType){case o.Percent:return(e?this._rectangle.width:this._rectangle.height)*t.value/100;case o.Pixel:return s.b(t.value,this._dpi);default:return t.value}},t}(),c=n(370);n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h}),function(t){t.Crop="Crop",t.Trim="Trim",t.Bleed="Bleed"}(l||(l={}));var h=function(){function t(t){this._propertyChanged=new c.b,this._name="bleed",this._widthPx=1,this._color=new i.RgbColor({r:255,g:255,b:255,a:255}),this._altColor=new i.RgbColor({r:0,g:0,b:0,a:255}),this._stepPx=10,this._margin={left:10,top:10,right:10,bottom:10},this._borderRadius=null,this._pdfBox=null,null!=t&&Object.assign(this,t)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._propertyChanged.notify(this,"name"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthPx",{get:function(){return this._widthPx},set:function(t){a.EqualsOfFloatNumbers(this._widthPx,t)||(this._widthPx=t,this._propertyChanged.notify(this,"widthPx"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){i.Color.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"altColor",{get:function(){return this._altColor},set:function(t){i.Color.equals(this._altColor,t)||(this._altColor=t,this._propertyChanged.notify(this,"altColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this._margin},set:function(t){"number"==typeof t&&(t={left:t,top:t,right:t,bottom:t}),this._margin=t,this._propertyChanged.notify(this,"margin")},enumerable:!0,configurable:!0}),t.prototype.getMargin=function(){return this._margin},Object.defineProperty(t.prototype,"stepPx",{get:function(){return this._stepPx},set:function(t){a.EqualsOfFloatNumbers(this._stepPx,t)||(this._stepPx=t,this._propertyChanged.notify(this,"stepPx"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(t){this._borderRadius!==t&&(this._borderRadius=t,this._propertyChanged.notify(this,"borderRadius"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfBox",{get:function(){return this._pdfBox},set:function(t){this._pdfBox!==t&&(this._pdfBox=t,this._propertyChanged.notify(this,"pdfBox"))},enumerable:!0,configurable:!0}),t.prototype.getRectangle=function(t){var e=this.getMargin();return r.a.FromLTRB(t.left+e.left,t.top+e.top,t.right-e.right,t.bottom-e.bottom)},t.prototype.getCornerRadiuses=function(t){return null==this.borderRadius?null:new u(this.getRectangle(t),72).convert(this.borderRadius)},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t.prototype.clone=function(){var e=new t;e.name=this.name,e.widthPx=this.widthPx,e.color=this.color.clone(),e.altColor=this.altColor.clone(),e.stepPx=this.stepPx,e.borderRadius=this.borderRadius,e.pdfBox=this.pdfBox;var n=this.getMargin();return e.margin=null==n?null:{left:n.left,top:n.top,right:n.right,bottom:n.bottom},e},t.voPrefix="$SAFETY_LINE",t}()},448:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(391),r=n(376),i=n(371),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return a(e,t),Object.defineProperty(e.prototype,"parentContainer",{get:function(){return this._parentContainer},set:function(t){this._parentContainer=t,this._onContainerChanged()},enumerable:!0,configurable:!0}),e.prototype._onContainerChanged=function(){},e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o),r&&(n.parentContainer=e.parentContainer)},e.prototype.clone=function(t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.type!==e.type)throw new i.f(".clone() method must be overriden in "+this.type+" class");var o=new e;return this._copy(this,o,t,n),o},e.prototype.update=function(t){this._copy(t,this,!0,!1)},e.prototype.getSimplifiedObject=function(e){r.isArray(e)||r.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["parentContainer"].concat(e));return n.$type=this.type,n},e.prototype.generateNewIds=function(){this._generateNewId()},e.type="base",e}(o.a)},449:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(402),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){var n=t.call(this,e)||this;if(n._r=0,n._g=0,n._b=0,n._a=0,null==e)return n;var o="Incorrect RgbColor format: "+JSON.stringify(e);if("string"==typeof e){var r=e;if(0!==e.indexOf("#")&&0!==e.indexOf("rgb")&&null==(r=n._parseNamedColor(e))&&console.warn("Unknown rgb color name: "+e),n._tryInitFromRgba(r))return n;if(n._tryInitFromRgb(r))return n;n._tryInitFromHex(r)||console.warn(o)}else try{n._init(e)}catch(t){console.warn(o)}return n}return r(e,t),e.prototype._parseNamedColor=function(t){if(window.getComputedStyle){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=window.getComputedStyle(e).color;return document.body.removeChild(e),n}return console.warn("Unable to parse rgb color string "+t),null},e.prototype._tryInitFromRgba=function(t){var n=e.matchRgba(t);if(null!=n&&6===n.length){var o=parseInt((255*parseFloat(n[4])).toFixed(0));return o=Math.max(o,0),o=Math.min(o,255),this._init({r:+n[1],g:+n[2],b:+n[3],a:o}),!0}return!1},e.prototype._tryInitFromRgb=function(t){var n=e.matchRgb(t);return null!=n&&4===n.length&&(this._init({r:+n[1],g:+n[2],b:+n[3],a:255}),!0)},e.prototype._tryInitFromHex=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,o){return e+e+n+n+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return null!=e&&4===e.length&&(this._init({r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:255}),!0)},Object.defineProperty(e.prototype,"type",{get:function(){return"RgbColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(t){this._r=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(t){this._g=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(t){this._b=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this._a},set:function(t){this._a=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.matchRgba=function(t){return e._rgba.lastIndex=0,e._rgba.exec(t)},e.matchRgb=function(t){return e._rgb.lastIndex=0,e._rgb.exec(t)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.r=this.r,e.g=this.g,e.b=this.b,e.a=this.a,e},e.prototype.clone=function(){return new e(this)},e.prototype.toString=function(){return this._getPreview()},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)},e.prototype._getPreview=function(){if(255===this.a)return"rgb("+this.r+","+this.g+","+this.b+")";var t=(this.a/255).toFixed(7);return"rgba("+this.r+","+this.g+","+this.b+","+t+")"},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.r),this._validateNumber(e.g),this._validateNumber(e.b),this._validateNumber(e.a),this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._updatePreview()},e.prototype._updatePreview=function(){this.preview=this._getPreview()},e._rgba=/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\,\s*(\d{1,}(\.\d{1,})?)\s*\)\s*;{0,1}\s*$/g,e._rgb=/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*;{0,1}\s*$/g,e}(o.a)},450:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(402),r=n(449),i=n(543),a=n(503),s=n(504),l=n(505),u=function(){function t(){}return t.createColor=function(e,n){void 0===n&&(n=!1);try{return e instanceof o.a?e:"string"==typeof e?0===e.indexOf("device-cmyk")||0===e.indexOf("cmyk")?new i.a(e):0===e.indexOf("lab")?new s.a(e):0===e.indexOf("spot")?new l.a(e):new r.a(e):t._fromData(e)}catch(t){if(!1!==n)throw t;return console.warn("Unable to create color from value "+JSON.stringify(e)+". Error: "+t),new r.a("rgba(0,0,0,1)")}},t._fromData=function(t){if(null==t)throw"Value cannot be null";var e=t.type;if("RgbColor"===e)return new r.a(t);if("CmykColor"===e)return new i.a(t);if("GrayscaleColor"===e)return new a.a(t);if("LabColor"===e)return new s.a(t);if("SpotColor"===e)return new l.a(t);throw"Unsupported color type "+e},t}()},451:function(t,e,n){"use strict";var o;n.d(e,"a",function(){return o}),function(t){t[t.Normal=0]="Normal",t[t.Multiply=1]="Multiply",t[t.Screen=2]="Screen",t[t.Overlay=3]="Overlay",t[t.Darken=4]="Darken",t[t.Lighten=5]="Lighten",t[t.ColorDodge=6]="ColorDodge",t[t.ColorBurn=7]="ColorBurn",t[t.HardLight=8]="HardLight",t[t.SoftLight=9]="SoftLight",t[t.Difference=10]="Difference",t[t.Exclusion=11]="Exclusion",t[t.None=12]="None"}(o||(o={}))},452:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(368),r=n(370),i=n(372),a=function(){function t(){this._vectorMask=null,this._maskChangedEvent=new r.a}return Object.defineProperty(t.prototype,"vectorMask",{get:function(){return this._vectorMask},set:function(t){this._vectorMask=t,this._maskChangedEvent.notify(this)},enumerable:!0,configurable:!0}),t.prototype.addMaskChanged=function(t){this._maskChangedEvent.add(t)},t.prototype.removeMaskChanged=function(t){this._maskChangedEvent.remove(t)},t.fromRaw=function(e){var n=new t;return void 0!=e.vectorMask&&null!=e.vectorMask&&(n.vectorMask=new o.Path(e.vectorMask.toString())),n},t.prototype.clone=function(){var e=new t;return e.vectorMask=null!=this.vectorMask?this.vectorMask.clone():null,e},t.prototype.equals=function(t){return i.c(this.vectorMask,t.vectorMask)},t.prototype.getSimplifiedObject=function(){var t={};return t.vectorMask=null!=this.vectorMask?this.vectorMask.toString():null,t},t}()},453:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(375),r=n(382),i=n(370),a=function(){function t(t){this._color=new o.RgbColor("rgb(0,0,0)"),this._size=0,this._lineJoin="Miter",this._propertyChanged=new i.b,null!=t&&(this.color=null!=t.color?t.color:new o.RgbColor("rgb(0,0,0)"),this.size=null!=t.size?t.size:0,this.lineJoin=null!=t.lineJoin?t.lineJoin:"")}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){o.Color.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this._propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this._propertyChanged.notify(this,"lineJoin"))},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this)},t._from_data=function(e){return null==e?null:new t({color:o.ColorFactory.createColor(e.color),size:"number"==typeof e.size?e.size:0,lineJoin:"string"==typeof e.lineJoin?e.lineJoin:""})},t.prototype.equals=function(e){return e instanceof t&&this.color.equals(e.color)&&Object(r.e)(this.size,e.size)&&this.lineJoin==e.lineJoin},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.getSimplifiedObject=function(){return{color:this.color.getData(),size:this.size,lineJoin:this.lineJoin}},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}()},454:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(394),r=n(368),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(n,o,i,a){var s=t.call(this,n,i,a)||this;return s._isVertical=!1,s.type=e.type,s._textRectangle=null!=o?o:new r.RectangleF,s}return i(e,t),Object.defineProperty(e.prototype,"textRectangle",{get:function(){return this._textRectangle},set:function(t){r.RectangleF.isEqual(this._textRectangle,t)||(this._textRectangle=t,this._propertyChanged.notify(this,"textRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.isVertical=e.isVertical,n.textRectangle=e.textRectangle},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="AutoScaledTextItem",e}(o.a)},455:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(394),r=n(368),i=n(421),a=n(420),s=n(716),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(t){function e(n,o,s,l){var u=t.call(this,n,s,l)||this;return u._textRectangle=new r.RectangleF,u._verticalAlignment=a.e.Top,u._isVertical=!1,u._paragraphSettings=new i.a,u._wrappingPath=null,u._wrappingMargin=7,u._scheduledFitMode=null,u._shrinkMode=a.c.Size,u._overflowStrategy=a.b.Clip,u._originalVerticalScale=1,u._originalHorizontalScale=1,u.characterLimit=null,u.type=e.type,null!=o&&(u.textRectangle=o,u.sourcePath=r.Path.rectangle(o.left,o.top,o.width,o.height)),u}return l(e,t),Object.defineProperty(e.prototype,"textRectangle",{get:function(){return this._textRectangle},set:function(t){r.RectangleF.isEqual(this._textRectangle,t)||(Object(s.a)({class:"BoundedTextItem",method:"set TextRectangle",id:this.id,name:this.name,text:this.text,"old _textRectangle":this._textRectangle,value:t},!0),this._textRectangle=t,this._propertyChanged.notify(this,"textRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlignment",{get:function(){return this._verticalAlignment},set:function(t){this._verticalAlignment!==t&&(this._verticalAlignment=t,this._propertyChanged.notify(this,"verticalAlignment"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this._paragraphSettings},set:function(t){this._paragraphSettings.equals(t)||(this._paragraphSettings=t,this._propertyChanged.notify(this,"paragraphSettings"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingPath",{get:function(){return this._wrappingPath},set:function(t){null==this._wrappingPath&&null==t||null!=this._wrappingPath&&this._wrappingPath.isEqual(t)||(this._wrappingPath=t,this._propertyChanged.notify(this,"wrappingPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this._wrappingMargin},set:function(t){this._wrappingMargin!==t&&(this._wrappingMargin=t,this._propertyChanged.notify(this,"wrappingMargin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduledFitMode",{get:function(){return this._scheduledFitMode},set:function(t){this._scheduledFitMode!==t&&(this._scheduledFitMode=t,null!=t&&this._propertyChanged.notify(this,"scheduledFitMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shrinkMode",{get:function(){return this._shrinkMode},set:function(t){this._shrinkMode!==t&&(this._shrinkMode=t,null!=t&&this._propertyChanged.notify(this,"shrinkMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overflowStrategy",{get:function(){return this._overflowStrategy},set:function(t){this._overflowStrategy!==t&&(this._overflowStrategy=t,null!=t&&this._propertyChanged.notify(this,"overflowStrategy"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalVerticalScale",{get:function(){return this._originalVerticalScale},set:function(t){this._originalVerticalScale!==t&&(this._originalVerticalScale=t,null!=t&&this._propertyChanged.notify(this,"originalVerticalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalHorizontalScale",{get:function(){return this._originalHorizontalScale},set:function(t){this._originalHorizontalScale!==t&&(this._originalHorizontalScale=t,null!=t&&this._propertyChanged.notify(this,"originalHorizontalScale"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.isVertical=e.isVertical,n.textRectangle=e.textRectangle.clone(),n.verticalAlignment=e.verticalAlignment,n.paragraphSettings=e.paragraphSettings.clone(),n.wrappingPath=null!=e.wrappingPath?e.wrappingPath.clone():null,n.wrappingMargin=e.wrappingMargin,n.scheduledFitMode=e.scheduledFitMode,n.shrinkMode=e.shrinkMode,n.overflowStrategy=e.overflowStrategy,n.originalVerticalScale=e.originalVerticalScale,n.originalHorizontalScale=e.originalHorizontalScale,n.characterLimit=e.characterLimit},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="BoundedTextItem",e}(o.a)},456:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(394),r=n(387),i=n(370),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(n,o,a,s){var l=t.call(this,n,a,s)||this;return l._baselineLocation=new r.a,l.isVertical=!1,l._updatedForAlignmentEvent=new i.a,l.type=e.type,l._onUpdatedForAlignment=function(){l._updatedForAlignmentEvent.notify(l)},null!=o&&(l.baselineLocation=o),l._ignorePermissionsChange=!0,l.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),l.manipulationPermissions.resizeGrips.edge=!1,l._ignorePermissionsChange=!1,l}return a(e,t),Object.defineProperty(e.prototype,"baselineLocation",{get:function(){return this._baselineLocation},set:function(t){r.a.isEqual(this._baselineLocation,t)||(this._baselineLocation=t,this._propertyChanged.notify(this,"baselineLocation"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&null!=this.manipulationPermissions.resizeGrips&&(this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.resizeGrips.edgeConstraint=!1)},e.prototype.getSimplifiedObject=function(e){void 0===e&&(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["_placeholders","currentTextImage","sourcePath","sourceRectangle"].concat(e));return n.placeholders=this.placeholders.toArray(),n},e.prototype.getUpdatedForAlignmentEvent=function(){return this._updatedForAlignmentEvent},e.prototype._copy=function(e,n,o,r){return t.prototype._copy.call(this,e,n,o,r),n.isVertical=e.isVertical,n.baselineLocation=e.baselineLocation,n},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="PlainTextItem",e}(o.a)},457:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(394),r=n(368),i=n(371),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(n,o,i,a){var s=t.call(this,n,i,a)||this;return s._textPath=new r.Path,s._fitToPath=!1,s._stretch=!1,s._originalFontSize=0,s._fitToPathStep=1,s._start=0,s.type=e.type,null!=o&&(s.textPath=o),s._ignorePermissionsChange=!0,s.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),s.manipulationPermissions.resizeGrips.edge=!1,s._ignorePermissionsChange=!1,s}return a(e,t),Object.defineProperty(e.prototype,"textPath",{get:function(){return this._textPath},set:function(t){this._textPath.equals(t)||(this._textPath=t,this._propertyChanged.notify(this,"textPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPath",{get:function(){return this._fitToPath},set:function(t){this._fitToPath!==t&&(this._fitToPath=t,this._propertyChanged.notify(this,"fitToPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stretch",{get:function(){return this._stretch},set:function(t){this._stretch!==t&&(this._stretch=t,this._propertyChanged.notify(this,"stretch"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(t){this._start!==t&&(this._start=t,this._propertyChanged.notify(this,"start"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(t){this._end!==t&&(this._end=t,this._propertyChanged.notify(this,"end"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFontSize",{get:function(){return this._originalFontSize},set:function(t){Object(r.EqualsOfFloatNumbers)(this._originalFontSize,t)||(this._originalFontSize=t,this._propertyChanged.notify(this,"originalFontSize"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPathStep",{get:function(){return this._fitToPathStep},set:function(t){Object(r.EqualsOfFloatNumbers)(this._fitToPathStep,t)||(this._fitToPathStep=t,this._propertyChanged.notify(this,"fitToPathStep"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return 1},set:function(t){throw new i.e("Max Line Count of Curved Text can not be redefined!")},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){return t.prototype.getSimplifiedObject.call(this,["maxLineCount"].concat(e))},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&(this.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),this.manipulationPermissions.resizeGrips.edge=!1)},e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.textPath=e.textPath.clone(),n.fitToPath=e.fitToPath,n.stretch=e.stretch,n.originalFontSize=e.originalFontSize,n.fitToPathStep=e.fitToPathStep,n.start=e.start,n.end=e.end},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="CurvedTextItem",e}(o.a)},458:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return b});var o,r,i,a=n(410),s=n(432),l=n(515),u=n(375),c=n(518),h=n(392),p=n(511),f=n(383),d=n(411),g=n(371),y=n(372),m=n(465),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){t[t.None=0]="None",t[t.Center=1]="Center",t[t.Top=2]="Top",t[t.Bottom=3]="Bottom"}(o||(o={})),function(t){t[t.None=0]="None",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Left=3]="Left"}(r||(r={})),function(t){t[t.Fit=0]="Fit",t[t.Fill=1]="Fill",t[t.Original=2]="Original"}(i||(i={}));var b=function(t){function e(n){var i=t.call(this,null!=n?d.a.rectangle(n.left,n.top,n.width,n.height):null)||this;return i._isStubContent=!1,i._isCoverMode=!1,i._contentEffect=0,i._contentFillColor=null,i._contentOverlayEffect=null,i.stubStorageMeta=null,i.allowedSubfolder=null,i.contentVerticalAlignment=o.None,i.contentHorizontalAlignment=r.None,i.type=e.type,i._content=null,i._topFrames=[],i._bottomFrames=[],i._onContentOverlayEffectPropertyChanged=function(t,e){i._propertyChanged.notify(i,"contentOverlayEffect")},i.fixedStubContentSize=!1,i.sourceRectangle=null!=n?n:new f.a(0,0,10,10),i.fillColor=new u.RgbColor("rgba(0, 0, 0, 0)"),i.borderWidth=0,i.placeholderPermissions=new c.a,i._contentPermissions=new p.a,i._contentPermissions.propertyChanged.add(i._onPermissionsChanged),i._ignorePermissionsChange=!0,i.manipulationPermissions.resizeGrips=new h.a(!0,!0,!1),i.shapePermissions.allowChangeFillColor=!1,i.itemPermissions.allowRemoveOnLayoutChange=!0,i.itemPermissions.itemToolbarPermissions.showEditButton=!0,i.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=null,i.itemPermissions.itemToolbarPermissions.showSelectButton=!0,i.contentPermissions.imagePermissions.allowKeepOverlayColor=!1,i._ignorePermissionsChange=!1,i}return _(e,t),Object.defineProperty(e.prototype,"contentEffect",{get:function(){return this._contentEffect},set:function(t){this._contentEffect!==t&&(this._contentEffect=t,this._propertyChanged.notify(this,"contentEffect"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentFillColor",{get:function(){return this._contentFillColor},set:function(t){this._contentFillColor!==t&&(this._contentFillColor=t,this._propertyChanged.notify(this,"contentFillColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStubContent",{get:function(){return this._isStubContent},set:function(t){this._isStubContent!==t&&(this._setStubStorageMeta(),this._isStubContent=t,this._propertyChanged.notify(this,"isStubContent"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentResizeMode",{get:function(){return this.isCoverMode?i.Fill:this.isBarcodePlaceholder?i.Fit:this._contentResizeMode},set:function(t){this._contentResizeMode!==t&&(this._contentResizeMode=t,this._propertyChanged.notify(this,"contentResizeMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentOverlayEffect",{get:function(){return this._contentOverlayEffect},set:function(t){m.a.equals(this.contentOverlayEffect,t)||(this._unsubscribeContentOverlayEffectPropertyChanged(),this._contentOverlayEffect=t,this._subscribeContentOverlayEffectPropertyChanged(),this._propertyChanged.notify(this,"contentOverlayEffect"))},enumerable:!0,configurable:!0}),e.prototype._subscribeContentOverlayEffectPropertyChanged=function(){null!=this.contentOverlayEffect&&this.contentOverlayEffect.addPropertyChanged(this._onContentOverlayEffectPropertyChanged)},e.prototype._unsubscribeContentOverlayEffectPropertyChanged=function(){null!=this.contentOverlayEffect&&this.contentOverlayEffect.removePropertyChanged(this._onContentOverlayEffectPropertyChanged)},Object.defineProperty(e.prototype,"isCoverMode",{get:function(){return null==this.barcodeFormat&&this._isCoverMode},set:function(t){this._isCoverMode!==t&&(this._isCoverMode=t,this.isEmptyContent||this.content.applyPermissionsConstrain(),this._propertyChanged.notify(this,"isCoverMode"))},enumerable:!0,configurable:!0}),e.prototype.getImagePermissions=function(){return null!=this.contentPermissions?this.contentPermissions.imagePermissions:this.content instanceof s.a?this.content.imagePermissions:null},e.prototype.applyPermissionsConstrain=function(){var t=this.getImagePermissions(),e=null==t||t.allowChangeImage,n=null!=t&&t.allowEditImage,o=null!=this.content&&this.content instanceof s.a&&null!=this.content.source&&this.content.source.isVector;this.isStubOrEmpty||!n||o?this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!1:this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null,null!=this.placeholderPermissions&&(e?(this.placeholderPermissions.showSelectButtonConstraint=null,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=null):(this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!1,this.placeholderPermissions.showSelectButtonConstraint=!1)),null!=this.contentPermissions&&null!=this.contentPermissions.imagePermissions&&(null!=this.barcodeFormat?this.contentPermissions.imagePermissions.allowEditImageConstraint=!1:this.contentPermissions.imagePermissions.allowEditImageConstraint=null),this.isBarcodePlaceholder&&(null!=this.manipulationPermissions&&(this.manipulationPermissions.resizeGrips.edge=!1,this.manipulationPermissions.resizeGrips.setCornerArbitrary(!1)),null!=this.itemPermissions&&null!=this.itemPermissions.itemToolbarPermissions&&(this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null),null!=this.placeholderPermissions&&(this.placeholderPermissions.allowEditContent=!1,this.placeholderPermissions.showHandleButton=!1),null!=this.contentPermissions&&null!=this.contentPermissions.barcodePermissions&&(this.contentPermissions.barcodePermissions.allowChangeBarcodeContent?this.placeholderPermissions.showSelectButtonConstraint=null:(this.placeholderPermissions.showSelectButtonConstraint=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=this.contentPermissions.barcodePermissions.allowChangeBarcodeContent)))},Object.defineProperty(e.prototype,"contentPermissions",{get:function(){return this._contentPermissions},set:function(t){if(null==t)throw new g.b("ContentPermissions cannot be null");y.c(this._contentPermissions,t)||(this._contentPermissions.propertyChanged.remove(this._onPermissionsChanged),this._contentPermissions=t,this._contentPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderPermissions",{get:function(){return this._placeholderPermissions},set:function(t){if(null==t)throw new g.b("placeholderPermissions cannot be null");y.c(this._placeholderPermissions,t)||(null!=this._placeholderPermissions&&this._placeholderPermissions.propertyChanged.remove(this._onPermissionsChanged),this._placeholderPermissions=t,this.applyPermissionsConstrain(),this._placeholderPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"placeholderPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFrame",{get:function(){return null!=this._topFrames&&this._topFrames.length>0||null!=this._bottomFrames&&this._bottomFrames.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.isEmptyContent||(this._content.parentPlaceholder=this,this._content.parentContainer=null,this._content.applyPermissionsConstrain()),this._setStubStorageMeta(),this._propertyChanged.notify(this,"content")},enumerable:!0,configurable:!0}),e.prototype._setStubStorageMeta=function(){this.isStubContent&&this._content instanceof s.a&&(this.stubStorageMeta=new l.a({isUserImage:this._content.isUserImage,isVector:this._content.source.isVector,name:"Stub content",size:{width:this._content.source.width,height:this._content.source.height},storageId:this._content.source.id,origin:this._content.source.origin}))},Object.defineProperty(e.prototype,"topFrames",{get:function(){return this._topFrames},set:function(t){var e=this;if(null==t)throw new g.b;this._topFrames=t,this._topFrames.forEach(function(t){t.parentPlaceholder=e,t.parentContainer=null})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomFrames",{get:function(){return this._bottomFrames},set:function(t){var e=this;if(null==t)throw new g.b;this._bottomFrames=t,this._bottomFrames.forEach(function(t){t.parentPlaceholder=e,t.parentContainer=null})},enumerable:!0,configurable:!0}),e.prototype.updateContentAndFrames=function(t){null!=this.content&&t(this.content),null!=this.topFrames&&this.topFrames.forEach(function(e){t(e)}),null!=this.bottomFrames&&this.bottomFrames.forEach(function(e){t(e)})},Object.defineProperty(e.prototype,"imageContent",{get:function(){if(null!=this._content&&!(this._content instanceof s.a))throw new g.d("Not image content!");return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmptyContent",{get:function(){return null==this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStubOrEmpty",{get:function(){return this.isStubContent||this.isEmptyContent},enumerable:!0,configurable:!0}),e.prototype._canSetIsVariable=function(){return!0},Object.defineProperty(e.prototype,"isBarcodePlaceholder",{get:function(){return null!=this.barcodeFormat},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){var e=t.prototype.getSimplifiedObject.call(this,["_content","imageContent","placeholderPermissions","contentPermissions","isFrame","isEmptyContent","isStubOrEmpty","isBarcodePlaceholder"]);return e.content=null!=this.content?this.content.getSimplifiedObject():null,e.placeholderPermissions=this.placeholderPermissions.getSimplifiedObject(),e.contentPermissions=this.contentPermissions.getSimplifiedObject(),e},e.prototype._copy=function(e,n,o,r){if(t.prototype._copy.call(this,e,n,o,r),n.linkId=e.linkId,n.allowedSubfolder=e.allowedSubfolder,n.allowedTabs=null!=e.allowedTabs?e.allowedTabs.map(function(t){return t}):null,n.contentVerticalAlignment=e.contentVerticalAlignment,n.contentHorizontalAlignment=e.contentHorizontalAlignment,n.placeholderPermissions=e.placeholderPermissions.clone(),null!=e.content?(null==n.content?n.content=e.content.clone(o,r):n.content.update(e.content),n.content.parentPlaceholder=n):n.content=null,e.topFrames.length===n.topFrames.length)for(var i=0;i<e.topFrames.length;i++)n.topFrames[i].update(e.topFrames[i]),n.topFrames[i].parentPlaceholder=n;else n.topFrames=e.topFrames.map(function(t){var e=t.clone(o,r);return e.parentPlaceholder=n,e});if(e.bottomFrames.length===n.bottomFrames.length)for(i=0;i<e.bottomFrames.length;i++)n.bottomFrames[i].update(e.bottomFrames[i]),n.bottomFrames[i].parentPlaceholder=n;else n.bottomFrames=e.bottomFrames.map(function(t){var e=t.clone(o,r);return e.parentPlaceholder=n,e});n.stubStorageMeta=null!=e.stubStorageMeta?e.stubStorageMeta.clone():null,n.isStubContent=e.isStubContent,n.isCoverMode=e.isCoverMode,n.contentResizeMode=e.contentResizeMode,n.contentEffect=e.contentEffect,n.contentFillColor=null!=e._contentFillColor?e._contentFillColor.clone():null,n.contentOverlayEffect=null!=e.contentOverlayEffect?e.contentOverlayEffect.clone():null,n.barcodeFormat=e.barcodeFormat,n.contentPermissions=e.contentPermissions.clone(),n.isVariable=e.isVariable},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="PlaceholderItem",e._emptyPlaceholderBorderColor=new u.RgbColor("rgb(204, 204, 204)"),e._emptyPlaceholderBorderWidth=1,e}(a.a)},459:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(375),r=n(429),i=n(395),a=n(368),s=n(376),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(t){function e(){var n=t.call(this)||this;return n._maskOpacity=.45,n.parentPlaceholder=null,n.type=e.type,n.borderWidth=0,n.fillColor=new o.RgbColor("rgba(0, 0, 0, 0)"),n._ignorePermissionsChange=!0,n.itemPermissions.itemToolbarPermissions.showEditButton=!0,n._ignorePermissionsChange=!1,n}return l(e,t),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._maskOpacity},set:function(t){a.EqualsOfFloatNumbers(this._maskOpacity,t)||(this._maskOpacity=t,this._propertyChanged.notify(this,"maskOpacity"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){null!=this.parentPlaceholder&&(this.parentPlaceholder.isCoverMode?(this.manipulationPermissions.resizeGrips.edgeConstraint=!1,this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.allowRotateConstraint=!1):(this.manipulationPermissions.resizeGrips.edgeConstraint=null,this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(null),this.manipulationPermissions.allowRotateConstraint=null),this.parentPlaceholder.applyPermissionsConstrain()),this.isRenderTypeIsNormal||(this.itemPermissions.allowOpacityChange=!1,this.shapePermissions.allowChangeBorderColor=!1,this.shapePermissions.allowChangeFillColor=!1)},e.prototype.getSimplifiedObject=function(e){return s.isArray(e)||s.isString(e)||(e=[]),t.prototype.getSimplifiedObject.call(this,["parentPlaceholder"].concat(e))},e.prototype._canSetIsVariable=function(){return!0},e.prototype._getPrintAreaBounds=function(){var t=null!=this.parentContainer?this.parentContainer:null!=this.parentPlaceholder?this.parentPlaceholder.parentContainer:null;return t instanceof i.d?t.parentComponent.bounds:null},e.prototype._getParentContainer=function(){return null!=this.parentPlaceholder?this.parentPlaceholder.parentContainer:null},e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n._maskOpacity=e._maskOpacity,n.isVariable=e.isVariable},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="ContentItem",e}(r.a)},460:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(t){this._allowChangeImage=!0,this.allowEditImageConstraint=null,this._allowEditImage=!0,this._allowKeepOverlayColor=!1,this.propertyChanged=new o.a,null==t&&(t=!0),this.allowChangeImage=t,this.allowEditImage=t,this.allowKeepOverlayColor=t}return Object.defineProperty(t.prototype,"allowChangeImage",{get:function(){return this._allowChangeImage},set:function(t){this._allowChangeImage!==t&&(this._allowChangeImage=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowEditImage",{get:function(){return null!=this.allowEditImageConstraint?this.allowEditImageConstraint:this._allowEditImage},set:function(t){this._allowEditImage!==t&&(this._allowEditImage=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowKeepOverlayColor",{get:function(){return this._allowKeepOverlayColor},set:function(t){this._allowKeepOverlayColor!==t&&(this._allowKeepOverlayColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeImage=this.allowChangeImage,e.allowEditImage=this.allowEditImage,e.allowKeepOverlayColor=this.allowKeepOverlayColor,e},t.prototype.equals=function(t){return this.allowChangeImage===t.allowChangeImage&&this.allowEditImage===t.allowEditImage&&this.allowKeepOverlayColor===t.allowKeepOverlayColor},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeImage=this.allowChangeImage,t.allowEditImage=this.allowEditImage,t.allowKeepOverlayColor=this.allowKeepOverlayColor,t},t}()},461:function(t,e,n){"use strict";n.d(e,"e",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var o,r=n(371),i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},a=function(t){return new Promise(function(e,n){var o,a,s=new XMLHttpRequest;if(s.open(t.type,t.url,!0),s.setRequestHeader("Accept","*/*"),null!=t.headers)try{for(var l=i(t.headers),u=l.next();!u.done;u=l.next()){var c=u.value;s.setRequestHeader(c.name,c.value)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}null!=t.responseType&&(s.responseType=t.responseType),s.send(t.data),s.onreadystatechange=function(){if(4===s.readyState){var t=s.status,o={value:"arraybuffer"!==s.responseType?s.responseText:"",status:t,contentType:s.getResponseHeader("content-type"),xhr:s};t>=200&&t<300?e(o):n(new r.a(o))}}})},s=function(t){return a({url:t,type:l.get,headers:[u.json]})};!function(t){t[t.Ok=200]="Ok",t[t.NoContent=204]="NoContent",t[t.NotFound=404]="NotFound",t[t.InternalServerError=500]="InternalServerError"}(o||(o={}));var l,u;!function(t){t.post="POST",t.get="GET",t.Delete="DELETE"}(l||(l={})),function(t){t.isJsonContentType=function(t){return 0===t.trim().toLowerCase().indexOf("application/json")},t.json={name:"Content-Type",value:"application/json;charset=UTF-8"},t.text={name:"Content-Type",value:"text/plain"}}(u||(u={}))},462:function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r});var o,r,i=n(459),a=n(463),s=n(371),l=n(392),u=n(375),c=n(376),h=n(510),p=n(372),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(n,i,s,c){var h=t.call(this)||this;return h._barcodeContent="",h._barcodeFormat=o.QR_CODE,h._barcodeOptions={},h._barcodeSubType=r.Url,h._color=new u.RgbColor("rgb(0,0,0)"),h.type=e.type,h._barcodePermissions=new a.a,h._barcodeOptions.pureBarcode=!0,h._ignorePermissionsChange=!1,h.manipulationPermissions.resizeGrips=new l.a(!0,!1),h.shapePermissions.allowChangeFillColor=!0,h.barcodePermissions.allowChangeBarcodeType=!1,h.barcodePermissions.allowChangeBarcodeColor=!0,h.barcodePermissions.allowChangeBarcodeContent=!0,h._ignorePermissionsChange=!0,h.fillColor=new u.RgbColor("rgba(255,255,255,1)"),null!=n&&(h._barcodeFormat=n),null!=i&&(h._barcodeContent=i),null!=s&&(h._barcodeOptions=s),null!=c&&(h.sourceRectangle=c),h.applyPermissionsConstrain(),h}return f(e,t),Object.defineProperty(e.prototype,"barcodePermissions",{get:function(){return this._barcodePermissions},set:function(t){if(null==t)throw new s.b("barcodePermissions cannot be null");p.c(this._barcodePermissions,t)||(this._barcodePermissions.propertyChanged.remove(this._onPermissionsChanged),this._barcodePermissions=t,this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeContent",{get:function(){return this._barcodeContent},set:function(t){this._barcodeContent!==t&&(this._barcodeContent=t,this._propertyChanged.notify(this,"barcodeContent"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeFormat",{get:function(){return this._barcodeFormat},set:function(t){this._barcodeFormat!==t&&(this._barcodeFormat=t,this._propertyChanged.notify(this,"barcodeFormat"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeSubType",{get:function(){return this._barcodeSubType},set:function(t){this._barcodeSubType!==t&&(this._barcodeSubType=t,this._propertyChanged.notify(this,"barcodeSubType"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color.equals(t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeOptions",{get:function(){return this._barcodeOptions},set:function(t){JSON.stringify(this._barcodeOptions)!==JSON.stringify(t)&&(this._barcodeOptions=t,this._propertyChanged.notify(this,"barcodeOptions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isQrCode",{get:function(){return this.barcodeFormat===o.QR_CODE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinearBarcode",{get:function(){return this.barcodeFormat===o.EAN_13||this.barcodeFormat===o.EAN_8||this.barcodeFormat===o.UPC_A||this.barcodeFormat===o.UPC_E},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.barcodePermissions=e.barcodePermissions.clone(),n.barcodeContent=e.barcodeContent,n.barcodeFormat=e.barcodeFormat,n.barcodeSubType=e.barcodeSubType,n.color=e.color.clone(),n.barcodeOptions={width:e.barcodeOptions.width,height:e.barcodeOptions.height,margin:e.barcodeOptions.margin,pureBarcode:e.barcodeOptions.pureBarcode,errorCorrection:e.barcodeOptions.errorCorrection,characterSet:e.barcodeOptions.characterSet,pdf417Compact:e.barcodeOptions.pdf417Compact,pdf417Compaction:e.barcodeOptions.pdf417Compaction,pdf417Dimensions:e.barcodeOptions.pdf417Dimensions,disableEci:e.barcodeOptions.disableEci,code128ForceCodesetB:e.barcodeOptions.code128ForceCodesetB,aztecLayers:e.barcodeOptions.aztecLayers,qrVersion:e.barcodeOptions.qrVersion}},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.prototype.getSimplifiedObject=function(e){c.isArray(e)||c.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["barcodePermissions","isQrCode","isLinearBarcode","barcodeData"].concat(e));return n.barcodePermissions=this.barcodePermissions.getSimplifiedObject(),n},e.prototype.applyPermissionsConstrain=function(){null!=this.itemPermissions&&null!=this.itemPermissions.itemToolbarPermissions&&(null==this.barcodePermissions||this.barcodePermissions.allowChangeBarcodeContent?this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null:this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=this.barcodePermissions.allowChangeBarcodeContent,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1)},Object.defineProperty(e.prototype,"barcodeData",{get:function(){var t=new h.a;switch(t.barcodeSubType=this.barcodeSubType,t.barcodeFormat=this.barcodeFormat,t.barcodeFormat){case o.EAN_13:case o.EAN_8:case o.UPC_A:case o.UPC_E:case o.CODE_128:t.barcodeValue=this.barcodeContent;break;case o.QR_CODE:switch(this.barcodeSubType){case r.Phone:t.phone=this.barcodeContent;break;case r.Url:t.url=this.barcodeContent;break;case r.VCard:return h.a.fromVCardString(this.barcodeContent)}}return t},enumerable:!0,configurable:!0}),e.prototype.applyBarcodeData=function(t){this.barcodeFormat=t.barcodeFormat,this.barcodeSubType=null!=t.barcodeSubType?t.barcodeSubType:this.barcodeFormat===o.QR_CODE?r.Phone:r.None;var e="";switch(this.barcodeFormat){case o.QR_CODE:switch(this.barcodeSubType){case r.Phone:e=t.phone;break;case r.None:case r.Url:e=t.url;break;case r.VCard:e=t.toVCardString()}break;case o.EAN_8:case o.EAN_13:case o.UPC_A:case o.UPC_E:case o.CODE_128:e=t.barcodeValue}this.barcodeContent=e},e.type="BarcodeItem",e}(i.a);!function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.MAXICODE="MAXICODE",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.All_1D="All_1D",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION",t.MSI="MSI",t.PLESSEY="PLESSEY",t.IMB="IMB"}(o||(o={})),function(t){t.None="None",t.VCard="VCard",t.Phone="Phone",t.Url="Url"}(r||(r={}))},463:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(){this._allowChangeBarcodeType=!0,this._allowChangeBarcodeContent=!0,this._allowChangeBarcodeColor=!0,this.propertyChanged=new o.a}return Object.defineProperty(t.prototype,"allowChangeBarcodeType",{get:function(){return this._allowChangeBarcodeType},set:function(t){this._allowChangeBarcodeType!==t&&(this._allowChangeBarcodeType=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBarcodeContent",{get:function(){return this._allowChangeBarcodeContent},set:function(t){this._allowChangeBarcodeContent!==t&&(this._allowChangeBarcodeContent=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBarcodeColor",{get:function(){return this._allowChangeBarcodeColor},set:function(t){this._allowChangeBarcodeColor!==t&&(this._allowChangeBarcodeColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeBarcodeType=this.allowChangeBarcodeType,t.allowChangeBarcodeContent=this.allowChangeBarcodeContent,t.allowChangeBarcodeColor=this.allowChangeBarcodeColor,t},t.prototype.clone=function(){var e=new t;return e.allowChangeBarcodeType=this.allowChangeBarcodeType,e.allowChangeBarcodeContent=this.allowChangeBarcodeContent,e.allowChangeBarcodeColor=this.allowChangeBarcodeColor,e},t.prototype.equals=function(t){return this.allowChangeBarcodeColor===t.allowChangeBarcodeColor&&this.allowChangeBarcodeContent===t.allowChangeBarcodeContent&&this.allowChangeBarcodeType===t.allowChangeBarcodeType},t}()},464:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var o=n(401),r=n(387),i=n(513),a=n(375),s=n(371),l=n(382),u=n(372),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=function(t){function e(n,o){var s=t.call(this)||this;return s._width=4,s._color=new a.RgbColor("rgba(0, 0, 0, 1)"),s._sourcePoint0=new r.a,s._sourcePoint1=new r.a,s._fixedWidth=!1,s.lineColorForAbnormalRendering=new a.RgbColor("rgb(0,0,0)"),s.type=e.type,s._sourcePoint0=null!=n?n:new r.a,s._sourcePoint1=null!=o?o:new r.a,s._linePermissions=new i.a,s._linePermissions.propertyChanged.add(s._onPermissionsChanged),s._ignorePermissionsChange=!0,s.itemPermissions.itemToolbarPermissions.showEditButton=!1,s.itemPermissions.itemToolbarPermissions.showSelectButton=!1,s._ignorePermissionsChange=!1,s}return c(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){l.e(this._width,t)||(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){a.Color.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoint0",{get:function(){return this._sourcePoint0},set:function(t){r.a.isEqual(this._sourcePoint0,t)||(this._sourcePoint0=t,this._propertyChanged.notify(this,"sourcePoint0"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoint1",{get:function(){return this._sourcePoint1},set:function(t){r.a.isEqual(this._sourcePoint1,t)||(this._sourcePoint1=t,this._propertyChanged.notify(this,"sourcePoint1"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidth",{get:function(){return this._fixedWidth},set:function(t){this._fixedWidth!==t&&(this._fixedWidth=t,this._propertyChanged.notify(this,"fixedWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linePermissions",{get:function(){return this._linePermissions},set:function(t){if(null==t)throw new s.b("linePermissions cannot be null");u.c(this._linePermissions,t)||(this._linePermissions.propertyChanged.remove(this._onPermissionsChanged),this._linePermissions=t,this._linePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),e.prototype._subscribeToPermissionChanged=function(){this._linePermissions.propertyChanged.add(this._onPermissionsChanged)},e.prototype._unsubscribeFromPermissionChanged=function(){this._linePermissions.propertyChanged.remove(this._onPermissionsChanged)},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButton=!1,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.isRenderTypeIsNormal||(this.linePermissions.allowChangeLineColor=!1)},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["linePermissions"].concat(e));return n.linePermissions=this.linePermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.width=e.width,n.color=e.color.clone(),n.sourcePoint0=e.sourcePoint0.clone(),n.sourcePoint1=e.sourcePoint1.clone(),n.fixedWidth=e.fixedWidth,n.linePermissions=null!=e._linePermissions?e._linePermissions.clone():null},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="LineItem",e}(o.a)},465:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(375),r=n(368),i=n(370),a=function(){function t(t){if(this._color=null,this._opacity=null,this._blendMode=null,this.$_propertyChanged=new i.b,null!=t){var e=t.color,n=t.opacity,r=t.blendMode;this.color=e instanceof o.Color?e:null,this.blendMode="number"==typeof r?r:null,this.opacity="number"==typeof n?n:null}}return t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e.color,i=e.opacity,a=e.blendMode;return o.Color.equals(n,this.color)&&(null==i&&null==this.opacity||Object(r.EqualsOfFloatNumbers)(i,this.opacity))&&(null==a&&null==this.blendMode||Object(r.EqualsOfFloatNumbers)(a,this.blendMode))},t.prototype.getData=function(){return{color:this.color,blendMode:this.blendMode,opacity:this.opacity}},t.equals=function(t,e){return null==t&&null==e||null!=t&&t.equals(e)},t.prototype.clone=function(){return new t({blendMode:this.blendMode,color:null!=this.color?this.color.clone():null,opacity:this.opacity})},Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){o.Color.equals(this.color,t)||(this._color=t,this.$_propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blendMode!==t&&(this._blendMode=t,this.$_propertyChanged.notify(this,"blendMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this.opacity!==t&&(this._opacity=t,this.$_propertyChanged.notify(this,"opacity"))},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this.$_propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this.$_propertyChanged.remove(t)},t}()},466:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t){this.__type="ItemHandlerData",this.P=[],this.Tg=null,this.ID="vo"+(new Date).getTime()+Math.round(1e3*Math.random()),t&&(this.P=t.controlPoints,this.Tg=t.tag,this.ID=t.uniqueId)}return t.prototype.applyState=function(t,e){e&&(e.beginUpdate(),e.controlPoints=t.P,e.tag=t.Tg,e.uniqueId=t.ID,e.endUpdate())},t}()},467:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(391),r=n(380),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var o=t.call(this)||this;return o.parentSurface=null,o._underContainers=new r.a,o._overContainers=new r.a,o._onContainerAdded=function(t){t.item.parentComponent=o},o.underContainers.add_itemAdded(o._onContainerAdded),o.underContainers.setRange(e),o.overContainers.add_itemAdded(o._onContainerAdded),o.overContainers.setRange(n),o}return i(e,t),e.prototype.isEmpty=function(){return this.underContainers.concat(this.overContainers).all(function(t){return t.items.empty})},Object.defineProperty(e.prototype,"underContainers",{get:function(){return this._underContainers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overContainers",{get:function(){return this._overContainers},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentSurface"])},e.prototype._copy=function(e,n,o){t.prototype._copy.call(this,e,n,o),n.underContainers.addRange(e.underContainers.toArray().map(function(t){return t.clone(o)})),n.overContainers.addRange(e.overContainers.toArray().map(function(t){return t.clone(o)}))},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId(),this._underContainers.forEach(function(t){return t.generateNewIds()}),this._overContainers.forEach(function(t){return t.generateNewIds()})},e}(o.a)},468:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(405),r=n(416),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="BaseTextHandlerData",n}return i(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),null!=e.currentTextImage?n.currentTextImage=Object.assign(new o.b,e.currentTextImage):n.currentTextImage=null),t.prototype.applyState.call(this,e,n)},e}(r.a)},469:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t){var e=this;this._src=null,this._onLoadedDelegate=function(n){if(!n.target)throw new Error('"e.target" is null.');e._onLoaded(n,n.target),t()},this._image=this._createImageObject(this._onLoadedDelegate),this._tmpImage=this._createImageObject(this._onLoadedDelegate)}return t.prototype._onLoaded=function(t,e){e===this._tmpImage&&(this._tmpImage=this._image,this._image=e,this._src=e.src),this._loaded=!0,this._loading=!1},Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._loading},set:function(t){this._loading=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},enumerable:!0,configurable:!0}),t.prototype.updateUrl=function(t){this._tmpImage.src!==t?(this._loading=!0,this._tmpImage.src=t,this._src=t):this._onLoadedDelegate({target:this._tmpImage})},t.prototype.clear=function(){this.source=null},Object.defineProperty(t.prototype,"source",{get:function(){return this._src},set:function(t){this._src!==t&&(this._loaded=!1,this._src=t,this._image.src=null==this._src?"":t)},enumerable:!0,configurable:!0}),t.prototype._createImageObject=function(t){var e=new Image;return"function"==typeof t&&e.addEventListener("load",t),e},t.prototype.dispose=function(){this._tmpImage.removeEventListener("load",this._onLoadedDelegate),this._image.removeEventListener("load",this._onLoadedDelegate),delete this._onLoadedDelegate},t}()},470:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var o=n(405),r=n(368),i=n(370),a=n(378),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n._updatedForAlignmentEvent=new i.b,n}return s(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.baselineLocation=e.baselineLocation},e.prototype._onItemPropertyChanged=function(e,n){var o=this;switch(n){case"baselineLocation":this.update(null,null,!0);break;case"alignment":var r=this.rectangle.location,i=this.canvas.history;null!=i&&i.pause(),this.update(null,function(){var t=o.rectangle.location,e=r.x-t.x,n=r.y-t.y;o.item.transform.move(e,n),null!=i&&i.resume()})}"alignment"!==n&&t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._createItemHandlerPermissions=function(){var e=t.prototype._createItemHandlerPermissions.call(this);return e.set_allowArbitraryResize(!1),e},e.prototype._getBaselineLocation=function(){var t=this.getControlCenter(),e=this.item.baselineLocation.clone();return e.transform(this.item.transform.clone(),t),e},e.prototype.addUpdatedForAlignment=function(t){this._updatedForAlignmentEvent.add(t)},e.prototype.removeUpdatedForAlignment=function(t){this._updatedForAlignmentEvent.remove(t)},e.prototype.raiseUpdatedForAlignment=function(){this._updatedForAlignmentEvent.notify(this)},e.prototype.drawItemHandler=function(e){if(t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$){var n=this._getBaselineLocation(),o=new r.RotatedRectangleF(n.x,n.y,6,6,0);a.a.fillRectangle(e,o,"red")}},e.prototype._onResized=function(){var e=this.rectangle.height/this._height,n=parseFloat((this.item.font.size*e).toFixed(1)),o=parseFloat((this.item.leading*e).toFixed(1)),i=this.canvas,a=i.minFontSize;n="number"==typeof a?Math.max(n,a):n;var s=i.maxFontSize;if(n="number"==typeof s?Math.min(n,s):n,0!==o){var l=i.minLeading;o="number"==typeof l?Math.max(o,l):o;var u=i.maxLeading;o="number"==typeof u?Math.min(o,u):o}return Object(r.EqualsOfFloatNumbers)(n,this.item.font.size,.01)&&Object(r.EqualsOfFloatNumbers)(o,this.item.leading,.01)?(null!=this._startRectangle?(this.setRectangle(this._startRectangle),i.updateSelection(),delete this._startRectangle):this.update(null,null,!0),!1):(this.frontEndRenderingReady&&this._modifyItem(function(t){t.font.size=n,t.leading=o}),t.prototype._onResized.call(this))},e.prototype._createText=function(){var t=this.item,e=this._fontRegistry.createFont(t.font.postScriptName,t.font.size);return new this._textWhizz.PlainText(t.textForTextWhizz,e,t.baselineLocation.x,t.baselineLocation.y)},e.prototype._updateStyle=function(t){},e.prototype._measureText=function(){var t=this._textManager.textHandler.getBlackBox();return new r.RectangleF(t.x,t.y,t.width,t.height)},e.prototype._beforeFrontEndUpdate=function(){var t=this;if(!this.item.transform.isEmpty){var e=this.item.transform.clone();e.setAngle(0,!0),this._modifyItem(function(n){n.baselineLocation=n.baselineLocation.clone().transform(e,t.getControlCenter())})}},e.typeName="PlainTextItemHandler",e}(o.a)},472:function(t,e,n){"use strict";var o=n(414),r=n(422),i=n(413),a=n(396),s=n(470),l=n(438),u=n(534),c=n(371),h=function(){function t(t){var e=t.map(function(t){return[t.typeName,t]});this._dict=new Map(e)}return t.prototype.create=function(t){var e=this._dict.get(t);if(null!=e)return new e;throw new c.f("Unknown vo type "+t)},t}();n.d(e,"a",function(){return f});var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=function(t){function e(){return t.call(this,[o.a,r.a,i.a,a.a,s.a,l.a,u.a])||this}return p(e,t),e}(h)},494:function(t,e){(function(e){t.exports=e}).call(this,{})},495:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"e",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"d",function(){return s});var o="The item already belongs to this collection, or to another collection.",r="The item was not found in this collection.",i="setPoint: Index out of range.",a="addPoint: Index out of range.",s="removePoint: Index out of range."},496:function(t,e,n){var o;!function(r,i){var a={Identity:function(t){return t},True:function(){return!0},Blank:function(){}},s=typeof!0,l="number",u="string",c=typeof{},h="undefined",p="function",f={"":a.Identity},d={createLambda:function(t){if(null==t)return a.Identity;if(typeof t===u){var e=f[t];if(null!=e)return e;if(-1===t.indexOf("=>")){for(var n,o=new RegExp("[$]+","g"),r=0;null!=(n=o.exec(t));){var i=n[0].length;i>r&&(r=i)}for(var s=[],l=1;l<=r;l++){for(var c="",h=0;h<l;h++)c+="$";s.push(c)}var p=Array.prototype.join.call(s,",");return e=new Function(p,"return "+t),f[t]=e,e}var d=t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return e=new Function(d[1],"return "+d[2]),f[t]=e,e}return t},isIEnumerable:function(t){if(typeof Enumerator!==h)try{return new Enumerator(t),!0}catch(t){}return!1},defineProperty:null!=Object.defineProperties?function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}:function(t,e,n){t[e]=n},compare:function(t,e){return t===e?0:t>e?1:-1},dispose:function(t){null!=t&&t.dispose()}},g=0,y=1,m=2,_=function(t,e,n){var o=new b,r=g;this.current=o.current,this.moveNext=function(){try{switch(r){case g:r=y,t();case y:return!!e.apply(o)||(this.dispose(),!1);case m:return!1}}catch(t){throw this.dispose(),t}},this.dispose=function(){if(r==y)try{n()}finally{r=m}}},b=function(){var t=null;this.current=function(){return t},this.yieldReturn=function(e){return t=e,!0},this.yieldBreak=function(){return!1}},v=function(t){this.getEnumerator=t};(v.Utils={}).createLambda=function(t){return d.createLambda(t)},v.Utils.createEnumerable=function(t){return new v(t)},v.Utils.createEnumerator=function(t,e,n){return new _(t,e,n)},v.Utils.extendTo=function(t){var e,n=t.prototype;for(var o in t===Array?(e=O.prototype,d.defineProperty(n,"getSource",function(){return this})):(e=v.prototype,d.defineProperty(n,"getEnumerator",function(){return v.from(this).getEnumerator()})),e){var r=e[o];n[o]!=r&&(null!=n[o]&&n[o+="ByLinq"]==r||r instanceof Function&&d.defineProperty(n,o,r))}},v.choice=function(){var t=arguments;return new v(function(){return new _(function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t},function(){return this.yieldReturn(t[Math.floor(Math.random()*t.length)])},a.Blank)})},v.cycle=function(){var t=arguments;return new v(function(){var e=0;return new _(function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t},function(){return e>=t.length&&(e=0),this.yieldReturn(t[e++])},a.Blank)})},v.empty=function(){return new v(function(){return new _(a.Blank,function(){return!1},a.Blank)})},v.from=function(t){if(null==t)return v.empty();if(t instanceof v)return t;if(typeof t==l||typeof t==s)return v.repeat(t,1);if(typeof t==u)return new v(function(){var e=0;return new _(a.Blank,function(){return e<t.length&&this.yieldReturn(t.charAt(e++))},a.Blank)});if(typeof t!=p){if(typeof t.length==l)return new O(t);if(!(t instanceof Object)&&d.isIEnumerable(t))return new v(function(){var e,n=!0;return new _(function(){e=new Enumerator(t)},function(){return n?n=!1:e.moveNext(),!e.atEnd()&&this.yieldReturn(e.item())},a.Blank)});if(typeof Windows===c&&typeof t.first===p)return new v(function(){var e,n=!0;return new _(function(){e=t.first()},function(){return n?n=!1:e.moveNext(),e.hasCurrent?this.yieldReturn(e.current):this.yieldBreak()},a.Blank)})}return new v(function(){var e=[],n=0;return new _(function(){for(var n in t){var o=t[n];o instanceof Function||!Object.prototype.hasOwnProperty.call(t,n)||e.push({key:n,value:o})}},function(){return n<e.length&&this.yieldReturn(e[n++])},a.Blank)})},v.make=function(t){return v.repeat(t,1)},v.matches=function(t,e,n){return null==n&&(n=""),e instanceof RegExp&&(n+=e.ignoreCase?"i":"",n+=e.multiline?"m":"",e=e.source),-1===n.indexOf("g")&&(n+="g"),new v(function(){var o;return new _(function(){o=new RegExp(e,n)},function(){var e=o.exec(t);return!!e&&this.yieldReturn(e)},a.Blank)})},v.range=function(t,e,n){return null==n&&(n=1),new v(function(){var o,r=0;return new _(function(){o=t-n},function(){return r++<e?this.yieldReturn(o+=n):this.yieldBreak()},a.Blank)})},v.rangeDown=function(t,e,n){return null==n&&(n=1),new v(function(){var o,r=0;return new _(function(){o=t+n},function(){return r++<e?this.yieldReturn(o-=n):this.yieldBreak()},a.Blank)})},v.rangeTo=function(t,e,n){return null==n&&(n=1),new v(t<e?function(){var o;return new _(function(){o=t-n},function(){var t=o+=n;return t<=e?this.yieldReturn(t):this.yieldBreak()},a.Blank)}:function(){var o;return new _(function(){o=t+n},function(){var t=o-=n;return t>=e?this.yieldReturn(t):this.yieldBreak()},a.Blank)})},v.repeat=function(t,e){return null!=e?v.repeat(t).take(e):new v(function(){return new _(a.Blank,function(){return this.yieldReturn(t)},a.Blank)})},v.repeatWithFinalize=function(t,e){return t=d.createLambda(t),e=d.createLambda(e),new v(function(){var n;return new _(function(){n=t()},function(){return this.yieldReturn(n)},function(){null!=n&&(e(n),n=null)})})},v.generate=function(t,e){return null!=e?v.generate(t).take(e):(t=d.createLambda(t),new v(function(){return new _(a.Blank,function(){return this.yieldReturn(t())},a.Blank)}))},v.toInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new v(function(){var n;return new _(function(){n=t-e},function(){return this.yieldReturn(n+=e)},a.Blank)})},v.toNegativeInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new v(function(){var n;return new _(function(){n=t+e},function(){return this.yieldReturn(n-=e)},a.Blank)})},v.unfold=function(t,e){return e=d.createLambda(e),new v(function(){var n,o=!0;return new _(a.Blank,function(){return o?(o=!1,n=t,this.yieldReturn(n)):(n=e(n),this.yieldReturn(n))},a.Blank)})},v.defer=function(t){return new v(function(){var e;return new _(function(){e=v.from(t()).getEnumerator()},function(){return e.moveNext()?this.yieldReturn(e.current()):this.yieldBreak()},function(){d.dispose(e)})})},v.prototype.traverseBreadthFirst=function(t,e){var n=this;return t=d.createLambda(t),e=d.createLambda(e),new v(function(){var o,r=0,i=[];return new _(function(){o=n.getEnumerator()},function(){for(;;){if(o.moveNext())return i.push(o.current()),this.yieldReturn(e(o.current(),r));var n=v.from(i).selectMany(function(e){return t(e)});if(!n.any())return!1;r++,i=[],d.dispose(o),o=n.getEnumerator()}},function(){d.dispose(o)})})},v.prototype.traverseDepthFirst=function(t,e){var n=this;return t=d.createLambda(t),e=d.createLambda(e),new v(function(){var o,r=[];return new _(function(){o=n.getEnumerator()},function(){for(;;){if(o.moveNext()){var n=e(o.current(),r.length);return r.push(o),o=v.from(t(o.current())).getEnumerator(),this.yieldReturn(n)}if(r.length<=0)return!1;d.dispose(o),o=r.pop()}},function(){try{d.dispose(o)}finally{v.from(r).forEach(function(t){t.dispose()})}})})},v.prototype.flatten=function(){var t=this;return new v(function(){var e,n=null;return new _(function(){e=t.getEnumerator()},function(){for(;;){if(null!=n){if(n.moveNext())return this.yieldReturn(n.current());n=null}if(e.moveNext()){if(e.current()instanceof Array){d.dispose(n),n=v.from(e.current()).selectMany(a.Identity).flatten().getEnumerator();continue}return this.yieldReturn(e.current())}return!1}},function(){try{d.dispose(e)}finally{d.dispose(n)}})})},v.prototype.pairwise=function(t){var e=this;return t=d.createLambda(t),new v(function(){var n;return new _(function(){(n=e.getEnumerator()).moveNext()},function(){var e=n.current();return!!n.moveNext()&&this.yieldReturn(t(e,n.current()))},function(){d.dispose(n)})})},v.prototype.scan=function(t,e){var n;null==e?(e=d.createLambda(t),n=!1):(e=d.createLambda(e),n=!0);var o=this;return new v(function(){var r,i,a=!0;return new _(function(){r=o.getEnumerator()},function(){if(a){if(a=!1,n)return this.yieldReturn(i=t);if(r.moveNext())return this.yieldReturn(i=r.current())}return!!r.moveNext()&&this.yieldReturn(i=e(i,r.current()))},function(){d.dispose(r)})})},v.prototype.select=function(t){if((t=d.createLambda(t)).length<=1)return new x(this,null,t);var e=this;return new v(function(){var n,o=0;return new _(function(){n=e.getEnumerator()},function(){return!!n.moveNext()&&this.yieldReturn(t(n.current(),o++))},function(){d.dispose(n)})})},v.prototype.selectMany=function(t,e){var n=this;return t=d.createLambda(t),null==e&&(e=function(t,e){return e}),e=d.createLambda(e),new v(function(){var o,r=void 0,i=0;return new _(function(){o=n.getEnumerator()},function(){if(void 0===r&&!o.moveNext())return!1;do{if(null==r){var n=t(o.current(),i++);r=v.from(n).getEnumerator()}if(r.moveNext())return this.yieldReturn(e(o.current(),r.current()));d.dispose(r),r=null}while(o.moveNext());return!1},function(){try{d.dispose(o)}finally{d.dispose(r)}})})},v.prototype.where=function(t){if((t=d.createLambda(t)).length<=1)return new S(this,t);var e=this;return new v(function(){var n,o=0;return new _(function(){n=e.getEnumerator()},function(){for(;n.moveNext();)if(t(n.current(),o++))return this.yieldReturn(n.current());return!1},function(){d.dispose(n)})})},v.prototype.choose=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n,o=0;return new _(function(){n=e.getEnumerator()},function(){for(;n.moveNext();){var e=t(n.current(),o++);if(null!=e)return this.yieldReturn(e)}return this.yieldBreak()},function(){d.dispose(n)})})},v.prototype.ofType=function(t){var e;switch(t){case Number:e=l;break;case String:e=u;break;case Boolean:e=s;break;case Function:e=p;break;default:e=null}return null===e?this.where(function(e){return e instanceof t}):this.where(function(t){return typeof t===e})},v.prototype.zip=function(){var t=arguments,e=d.createLambda(arguments[arguments.length-1]),n=this;if(2==arguments.length){var o=arguments[0];return new v(function(){var t,r,i=0;return new _(function(){t=n.getEnumerator(),r=v.from(o).getEnumerator()},function(){return!(!t.moveNext()||!r.moveNext())&&this.yieldReturn(e(t.current(),r.current(),i++))},function(){try{d.dispose(t)}finally{d.dispose(r)}})})}return new v(function(){var o,r=0;return new _(function(){var e=v.make(n).concat(v.from(t).takeExceptLast().select(v.from)).select(function(t){return t.getEnumerator()}).toArray();o=v.from(e)},function(){if(o.all(function(t){return t.moveNext()})){var t=o.select(function(t){return t.current()}).toArray();return t.push(r++),this.yieldReturn(e.apply(null,t))}return this.yieldBreak()},function(){v.from(o).forEach(d.dispose)})})},v.prototype.merge=function(){var t=arguments,e=this;return new v(function(){var n,o=-1;return new _(function(){n=v.make(e).concat(v.from(t).select(v.from)).select(function(t){return t.getEnumerator()}).toArray()},function(){for(;n.length>0;){o=o>=n.length-1?0:o+1;var t=n[o];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),n.splice(o--,1)}return this.yieldBreak()},function(){v.from(n).forEach(d.dispose)})})},v.prototype.join=function(t,e,n,o,r){e=d.createLambda(e),n=d.createLambda(n),o=d.createLambda(o),r=d.createLambda(r);var i=this;return new v(function(){var s,l,u=null,c=0;return new _(function(){s=i.getEnumerator(),l=v.from(t).toLookup(n,a.Identity,r)},function(){for(;;){if(null!=u){var t=u[c++];if(void 0!==t)return this.yieldReturn(o(s.current(),t));t=null,c=0}if(!s.moveNext())return!1;var n=e(s.current());u=l.get(n).toArray()}},function(){d.dispose(s)})})},v.prototype.groupJoin=function(t,e,n,o,r){e=d.createLambda(e),n=d.createLambda(n),o=d.createLambda(o),r=d.createLambda(r);var i=this;return new v(function(){var s=i.getEnumerator(),l=null;return new _(function(){s=i.getEnumerator(),l=v.from(t).toLookup(n,a.Identity,r)},function(){if(s.moveNext()){var t=l.get(e(s.current()));return this.yieldReturn(o(s.current(),t))}return!1},function(){d.dispose(s)})})},v.prototype.all=function(t){t=d.createLambda(t);var e=!0;return this.forEach(function(n){if(!t(n))return e=!1,!1}),e},v.prototype.any=function(t){t=d.createLambda(t);var e=this.getEnumerator();try{if(0==arguments.length)return e.moveNext();for(;e.moveNext();)if(t(e.current()))return!0;return!1}finally{d.dispose(e)}},v.prototype.isEmpty=function(){return!this.any()},v.prototype.concat=function(){var t=this;if(1==arguments.length){var e=arguments[0];return new v(function(){var n,o;return new _(function(){n=t.getEnumerator()},function(){if(null==o){if(n.moveNext())return this.yieldReturn(n.current());o=v.from(e).getEnumerator()}return!!o.moveNext()&&this.yieldReturn(o.current())},function(){try{d.dispose(n)}finally{d.dispose(o)}})})}var n=arguments;return new v(function(){var e;return new _(function(){e=v.make(t).concat(v.from(n).select(v.from)).select(function(t){return t.getEnumerator()}).toArray()},function(){for(;e.length>0;){var t=e[0];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),e.splice(0,1)}return this.yieldBreak()},function(){v.from(e).forEach(d.dispose)})})},v.prototype.insert=function(t,e){var n=this;return new v(function(){var o,r,i=0,a=!1;return new _(function(){o=n.getEnumerator(),r=v.from(e).getEnumerator()},function(){return i==t&&r.moveNext()?(a=!0,this.yieldReturn(r.current())):o.moveNext()?(i++,this.yieldReturn(o.current())):!(a||!r.moveNext())&&this.yieldReturn(r.current())},function(){try{d.dispose(o)}finally{d.dispose(r)}})})},v.prototype.alternate=function(t){var e=this;return new v(function(){var n,o,r,i;return new _(function(){r=t instanceof Array||null!=t.getEnumerator?v.from(v.from(t).toArray()):v.make(t),(o=e.getEnumerator()).moveNext()&&(n=o.current())},function(){for(;;){if(null!=i){if(i.moveNext())return this.yieldReturn(i.current());i=null}if(null!=n||!o.moveNext()){if(null!=n){var t=n;return n=null,this.yieldReturn(t)}return this.yieldBreak()}n=o.current(),i=r.getEnumerator()}},function(){try{d.dispose(o)}finally{d.dispose(i)}})})},v.prototype.contains=function(t,e){e=d.createLambda(e);var n=this.getEnumerator();try{for(;n.moveNext();)if(e(n.current())===t)return!0;return!1}finally{d.dispose(n)}},v.prototype.defaultIfEmpty=function(t){var e=this;return void 0===t&&(t=null),new v(function(){var n,o=!0;return new _(function(){n=e.getEnumerator()},function(){return n.moveNext()?(o=!1,this.yieldReturn(n.current())):!!o&&(o=!1,this.yieldReturn(t))},function(){d.dispose(n)})})},v.prototype.distinct=function(t){return this.except(v.empty(),t)},v.prototype.distinctUntilChanged=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n,o,r;return new _(function(){n=e.getEnumerator()},function(){for(;n.moveNext();){var e=t(n.current());if(r)return r=!1,o=e,this.yieldReturn(n.current());if(o!==e)return o=e,this.yieldReturn(n.current())}return this.yieldBreak()},function(){d.dispose(n)})})},v.prototype.except=function(t,e){e=d.createLambda(e);var n=this;return new v(function(){var o,r;return new _(function(){o=n.getEnumerator(),r=new I(e),v.from(t).forEach(function(t){r.add(t)})},function(){for(;o.moveNext();){var t=o.current();if(!r.contains(t))return r.add(t),this.yieldReturn(t)}return!1},function(){d.dispose(o)})})},v.prototype.intersect=function(t,e){e=d.createLambda(e);var n=this;return new v(function(){var o,r,i;return new _(function(){o=n.getEnumerator(),r=new I(e),v.from(t).forEach(function(t){r.add(t)}),i=new I(e)},function(){for(;o.moveNext();){var t=o.current();if(!i.contains(t)&&r.contains(t))return i.add(t),this.yieldReturn(t)}return!1},function(){d.dispose(o)})})},v.prototype.sequenceEqual=function(t,e){e=d.createLambda(e);var n=this.getEnumerator();try{var o=v.from(t).getEnumerator();try{for(;n.moveNext();)if(!o.moveNext()||e(n.current())!==e(o.current()))return!1;return!o.moveNext()}finally{d.dispose(o)}}finally{d.dispose(n)}},v.prototype.union=function(t,e){e=d.createLambda(e);var n=this;return new v(function(){var o,r,i;return new _(function(){o=n.getEnumerator(),i=new I(e)},function(){var e;if(void 0===r){for(;o.moveNext();)if(e=o.current(),!i.contains(e))return i.add(e),this.yieldReturn(e);r=v.from(t).getEnumerator()}for(;r.moveNext();)if(e=r.current(),!i.contains(e))return i.add(e),this.yieldReturn(e);return!1},function(){try{d.dispose(o)}finally{d.dispose(r)}})})},v.prototype.orderBy=function(t){return new C(this,t,!1)},v.prototype.orderByDescending=function(t){return new C(this,t,!0)},v.prototype.reverse=function(){var t=this;return new v(function(){var e,n;return new _(function(){e=t.toArray(),n=e.length},function(){return n>0&&this.yieldReturn(e[--n])},a.Blank)})},v.prototype.shuffle=function(){var t=this;return new v(function(){var e;return new _(function(){e=t.toArray()},function(){if(e.length>0){var t=Math.floor(Math.random()*e.length);return this.yieldReturn(e.splice(t,1)[0])}return!1},a.Blank)})},v.prototype.weightedSample=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n,o=0;return new _(function(){n=e.choose(function(e){var n=t(e);return n<=0?null:{value:e,bound:o+=n}}).toArray()},function(){if(n.length>0){for(var t=Math.floor(Math.random()*o)+1,e=-1,r=n.length;r-e>1;){var i=Math.floor((e+r)/2);n[i].bound>=t?r=i:e=i}return this.yieldReturn(n[r].value)}return this.yieldBreak()},a.Blank)})},v.prototype.groupBy=function(t,e,n,o){var r=this;return t=d.createLambda(t),e=d.createLambda(e),null!=n&&(n=d.createLambda(n)),o=d.createLambda(o),new v(function(){var i;return new _(function(){i=r.toLookup(t,e,o).toEnumerable().getEnumerator()},function(){for(;i.moveNext();)return null==n?this.yieldReturn(i.current()):this.yieldReturn(n(i.current().key(),i.current()));return!1},function(){d.dispose(i)})})},v.prototype.partitionBy=function(t,e,n,o){var r,i=this;return t=d.createLambda(t),e=d.createLambda(e),o=d.createLambda(o),null==n?(r=!1,n=function(t,e){return new B(t,e)}):(r=!0,n=d.createLambda(n)),new v(function(){var a,s,l,u=[];return new _(function(){(a=i.getEnumerator()).moveNext()&&(s=t(a.current()),l=o(s),u.push(e(a.current())))},function(){for(var i;1==(i=a.moveNext())&&l===o(t(a.current()));)u.push(e(a.current()));if(u.length>0){var c=n(s,r?v.from(u):u);return i?(s=t(a.current()),l=o(s),u=[e(a.current())]):u=[],this.yieldReturn(c)}return!1},function(){d.dispose(a)})})},v.prototype.buffer=function(t){var e=this;return new v(function(){var n;return new _(function(){n=e.getEnumerator()},function(){for(var e=[],o=0;n.moveNext();)if(e.push(n.current()),++o>=t)return this.yieldReturn(e);return e.length>0&&this.yieldReturn(e)},function(){d.dispose(n)})})},v.prototype.aggregate=function(t,e,n){return(n=d.createLambda(n))(this.scan(t,e,n).last())},v.prototype.average=function(t){t=d.createLambda(t);var e=0,n=0;return this.forEach(function(o){e+=t(o),++n}),e/n},v.prototype.count=function(t){t=null==t?a.True:d.createLambda(t);var e=0;return this.forEach(function(n,o){t(n,o)&&++e}),e},v.prototype.max=function(t){return null==t&&(t=a.Identity),this.select(t).aggregate(function(t,e){return t>e?t:e})},v.prototype.min=function(t){return null==t&&(t=a.Identity),this.select(t).aggregate(function(t,e){return t<e?t:e})},v.prototype.maxBy=function(t){return t=d.createLambda(t),this.aggregate(function(e,n){return t(e)>t(n)?e:n})},v.prototype.minBy=function(t){return t=d.createLambda(t),this.aggregate(function(e,n){return t(e)<t(n)?e:n})},v.prototype.sum=function(t){return null==t&&(t=a.Identity),this.select(t).aggregate(0,function(t,e){return t+e})},v.prototype.elementAt=function(t){var e,n=!1;if(this.forEach(function(o,r){if(r==t)return e=o,n=!0,!1}),!n)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return e},v.prototype.elementAtOrDefault=function(t,e){var n;void 0===e&&(e=null);var o=!1;return this.forEach(function(e,r){if(r==t)return n=e,o=!0,!1}),o?n:e},v.prototype.first=function(t){if(null!=t)return this.where(t).first();var e,n=!1;if(this.forEach(function(t){return e=t,n=!0,!1}),!n)throw new Error("first:No element satisfies the condition.");return e},v.prototype.firstOrDefault=function(t,e){if(t){if(typeof t===p||typeof d.createLambda(t)===p)return this.where(t).firstOrDefault(null,e);e=t}var n;e=e||null;var o=!1;return this.forEach(function(t){return n=t,o=!0,!1}),o?n:e},v.prototype.last=function(t){if(null!=t)return this.where(t).last();var e,n=!1;if(this.forEach(function(t){n=!0,e=t}),!n)throw new Error("last:No element satisfies the condition.");return e},v.prototype.lastOrDefault=function(t,e){if(t){if(typeof t===p||typeof d.createLambda(t)===p)return this.where(t).lastOrDefault(null,e);e=t}var n;e=e||null;var o=!1;return this.forEach(function(t){o=!0,n=t}),o?n:e},v.prototype.single=function(t){if(null!=t)return this.where(t).single();var e,n=!1;if(this.forEach(function(t){if(n)throw new Error("single:sequence contains more than one element.");n=!0,e=t}),!n)throw new Error("single:No element satisfies the condition.");return e},v.prototype.singleOrDefault=function(t,e){if(void 0===e&&(e=null),null!=t)return this.where(t).singleOrDefault(null,e);var n,o=!1;return this.forEach(function(t){if(o)throw new Error("single:sequence contains more than one element.");o=!0,n=t}),o?n:e},v.prototype.skip=function(t){var e=this;return new v(function(){var n,o=0;return new _(function(){for(n=e.getEnumerator();o++<t&&n.moveNext(););},function(){return!!n.moveNext()&&this.yieldReturn(n.current())},function(){d.dispose(n)})})},v.prototype.skipWhile=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n,o=0,r=!1;return new _(function(){n=e.getEnumerator()},function(){for(;!r;){if(!n.moveNext())return!1;if(!t(n.current(),o++))return r=!0,this.yieldReturn(n.current())}return!!n.moveNext()&&this.yieldReturn(n.current())},function(){d.dispose(n)})})},v.prototype.take=function(t){var e=this;return new v(function(){var n,o=0;return new _(function(){n=e.getEnumerator()},function(){return!!(o++<t&&n.moveNext())&&this.yieldReturn(n.current())},function(){d.dispose(n)})})},v.prototype.takeWhile=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n,o=0;return new _(function(){n=e.getEnumerator()},function(){return!(!n.moveNext()||!t(n.current(),o++))&&this.yieldReturn(n.current())},function(){d.dispose(n)})})},v.prototype.takeExceptLast=function(t){null==t&&(t=1);var e=this;return new v(function(){if(t<=0)return e.getEnumerator();var n,o=[];return new _(function(){n=e.getEnumerator()},function(){for(;n.moveNext();){if(o.length==t)return o.push(n.current()),this.yieldReturn(o.shift());o.push(n.current())}return!1},function(){d.dispose(n)})})},v.prototype.takeFromLast=function(t){if(t<=0||null==t)return v.empty();var e=this;return new v(function(){var n,o,r=[];return new _(function(){n=e.getEnumerator()},function(){for(;n.moveNext();)r.length==t&&r.shift(),r.push(n.current());return null==o&&(o=v.from(r).getEnumerator()),!!o.moveNext()&&this.yieldReturn(o.current())},function(){d.dispose(o)})})},v.prototype.indexOf=function(t){var e=null;return typeof t===p?this.forEach(function(n,o){if(t(n,o))return e=o,!1}):this.forEach(function(n,o){if(n===t)return e=o,!1}),null!==e?e:-1},v.prototype.lastIndexOf=function(t){var e=-1;return typeof t===p?this.forEach(function(n,o){t(n,o)&&(e=o)}):this.forEach(function(n,o){n===t&&(e=o)}),e},v.prototype.cast=function(){return this},v.prototype.asEnumerable=function(){return v.from(this)},v.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},v.prototype.toLookup=function(t,e,n){t=d.createLambda(t),e=d.createLambda(e),n=d.createLambda(n);var o=new I(n);return this.forEach(function(n){var r=t(n),i=e(n),a=o.get(r);void 0!==a?a.push(i):o.add(r,[i])}),new T(o)},v.prototype.toObject=function(t,e){t=d.createLambda(t),e=d.createLambda(e);var n={};return this.forEach(function(o){n[t(o)]=e(o)}),n},v.prototype.toDictionary=function(t,e,n){t=d.createLambda(t),e=d.createLambda(e),n=d.createLambda(n);var o=new I(n);return this.forEach(function(n){o.add(t(n),e(n))}),o},v.prototype.toJSONString=function(t,e){if(typeof JSON===h||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),t,e)},v.prototype.toJoinedString=function(t,e){return null==t&&(t=""),null==e&&(e=a.Identity),this.select(e).toArray().join(t)},v.prototype.doAction=function(t){var e=this;return t=d.createLambda(t),new v(function(){var n,o=0;return new _(function(){n=e.getEnumerator()},function(){return!!n.moveNext()&&(t(n.current(),o++),this.yieldReturn(n.current()))},function(){d.dispose(n)})})},v.prototype.forEach=function(t){t=d.createLambda(t);var e=0,n=this.getEnumerator();try{for(;n.moveNext()&&!1!==t(n.current(),e++););}finally{d.dispose(n)}},v.prototype.write=function(t,e){null==t&&(t=""),e=d.createLambda(e);var n=!0;this.forEach(function(o){n?n=!1:document.write(t),document.write(e(o))})},v.prototype.writeLine=function(t){t=d.createLambda(t),this.forEach(function(e){document.writeln(t(e)+"<br />")})},v.prototype.force=function(){var t=this.getEnumerator();try{for(;t.moveNext(););}finally{d.dispose(t)}},v.prototype.letBind=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n;return new _(function(){n=v.from(t(e)).getEnumerator()},function(){return!!n.moveNext()&&this.yieldReturn(n.current())},function(){d.dispose(n)})})},v.prototype.share=function(){var t,e=this,n=!1;return new P(function(){return new _(function(){null==t&&(t=e.getEnumerator())},function(){if(n)throw new Error("enumerator is disposed");return!!t.moveNext()&&this.yieldReturn(t.current())},a.Blank)},function(){n=!0,d.dispose(t)})},v.prototype.memoize=function(){var t,e,n=this,o=!1;return new P(function(){var r=-1;return new _(function(){null==e&&(e=n.getEnumerator(),t=[])},function(){if(o)throw new Error("enumerator is disposed");return r++,t.length<=r?!!e.moveNext()&&this.yieldReturn(t[r]=e.current()):this.yieldReturn(t[r])},a.Blank)},function(){o=!0,d.dispose(e),t=null})},v.prototype.catchError=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n;return new _(function(){n=e.getEnumerator()},function(){try{return!!n.moveNext()&&this.yieldReturn(n.current())}catch(e){return t(e),!1}},function(){d.dispose(n)})})},v.prototype.finallyAction=function(t){t=d.createLambda(t);var e=this;return new v(function(){var n;return new _(function(){n=e.getEnumerator()},function(){return!!n.moveNext()&&this.yieldReturn(n.current())},function(){try{d.dispose(n)}finally{t()}})})},v.prototype.log=function(t){return t=d.createLambda(t),this.doAction(function(e){typeof console!==h&&console.log(t(e))})},v.prototype.trace=function(t,e){return null==t&&(t="Trace"),e=d.createLambda(e),this.doAction(function(n){typeof console!==h&&console.log(t,e(n))})};var C=function(t,e,n,o){this.source=t,this.keySelector=d.createLambda(e),this.descending=n,this.parent=o};C.prototype=new v,C.prototype.createOrderedEnumerable=function(t,e){return new C(this.source,t,e,this)},C.prototype.thenBy=function(t){return this.createOrderedEnumerable(t,!1)},C.prototype.thenByDescending=function(t){return this.createOrderedEnumerable(t,!0)},C.prototype.getEnumerator=function(){var t,e,n=this,o=0;return new _(function(){t=[],e=[],n.source.forEach(function(n,o){t.push(n),e.push(o)});var o=w.create(n,null);o.GenerateKeys(t),e.sort(function(t,e){return o.compare(t,e)})},function(){return o<e.length&&this.yieldReturn(t[e[o++]])},a.Blank)};var w=function(t,e,n){this.keySelector=t,this.descending=e,this.child=n,this.keys=null};w.create=function(t,e){var n=new w(t.keySelector,t.descending,e);return null!=t.parent?w.create(t.parent,n):n},w.prototype.GenerateKeys=function(t){for(var e=t.length,n=this.keySelector,o=new Array(e),r=0;r<e;r++)o[r]=n(t[r]);this.keys=o,null!=this.child&&this.child.GenerateKeys(t)},w.prototype.compare=function(t,e){var n=d.compare(this.keys[t],this.keys[e]);return 0==n?null!=this.child?this.child.compare(t,e):d.compare(t,e):this.descending?-n:n};var P=function(t,e){this.dispose=e,v.call(this,t)};P.prototype=new v;var O=function(t){this.getSource=function(){return t}};O.prototype=new v,O.prototype.any=function(t){return null==t?this.getSource().length>0:v.prototype.any.apply(this,arguments)},O.prototype.count=function(t){return null==t?this.getSource().length:v.prototype.count.apply(this,arguments)},O.prototype.elementAt=function(t){var e=this.getSource();return 0<=t&&t<e.length?e[t]:v.prototype.elementAt.apply(this,arguments)},O.prototype.elementAtOrDefault=function(t,e){void 0===e&&(e=null);var n=this.getSource();return 0<=t&&t<n.length?n[t]:e},O.prototype.first=function(t){var e=this.getSource();return null==t&&e.length>0?e[0]:v.prototype.first.apply(this,arguments)},O.prototype.firstOrDefault=function(t,e){if(void 0===e&&(e=null),null!=t)return v.prototype.firstOrDefault.apply(this,arguments);var n=this.getSource();return n.length>0?n[0]:e},O.prototype.last=function(t){var e=this.getSource();return null==t&&e.length>0?e[e.length-1]:v.prototype.last.apply(this,arguments)},O.prototype.lastOrDefault=function(t,e){if(void 0===e&&(e=null),null!=t)return v.prototype.lastOrDefault.apply(this,arguments);var n=this.getSource();return n.length>0?n[n.length-1]:e},O.prototype.skip=function(t){var e=this.getSource();return new v(function(){var n;return new _(function(){n=t<0?0:t},function(){return n<e.length&&this.yieldReturn(e[n++])},a.Blank)})},O.prototype.takeExceptLast=function(t){return null==t&&(t=1),this.take(this.getSource().length-t)},O.prototype.takeFromLast=function(t){return this.skip(this.getSource().length-t)},O.prototype.reverse=function(){var t=this.getSource();return new v(function(){var e;return new _(function(){e=t.length},function(){return e>0&&this.yieldReturn(t[--e])},a.Blank)})},O.prototype.sequenceEqual=function(t,e){return(!(t instanceof O||t instanceof Array)||null!=e||v.from(t).count()==this.count())&&v.prototype.sequenceEqual.apply(this,arguments)},O.prototype.toJoinedString=function(t,e){var n=this.getSource();return null==e&&n instanceof Array?(null==t&&(t=""),n.join(t)):v.prototype.toJoinedString.apply(this,arguments)},O.prototype.getEnumerator=function(){var t=this.getSource(),e=-1;return{current:function(){return t[e]},moveNext:function(){return++e<t.length},dispose:a.Blank}};var S=function(t,e){this.prevSource=t,this.prevPredicate=e};S.prototype=new v,S.prototype.where=function(t){if((t=d.createLambda(t)).length<=1){var e=this.prevPredicate;return new S(this.prevSource,function(n){return e(n)&&t(n)})}return v.prototype.where.call(this,t)},S.prototype.select=function(t){return(t=d.createLambda(t)).length<=1?new x(this.prevSource,this.prevPredicate,t):v.prototype.select.call(this,t)},S.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSource;return new _(function(){t=n.getEnumerator()},function(){for(;t.moveNext();)if(e(t.current()))return this.yieldReturn(t.current());return!1},function(){d.dispose(t)})};var x=function(t,e,n){this.prevSource=t,this.prevPredicate=e,this.prevSelector=n};x.prototype=new v,x.prototype.where=function(t){return(t=d.createLambda(t)).length<=1?new S(this,t):v.prototype.where.call(this,t)},x.prototype.select=function(t){if((t=d.createLambda(t)).length<=1){var e=this.prevSelector;return new x(this.prevSource,this.prevPredicate,function(n){return t(e(n))})}return v.prototype.select.call(this,t)},x.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSelector,o=this.prevSource;return new _(function(){t=o.getEnumerator()},function(){for(;t.moveNext();)if(null==e||e(t.current()))return this.yieldReturn(n(t.current()));return!1},function(){d.dispose(t)})};var I=function(){var t=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e=function(t){return null===t?"null":void 0===t?"undefined":typeof t.toString===p?t.toString():Object.prototype.toString.call(t)},n=function(t,e){this.key=t,this.value=e,this.prev=null,this.next=null},o=function(){this.first=null,this.last=null};o.prototype={addLast:function(t){null!=this.last?(this.last.next=t,t.prev=this.last,this.last=t):this.first=this.last=t},replace:function(t,e){null!=t.prev?(t.prev.next=e,e.prev=t.prev):this.first=e,null!=t.next?(t.next.prev=e,e.next=t.next):this.last=e},remove:function(t){null!=t.prev?t.prev.next=t.next:this.first=t.next,null!=t.next?t.next.prev=t.prev:this.last=t.prev}};var r=function(t){this.countField=0,this.entryList=new o,this.buckets={},this.compareSelector=null==t?a.Identity:t};return r.prototype={add:function(o,r){var i=this.compareSelector(o),a=e(i),s=new n(o,r);if(t(this.buckets,a)){for(var l=this.buckets[a],u=0;u<l.length;u++)if(this.compareSelector(l[u].key)===i)return this.entryList.replace(l[u],s),void(l[u]=s);l.push(s)}else this.buckets[a]=[s];this.countField++,this.entryList.addLast(s)},get:function(n){var o=this.compareSelector(n),r=e(o);if(t(this.buckets,r))for(var i=this.buckets[r],a=0;a<i.length;a++){var s=i[a];if(this.compareSelector(s.key)===o)return s.value}},set:function(o,r){var i=this.compareSelector(o),a=e(i);if(t(this.buckets,a))for(var s=this.buckets[a],l=0;l<s.length;l++)if(this.compareSelector(s[l].key)===i){var u=new n(o,r);return this.entryList.replace(s[l],u),s[l]=u,!0}return!1},contains:function(n){var o=this.compareSelector(n),r=e(o);if(!t(this.buckets,r))return!1;for(var i=this.buckets[r],a=0;a<i.length;a++)if(this.compareSelector(i[a].key)===o)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new o},remove:function(n){var o=this.compareSelector(n),r=e(o);if(t(this.buckets,r))for(var i=this.buckets[r],a=0;a<i.length;a++)if(this.compareSelector(i[a].key)===o)return this.entryList.remove(i[a]),i.splice(a,1),0==i.length&&delete this.buckets[r],void this.countField--},count:function(){return this.countField},toEnumerable:function(){var t=this;return new v(function(){var e;return new _(function(){e=t.entryList.first},function(){if(null!=e){var t={key:e.key,value:e.value};return e=e.next,this.yieldReturn(t)}return!1},a.Blank)})}},r}(),T=function(t){this.count=function(){return t.count()},this.get=function(e){return v.from(t.get(e))},this.contains=function(e){return t.contains(e)},this.toEnumerable=function(){return t.toEnumerable().select(function(t){return new B(t.key,t.value)})}},B=function(t,e){this.key=function(){return t},O.call(this,e)};B.prototype=new O,"function"===p&&n(494)?void 0===(o=function(){return v}.apply(e,[]))||(t.exports=o):typeof t!==h&&t.exports?t.exports=v:r.Enumerable=v}(this)},497:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(370),r=n(392),i=n(376),a=n(372),s=function(){function t(t){void 0===t&&(t=!0);var e=this;this._allowRotateConstraint=null,this.propertyChanged=new o.a,this._firePropertyChanged=function(){return e.propertyChanged.notify()},this.allowDelete=t,this.allowMoveHorizontal=t,this.allowMoveVertical=t,this.allowRotate=t,this.allowDragAndDrop=t,this.resizeGrips=new r.a(t,t)}return Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._allowDelete},set:function(t){this._allowDelete!==t&&(this._allowDelete=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMoveHorizontal",{get:function(){return this._allowMoveHorizontal},set:function(t){this._allowMoveHorizontal!==t&&(this._allowMoveHorizontal=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMoveVertical",{get:function(){return this._allowMoveVertical},set:function(t){this._allowMoveVertical!==t&&(this._allowMoveVertical=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRotateConstraint",{set:function(t){var e=this.allowRotate;this._allowRotateConstraint=t,this.allowRotate!==e&&this.propertyChanged.notify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRotate",{get:function(){return null!=this._allowRotateConstraint?this._allowRotateConstraint:this._allowRotate},set:function(t){this._allowRotate!==t&&(this._allowRotate=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragAndDrop",{get:function(){return this._allowDragAndDrop},set:function(t){this._allowDragAndDrop!==t&&(this._allowDragAndDrop=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGrips",{get:function(){return this._resizeGrips},set:function(t){null!=this.resizeGrips&&null!=this.resizeGrips.propertyChanged&&this.resizeGrips.propertyChanged.remove(this._firePropertyChanged),this._resizeGrips=t,null!=this.resizeGrips.propertyChanged&&this.resizeGrips.propertyChanged.add(this._firePropertyChanged),this.propertyChanged.notify()},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowDelete=this.allowDelete,e.allowDragAndDrop=this.allowDragAndDrop,e.allowMoveHorizontal=this.allowMoveHorizontal,e.allowMoveVertical=this.allowMoveVertical,e.allowRotate=this.allowRotate,e.allowRotateConstraint=this.allowRotateConstraint,e.resizeGrips=this.resizeGrips.clone(),e},t.prototype.equals=function(t){return this.allowDelete===t.allowDelete&&this.allowDragAndDrop===t.allowDragAndDrop&&this.allowMoveHorizontal===t.allowMoveHorizontal&&this.allowMoveVertical===t.allowMoveVertical&&this.allowRotate===t.allowRotate&&this.allowRotateConstraint===t.allowRotateConstraint&&a.c(this.resizeGrips,t.resizeGrips)},t.prototype.getSimplifiedObject=function(){var t={};return t.allowDelete=this.allowDelete,t.resizeGrips=this.resizeGrips.getSimplifiedObject(),t.allowMoveHorizontal=this.allowMoveHorizontal,t.allowMoveVertical=this.allowMoveVertical,t.allowRotate=this.allowRotate,t.allowDragAndDrop=this.allowDragAndDrop,t},t.CreateFromRaw=function(e){var n=i.extend(new r.a(!0,!0),e.resizeGrips),o=i.extend(new t,e);return o.resizeGrips=n,o},t}()},498:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(){this._noPrint=!1,this._noShow=!1,this.propertyChanged=new o.a}return Object.defineProperty(t.prototype,"noPrint",{get:function(){return this._noPrint},set:function(t){this._noPrint!==t&&(this._noPrint=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noShow",{get:function(){return this._noShow},set:function(t){this._noShow!==t&&(this._noShow=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.noShow=this.noShow,e.noPrint=this.noPrint,e},t.prototype.equals=function(t){return this.noShow===t.noShow&&this.noPrint===t.noPrint},t.prototype.getSimplifiedObject=function(){var t={};return t.noPrint=this.noPrint,t.noShow=this.noShow,t},t}()},499:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(370),r=n(500),i=n(372),a=function(){function t(t){var e=this;this._allowZOrderChange=!0,this._allowOpacityChange=!0,this._allowRemoveOnLayoutChange=!0,this._firePropertyChanged=function(){return e.propertyChanged.fire()},this.propertyChanged=new o.a,null==t&&(t=!0),this.allowZOrderChange=t,this.allowOpacityChange=t,this.allowRemoveOnLayoutChange=t,this.itemToolbarPermissions=new r.a(t)}return Object.defineProperty(t.prototype,"allowZOrderChange",{get:function(){return this._allowZOrderChange},set:function(t){this._allowZOrderChange!==t&&(this._allowZOrderChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowOpacityChange",{get:function(){return this._allowOpacityChange},set:function(t){this._allowOpacityChange!==t&&(this._allowOpacityChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRemoveOnLayoutChange",{get:function(){return this._allowRemoveOnLayoutChange},set:function(t){this._allowRemoveOnLayoutChange!==t&&(this._allowRemoveOnLayoutChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemToolbarPermissions",{get:function(){return this._itemToolbarPermissions},set:function(t){i.c(this,t)||(null!=this.itemToolbarPermissions&&null!=this.itemToolbarPermissions.propertyChanged&&this.itemToolbarPermissions.propertyChanged.remove(this._firePropertyChanged),this._itemToolbarPermissions=t,null!=this.itemToolbarPermissions.propertyChanged&&this.itemToolbarPermissions.propertyChanged.add(this._firePropertyChanged),this.propertyChanged.fire())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowZOrderChange=this.allowZOrderChange,t.allowOpacityChange=this.allowOpacityChange,t.allowRemoveOnLayoutChange=this.allowRemoveOnLayoutChange,t.itemToolbarPermissions=this.itemToolbarPermissions.getSimplifiedObject(),t},t.prototype.clone=function(){var e=new t;return e.allowZOrderChange=this.allowZOrderChange,e.allowOpacityChange=this.allowOpacityChange,e.allowRemoveOnLayoutChange=this.allowRemoveOnLayoutChange,e.itemToolbarPermissions=this.itemToolbarPermissions.clone(),e},t.prototype.equals=function(t){return this.allowOpacityChange===t.allowOpacityChange&&this.allowOpacityChange===t.allowOpacityChange&&this.allowRemoveOnLayoutChange===t.allowRemoveOnLayoutChange&&i.c(this.itemToolbarPermissions,t.itemToolbarPermissions)},t}()},500:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(t){void 0===t&&(t=!0),this._showDeleteButton=!0,this._showEditButton=!0,this._showSelectButton=!0,this._showEditButtonConstraint=null,this.propertyChanged=new o.a,this.showSelectButtonConstraint=null,this.showDeleteButton=t,this.showEditButton=t,this.showSelectButton=t}return Object.defineProperty(t.prototype,"showDeleteButton",{get:function(){return this._showDeleteButton},set:function(t){this._showDeleteButton!==t&&(this._showDeleteButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEditButton",{get:function(){return null!=this.showEditButtonConstraint?this.showEditButtonConstraint:this._showEditButton},set:function(t){this._showEditButton!==t&&(this._showEditButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEditButtonConstraint",{get:function(){return this._showEditButtonConstraint},set:function(t){this.showEditButtonConstraint!==t&&(this._showEditButtonConstraint=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectButton",{get:function(){return null!=this.showSelectButtonConstraint?this.showSelectButtonConstraint:this._showSelectButton},set:function(t){this._showSelectButton!==t&&(this._showSelectButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.showDeleteButton=this.showDeleteButton,t.showEditButton=this.showEditButton,t.showSelectButton=this.showSelectButton,t.showEditButtonConstraint=this.showEditButtonConstraint,t.showSelectButtonConstraint=this.showSelectButtonConstraint,t},t.prototype.clone=function(){var e=new t;return e.showDeleteButton=this._showDeleteButton,e.showEditButton=this._showEditButton,e.showEditButtonConstraint=this.showEditButtonConstraint,e.showSelectButton=this._showSelectButton,e.showSelectButtonConstraint=this.showSelectButtonConstraint,e},t.prototype.equals=function(t){return this.showDeleteButton==t.showDeleteButton&&this.showEditButton===t.showEditButton&&this.showEditButtonConstraint===t.showEditButtonConstraint&&this.showSelectButton===t.showSelectButton&&this.showSelectButtonConstraint===t.showSelectButtonConstraint},t}()},501:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(){this._displayInObjectInspector=!0,this._showOutOfRegionWarning=!0,this.propertyChanged=new o.a}return Object.defineProperty(t.prototype,"displayInObjectInspector",{get:function(){return this._displayInObjectInspector},set:function(t){this._displayInObjectInspector!==t&&(this._displayInObjectInspector=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOutOfRegionWarning",{get:function(){return this._showOutOfRegionWarning},set:function(t){this._showOutOfRegionWarning!==t&&(this._showOutOfRegionWarning=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.displayInObjectInspector=this.displayInObjectInspector,t.showOutOfRegionWarning=this.showOutOfRegionWarning,t},t.prototype.clone=function(){var e=new t;return e.displayInObjectInspector=this.displayInObjectInspector,e.showOutOfRegionWarning=this.showOutOfRegionWarning,e},t.prototype.equals=function(t){return this.displayInObjectInspector===t.displayInObjectInspector&&this.showOutOfRegionWarning===t.showOutOfRegionWarning},t}()},502:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(387),r=n(382),i=function(){function t(t,e,n,o,r,i){if(6==arguments.length)this.set_transform(t,e,n,o,r,i);else{if(0!=arguments.length)throw new Error("Arguments error");this.set_transform(1,0,0,1,0,0)}}return t.prototype.set_transform=function(t,e,n,o,r,i){this.m00=t,this.m10=e,this.m01=n,this.m11=o,this.m02=r,this.m12=i},t.prototype.transformPoint=function(t,e){var n=e?new o.a:t,r=t.x,i=t.y;return n.x=r*this.m00+i*this.m01+this.m02,n.y=r*this.m10+i*this.m11+this.m12,n},t.prototype.concatenate=function(t){var e=this.m00,n=this.m01;return this.m00=t.m00*e+t.m10*n,this.m01=t.m01*e+t.m11*n,this.m02+=t.m02*e+t.m12*n,e=this.m10,n=this.m11,this.m10=t.m00*e+t.m10*n,this.m11=t.m01*e+t.m11*n,this.m12+=t.m02*e+t.m12*n,this},t.prototype.rotate=function(t){return this.rotateAt(t,0,0)},t.prototype.rotateAt=function(e,n,o){e=Object(r.c)(e);var i=Math.cos(e),a=Math.sin(e),s=new t(i,a,-a,i,n-n*i+o*a,o-n*a-o*i);return this.concatenate(s)},t.prototype.scale=function(t,e){return this.m00*=t,this.m10*=t,this.m01*=e,this.m11*=e,this},t.prototype.translate=function(t,e){return this.m02+=t*this.m00+e*this.m01,this.m12+=t*this.m10+e*this.m11,this},t.prototype.preTranslate=function(t,e){return this.m02+=t,this.m12+=e,this},t.prototype.toString=function(){return"matrix("+[this.m00,this.m10,this.m01,this.m11,this.m02,this.m12].join(", ")+")"},t}()},503:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(402),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){var n=t.call(this,e)||this;if(n.l=0,n.a=255,null==e)return n;try{n._init(e)}catch(t){console.warn("Incorrect GrayscaleColor format: "+JSON.stringify(e))}return n}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"GrayscaleColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&(t.prototype.equals.call(this,n)&&n instanceof e&&this.l===n.l&&this.a===n.a)},e.prototype.toString=function(){return this._getPreview()},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.l=this.l,e.a=this.a,e},e.prototype._getPreview=function(){if(255===this.a)return"rgb("+this.l+","+this.l+","+this.l+")";var t=(this.a/255).toFixed(7);return"rgba("+this.l+","+this.l+","+this.l+","+t+")"},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.l),this._validateNumber(e.a),this.l=e.l,this.a=e.a,null==this.preview&&(this.preview=this._getPreview())},e}(o.a)},504:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(402),r=n(431),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e){var n=t.call(this,e)||this;if(n.l=0,n.a=-128,n.b=-128,n.alpha=0,null==e)return n;var o="Incorrect LabColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromString(e)?n._previewFromServer=r.a.isValidRgbColor(n.preview):console.warn(o);else try{n._init(e)}catch(t){console.warn(o)}return n}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"LabColor"},enumerable:!0,configurable:!0}),e.prototype._tryInitFromString=function(t){e._lab.lastIndex=0;var n=e._lab.exec(t);return null!=n&&8===n.length&&(this._init({l:+n[1],a:+n[2],b:+n[3],alpha:null!=n[5]?r.a.convertPercentToByte(n[5]):255,preview:null!=n[7]?n[7]:null}),!0)},e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&(t.prototype.equals.call(this,n)&&n instanceof e&&this.l===n.l&&this.a===n.a&&this.b===n.b&&this.alpha===n.alpha)},e.prototype.toString=function(){var t="lab("+this.l+","+this.a+","+this.b+","+r.a.convertByteToPercent(this.alpha);return null!=this.preview&&(t+=","+this.preview),t+=")"},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.l=this.l,e.a=this.a,e.b=this.b,e.alpha=this.alpha,e},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.alpha=null!=e.alpha?e.alpha:255,this._validateNumber(e.l),this._validateNumber(e.a,-128,127),this._validateNumber(e.b,-128,127),this._validateNumber(e.alpha),this.l=e.l,this.a=e.a,this.b=e.b,this.alpha=e.alpha},e._lab=/^\s*lab\(\s*(\d{1,3})\s*,\s*(-*\d{1,3})\s*,\s*(-*\d{1,3})\s*(,\s*(\d{1,3})%)?\s*(\,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g,e}(o.a)},505:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(402),r=n(431),i=n(450),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(e){var n=t.call(this,e)||this;if(null==e)return n;var o="Incorrect SpotColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromString(e)?n._previewFromServer=r.a.isValidRgbColor(n.preview):console.warn(o);else try{n._init(e)}catch(t){console.warn(o)}return n}return a(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"SpotColor"},enumerable:!0,configurable:!0}),e.prototype._tryInitFromString=function(t){e._spot.lastIndex=0;var n=e._spot.exec(t);return null!=n&&10===n.length&&(this._init({inkName:n[1].replace(/'/g,"").replace(/\"/g,""),inkColor:i.a.createColor(n[2]),inkSolidity:null!=n[4]?+n[4]:1,tint:null!=n[7]?r.a.convertPercentToByte(n[7]):255,preview:null!=n[9]?n[9]:null}),!0)},e.prototype.toString=function(){var t=this.inkColor.clone();return t.preview=null,"spot('"+this.inkName+"',"+t.toString()+","+this.inkSolidity+","+r.a.convertByteToPercent(this.tint)+","+this.preview+")"},e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&(t.prototype.equals.call(this,n)&&n instanceof e&&this.inkName===n.inkName&&this.inkColor.equals(n.inkColor)&&this.inkSolidity===n.inkSolidity&&this.alpha===n.alpha&&this.tint===n.tint)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.inkName=this.inkName,e.inkColor=this.inkColor.getData(),e.inkSolidity=this.inkSolidity,e.alpha=this.alpha,e.tint=this.tint,e},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.alpha=null!=e.alpha?e.alpha:255,e.tint=null!=e.tint?e.tint:255;var n=i.a.createColor(e.inkColor,!0);this._validateString(e.inkName),this._validateNumber(e.inkSolidity,0,1),this._validateNumber(e.alpha),this._validateNumber(e.tint),this.inkName=e.inkName,this.inkColor=n,this.inkSolidity=e.inkSolidity,this.alpha=e.alpha,this.tint=e.tint},e._spot=/^\s*spot\(\s*([^()]*)\s*,\s*(.{3,4}\([^()]*\))\s*(,\s*(\d{1}(\.\d{1,})?))?\s*(,\s*(\d{1,3})%)?\s*(,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g,e}(o.a)},506:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){}return t.fromRaw=function(e){var n=new t;return n.text=e.text,n.stroke=e.stroke,n.shadow=e.shadow,n.img=e.img,n.border=e.border,n.fill=e.fill,n.textFill=e.textFill,n.line=e.line,n.altline=e.altline,n.horizontal=e.horizontal,n.vertical=e.vertical,n.barcode=e.barcode,n.styles=null!=e.styles?e.styles.slice(0):null,n},t.prototype.clone=function(){var e=new t;return e.text=this.text,e.stroke=this.stroke,e.shadow=this.shadow,e.img=this.img,e.border=this.border,e.fill=this.fill,e.textFill=this.textFill,e.line=this.line,e.altline=this.altline,e.horizontal=this.horizontal,e.vertical=this.vertical,e.barcode=this.barcode,e.styles=null!=this.styles?this.styles.slice(0):null,e},t}()},507:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(t){this._allowChangeBorderWidth=!0,this._allowChangeFillColor=!0,this._allowChangeBorderColor=!0,this.propertyChanged=new o.a,null==t&&(t=!0),this.allowChangeBorderWidth=t,this.allowChangeFillColor=t,this.allowChangeBorderColor=t}return Object.defineProperty(t.prototype,"allowChangeBorderWidth",{get:function(){return this._allowChangeBorderWidth},set:function(t){this._allowChangeBorderWidth!==t&&(this._allowChangeBorderWidth=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFillColor",{get:function(){return this._allowChangeFillColor},set:function(t){this._allowChangeFillColor!==t&&(this._allowChangeFillColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBorderColor",{get:function(){return this._allowChangeBorderColor},set:function(t){this._allowChangeBorderColor!==t&&(this._allowChangeBorderColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeBorderColor=this.allowChangeBorderColor,e.allowChangeBorderWidth=this.allowChangeBorderWidth,e.allowChangeFillColor=this.allowChangeFillColor,e},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeBorderWidth=this.allowChangeBorderWidth,t.allowChangeFillColor=this.allowChangeFillColor,t.allowChangeBorderColor=this.allowChangeBorderColor,t},t.prototype.equals=function(t){return this.allowChangeBorderColor===t.allowChangeBorderColor&&this.allowChangeFillColor===t.allowChangeFillColor&&this.allowChangeBorderWidth===t.allowChangeBorderWidth},t}()},508:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(t){this.propertyChanged=new o.a,null==t&&(t=!0),this.allowChangeText=t,this.allowChangeFont=t,this.allowChangeFontSize=t,this.allowChangeFontColor=t,this.allowChangeTextAlignment=t,this.allowChangeTextBIU=t,this.allowChangeShadow=t,this.allowChangeStroke=t}return Object.defineProperty(t.prototype,"allowChangeText",{get:function(){return this._allowChangeText},set:function(t){this._allowChangeText!==t&&(this._allowChangeText=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFont",{get:function(){return this._allowChangeFont},set:function(t){this._allowChangeFont!==t&&(this._allowChangeFont=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFontSize",{get:function(){return this._allowChangeFontSize},set:function(t){this._allowChangeFontSize!==t&&(this._allowChangeFontSize=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFontColor",{get:function(){return this._allowChangeFontColor},set:function(t){this._allowChangeFontColor!==t&&(this._allowChangeFontColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeTextAlignment",{get:function(){return this._allowChangeTextAlignment},set:function(t){this._allowChangeTextAlignment!==t&&(this._allowChangeTextAlignment=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeTextBIU",{get:function(){return this._allowChangeTextBIU},set:function(t){this._allowChangeTextBIU!==t&&(this._allowChangeTextBIU=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeShadow",{get:function(){return this._allowChangeShadow},set:function(t){this._allowChangeShadow!==t&&(this._allowChangeShadow=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeStroke",{get:function(){return this._allowChangeStroke},set:function(t){this._allowChangeStroke!==t&&(this._allowChangeStroke=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeFont=this.allowChangeFont,e.allowChangeFontColor=this.allowChangeFontColor,e.allowChangeFontSize=this.allowChangeFontSize,e.allowChangeShadow=this.allowChangeShadow,e.allowChangeStroke=this.allowChangeStroke,e.allowChangeText=this.allowChangeText,e.allowChangeTextAlignment=this.allowChangeTextAlignment,e.allowChangeTextBIU=this.allowChangeTextBIU,e},t.prototype.equals=function(t){return this.allowChangeFont===t.allowChangeFont&&this.allowChangeFontColor===t.allowChangeFontColor&&this.allowChangeFontSize===t.allowChangeFontSize&&this.allowChangeShadow===t.allowChangeShadow&&this.allowChangeStroke===t.allowChangeStroke&&this.allowChangeText===t.allowChangeText&&this.allowChangeTextAlignment===t.allowChangeTextAlignment&&this.allowChangeTextBIU===t.allowChangeTextBIU},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeText=this.allowChangeText,t.allowChangeFont=this.allowChangeFont,t.allowChangeFontSize=this.allowChangeFontSize,t.allowChangeFontColor=this.allowChangeFontColor,t.allowChangeTextAlignment=this.allowChangeTextAlignment,t.allowChangeTextBIU=this.allowChangeTextBIU,t.allowChangeShadow=this.allowChangeShadow,t.allowChangeStroke=this.allowChangeStroke,t},t}()},509:function(t,e,n){"use strict";var o;n.d(e,"a",function(){return o}),function(t){t[t.None=0]="None",t[t.BlackAndWhite=1]="BlackAndWhite",t[t.FlipVertical=2]="FlipVertical",t[t.FlipHorizontal=3]="FlipHorizontal",t[t.Colorize=4]="Colorize"}(o||(o={}))},510:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(389),r=n(376),i=n(869),a=function(){function t(t){if(this.barcodeFormat=o.BarcodeFormat.QR_CODE,this.barcodeSubType=o.BarcodeSubType.None,r.isString(t))try{t=JSON.parse(t)}catch(e){console.warn("Unable to parse BarcodeData from string ",t,e),t=null}r.isObject(t)&&r.extend(this,t)}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return r.isEmpty(this.firstName)&&r.isEmpty(this.lastName)&&r.isEmpty(this.organization)&&r.isEmpty(this.position)&&r.isEmpty(this.email)&&r.isEmpty(this.mobilePhone)&&r.isEmpty(this.url)&&r.isEmpty(this.phone)&&r.isEmpty(this.barcodeValue)},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return null!=t&&this.barcodeFormat===t.barcodeFormat&&this.barcodeSubType===t.barcodeSubType&&this.firstName===t.firstName&&this.lastName===t.lastName&&this.organization===t.organization&&this.position===t.position&&this.email===t.email&&this.mobilePhone===t.mobilePhone&&this.url===t.url&&this.phone===t.phone&&this.barcodeValue===t.barcodeValue},t.prototype._isEmpty=function(t){return r.isEmpty(null!=t?t.trim():null)},t.prototype.toVCardString=function(){var t={n:[{value:[this.lastName,this.firstName,"","",""]}],"email;internet":[{value:this.email}],org:[{value:this.organization}],"tel;cell":[{value:this.mobilePhone}],"tel;work":[{value:this.phone}],title:[{value:this.position}],url:[{value:this.url}]};return i.generate(t)},t.fromVCardString=function(e){var n=null!=e?i.parse(e):{},r=new t;return r.barcodeFormat=o.BarcodeFormat.QR_CODE,r.barcodeSubType=o.BarcodeSubType.VCard,r.email=n.email&&n.email[0]&&n.email[0].value,r.lastName=n.n&&n.n[0]&&n.n[0].value[0],r.firstName=n.n&&n.n[0]&&n.n[0].value[1],r.organization=n.org&&n.org[0]&&n.org[0].value,r.mobilePhone=n.tel&&n.tel[0]&&n.tel[0].value,r.phone=n.tel&&n.tel[1]&&n.tel[1].value,r.position=n.title&&n.title[0]&&n.title[0].value,r.url=n.url&&n.url[0]&&n.url[0].value,r},t}()},511:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var o=n(370),r=n(460),i=n(463),a=n(371),s=n(372),l=function(){function t(){var t=this;this._onPermissionsChanged=function(){t.propertyChanged.notify()},this.propertyChanged=new o.a,this._imagePermissions=new r.a,this._barcodePermissions=new i.a,this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged)}return Object.defineProperty(t.prototype,"barcodePermissions",{get:function(){return this._barcodePermissions},set:function(t){if(null==t)throw new a.b("barcodePermissions cannot be null");this._barcodePermissions.propertyChanged.remove(this._onPermissionsChanged),this._barcodePermissions=t,this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imagePermissions",{get:function(){return this._imagePermissions},set:function(t){if(null==t)throw new a.b("imagePermissions cannot be null");this._imagePermissions.propertyChanged.remove(this._onPermissionsChanged),this._imagePermissions=t,this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged()},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){return{imagePermissions:this.imagePermissions.getSimplifiedObject(),barcodePermissions:this.barcodePermissions.getSimplifiedObject()}},t.prototype.clone=function(){var e=new t;return e.barcodePermissions=this.barcodePermissions.clone(),e.imagePermissions=this.imagePermissions.clone(),e},t.prototype.equals=function(t){return s.c(this.barcodePermissions,t.barcodePermissions)&&s.c(this.imagePermissions,t.imagePermissions)},t}()},512:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(464),r=n(375),i=n(382),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(n,o){var i=t.call(this,n,o)||this;return i._dashWidth=3,i._altDashWidth=3,i._altColor=new r.RgbColor("rgba(0,0,0,0)"),i.type=e.type,i}return a(e,t),Object.defineProperty(e.prototype,"dashWidth",{get:function(){return this._dashWidth},set:function(t){i.e(this._dashWidth,t)||(this._dashWidth=t,this._propertyChanged.notify(this,"dashWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altDashWidth",{get:function(){return this._altDashWidth},set:function(t){i.e(this._altDashWidth,t)||(this._altDashWidth=t,this._propertyChanged.notify(this,"altDashWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altColor",{get:function(){return this._altColor},set:function(t){r.Color.equals(this._altColor,t)||(this._altColor=t,this._propertyChanged.notify(this,"altColor"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.dashWidth=e.dashWidth,n.altDashWidth=e.altDashWidth,n.altColor=e.altColor.clone()},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="DashedLineItem",e}(o.a)},513:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(t){this._allowChangeLineWidth=!0,this._allowChangeLineColor=!0,this.propertyChanged=new o.a,null==t&&(t=!0),this.allowChangeLineWidth=t,this.allowChangeLineColor=t}return Object.defineProperty(t.prototype,"allowChangeLineWidth",{get:function(){return this._allowChangeLineWidth},set:function(t){this._allowChangeLineWidth!==t&&(this._allowChangeLineWidth=t,this.propertyChanged.notify("allowChangeLineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeLineColor",{get:function(){return this._allowChangeLineColor},set:function(t){this._allowChangeLineColor!==t&&(this._allowChangeLineColor=t,this.propertyChanged.notify("allowChangeLineColor"))},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeLineWidth=this.allowChangeLineWidth,t.allowChangeLineColor=this.allowChangeLineColor,t},t.prototype.clone=function(){var e=new t;return e.allowChangeLineWidth=this.allowChangeLineWidth,e.allowChangeLineColor=this.allowChangeLineColor,e},t.prototype.equals=function(t){return this.allowChangeLineColor===t.allowChangeLineColor&&this.allowChangeLineWidth===t.allowChangeLineWidth},t}()},514:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var o=n(410),r=n(383),i=n(411),a=n(392),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(n){void 0===n&&(n=new r.a(0,0,10,10));var o=t.call(this,i.a.ellipse(n.left,n.top,n.width,n.height))||this;return o.type=e.type,o.sourceRectangle=n,o.manipulationPermissions.resizeGrips=new a.a(!0,!0),o}return s(e,t),e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="EllipseItem",e}(o.a)},515:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(376),r=function(){function t(t){if(this.storageId=null,this.size={width:0,height:0},this.name=null,this.isUserImage=!1,this.isVector=!1,this.pageIndex=0,"string"==typeof t)try{t=JSON.parse(t)}catch(e){console.warn("Unable to parse ImageMetaData from string ",t,e),t=null}o.isObject(t)&&o.extend(this,t)}return t.fromInterface=function(e,n){var o=new t;return o.storageId=e.id,o.size={width:e.width,height:e.height},o.name=void 0!==n?n:null,null!=e.isVector&&(o.isVector=e.isVector),o},t.prototype.clone=function(){return new t(this)},t}()},516:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(394),r=n(368),i=n(421),a=n(517),s=n(371),l=n(372),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(t){function e(n,o,r,s){var l=t.call(this,n,r,s)||this;return l._boundingPaths=[],l._wrappingMargin=7,l._wrappingPath=null,l._paragraphSettings=new i.a,l._characterLimit=null,l._isVertical=!1,l.type=e.type,null!=o&&(l.boundingPaths=o),l._pathBoundedTextPermissions=new a.a,l._pathBoundedTextPermissions.propertyChanged.add(l._onPermissionsChanged),l}return u(e,t),Object.defineProperty(e.prototype,"characterLimit",{get:function(){return this._characterLimit},set:function(t){null===this._characterLimit&&null===t||Object(r.EqualsOfFloatNumbers)(this._characterLimit,t)||(this._characterLimit=t,this._propertyChanged.notify(this,"characterLimit"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundingPaths",{get:function(){return this._boundingPaths},set:function(t){t.length===this.boundingPaths.length&&this.boundingPaths.every(function(e,n){return e.isEqual(t[n])})||(this._boundingPaths=t,this._propertyChanged.notify(this,"boundingPaths"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingPath",{get:function(){return this._wrappingPath},set:function(t){null==this._wrappingPath&&null==t||null!=this._wrappingPath&&this._wrappingPath.isEqual(t)||(this._wrappingPath=t,this._propertyChanged.notify(this,"wrappingPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this._wrappingMargin},set:function(t){Object(r.EqualsOfFloatNumbers)(this._wrappingMargin,t)||(this._wrappingMargin=t,this._propertyChanged.notify(this,"wrappingMargin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this._paragraphSettings},set:function(t){i.a.equals(this._paragraphSettings,t)||(this._paragraphSettings=t,this._propertyChanged.notify(this,"paragraphSettings"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathBoundedTextPermissions",{get:function(){return this._pathBoundedTextPermissions},set:function(t){if(null==t)throw new s.b("pathBoundedTextPermissions cannot be null");l.c(this._pathBoundedTextPermissions,t)||(this._pathBoundedTextPermissions.propertyChanged.remove(this._onPermissionsChanged),this._pathBoundedTextPermissions=t,this._pathBoundedTextPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["pathBoundedTextPermissions"].concat(e));return n.pathBoundedTextPermissions=this.pathBoundedTextPermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.characterLimit=e.characterLimit,n.boundingPaths=e.boundingPaths.map(function(t){return t.clone()}),n.wrappingMargin=e.wrappingMargin,n.paragraphSettings=e.paragraphSettings.clone(),n.isVertical=e.isVertical,n.pathBoundedTextPermissions=e.pathBoundedTextPermissions.clone(),n.wrappingPath=null!=e.wrappingPath?e.wrappingPath.clone():null},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="PathBoundedTextItem",e}(o.a)},517:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(t){this.propertyChanged=new o.a,null==t&&(t=!0),this.allowChangeColumnCount=t}return Object.defineProperty(t.prototype,"allowChangeColumnCount",{get:function(){return this._allowChangeColumnCount},set:function(t){this._allowChangeColumnCount!==t&&(this._allowChangeColumnCount=t,this.propertyChanged.notify("allowChangeColumnCount"))},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeColumnCount=this.allowChangeColumnCount,t},t.prototype.clone=function(){var e=new t;return e.allowChangeColumnCount=this.allowChangeColumnCount,e},t.prototype.equals=function(t){return this.allowChangeColumnCount===t.allowChangeColumnCount},t}()},518:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(370),r=function(){function t(){this._allowEditContent=!0,this.showSelectButtonConstraint=null,this._showSelectButton=!0,this._showHandleButton=!0,this.propertyChanged=new o.a}return Object.defineProperty(t.prototype,"allowEditContent",{get:function(){return this._allowEditContent},set:function(t){this._allowEditContent!==t&&(this._allowEditContent=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectButton",{get:function(){return null!=this.showSelectButtonConstraint?this.showSelectButtonConstraint:this._showSelectButton},set:function(t){this._showSelectButton!==t&&(this._showSelectButton=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHandleButton",{get:function(){return this._showHandleButton},set:function(t){this._showHandleButton!==t&&(this._showHandleButton=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowEditContent=this.allowEditContent,t.showSelectButton=this.showSelectButton,t.showHandleButton=this.showHandleButton,t},t.prototype.clone=function(){var e=new t;return e.allowEditContent=this.allowEditContent,e.showSelectButton=this.showSelectButton,e.showSelectButtonConstraint=this.showSelectButtonConstraint,e.showHandleButton=this.showHandleButton,e},t.prototype.equals=function(t){return this.allowEditContent===t.allowEditContent&&this.showSelectButton===t.showSelectButton&&this.showSelectButtonConstraint===t.showSelectButtonConstraint&&this.showHandleButton===t.showHandleButton},t}()},519:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(401),r=n(387),i=n(419),a=n(375),s=n(382),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(t){function e(n){var o=t.call(this)||this;if(o._width=20,o._color=new a.RgbColor("rgba(255,255,61,1)"),o._points=[],o.type=e.type,o._points=[],n&&n.length&&n.length>0)for(var s=0;s<n.length;s++)n[s]instanceof r.a&&o._points.push(n[s]);return o.textWrappingMode=i.a.None,o}return l(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){s.e(this._width,t)||(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){a.Color.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoints",{get:function(){return this._points},set:function(t){this._points=t,this._propertyChanged.notify(this,"sourcePoints")},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o,r){t.prototype._copy.call(this,e,n,o,r),n.width=e.width,n.color=e.color.clone(),n.sourcePoints=e.sourcePoints.map(function(t){return t.clone()})},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=new e;return this._copy(this,o,t,n),o},e.type="PolylineItem",e}(o.a)},520:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(405),r=n(368),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"isVertical":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.textRectangle=e.textRectangle,this.item.isVertical=e.isVertical},Object.defineProperty(e.prototype,"originalTextRectangle",{get:function(){return this.item.textRectangle},set:function(t){this.item.textRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalScale",{get:function(){return this.item.verticalScale},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScale",{get:function(){return this.item.horizontalScale},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this.item.isVertical},enumerable:!0,configurable:!0}),e.prototype.set_isVertical=function(t){this.item.isVertical=t},e.prototype.getTextRectangle=function(){var t=this.getControlCenter(),e=r.RotatedRectangleF.fromRectangleF(this.item.textRectangle);return e.transform(this.item.transform.clone(),t),e.toRectangleF()},e.prototype._isFrontEndRenderingSupported=function(){return!1},e.prototype._createText=function(t){throw new Error("Method not implemented.")},e.prototype._updateStyle=function(t){throw new Error("Method not implemented.")},e.prototype._beforeFrontEndUpdate=function(){throw new Error("Method not implemented.")},e.prototype._measureText=function(){throw new Error("Method not implemented.")},e.typeName="AutoScaledTextItemHandler",e}(o.a)},521:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(392),r=function(){function t(t,e){null==t&&(t={}),null==e&&(e=!0),this._noPrint=null==t.NoPrint?e:!!t.NoPrint,this._noShow=null==t.NoShow?e:!!t.NoShow,this._allowDelete=null==t.AllowDelete?e:!!t.AllowDelete,this._allowMoveHorizontal=null==t.AllowMoveHorizontal?e:!!t.AllowMoveHorizontal,this._allowMoveVertical=null==t.AllowMoveVertical?e:!!t.AllowMoveVertical,this._allowRotate=null==t.AllowRotate?e:!!t.AllowRotate,this._resizeGrips=null==t.ResizeGrips?new o.a(e,e):o.a._from_data(t.ResizeGrips),this._allowEditContent=null==t.AllowEditContent?e:!!t.AllowEditContent,this._showSelectButton=null==t.ShowSelectButton?e:!!t.ShowSelectButton,this._showHandleButton=null==t.ShowHandleButton?e:!!t.ShowHandleButton,this._showDoneButton=null==t.ShowDoneButton?e:!!t.ShowDoneButton,this._showDeleteToolbarButton=null==t.ShowDeleteToolbarButton?e:!!t.ShowDeleteToolbarButton,this._showEditToolbarButton=null==t.ShowEditToolbarButton?e:!!t.ShowEditToolbarButton,this._showSelectToolbarButton=null==t.ShowSelectToolbarButton?e:!!t.ShowSelectToolbarButton,this._allowDragAndDrop=null==t.AllowDragAndDrop?e:!!t.AllowDragAndDrop}return t.prototype.clone=function(){var e=new t;for(var n in this)this.hasOwnProperty(n)&&("_resizeGrips"!==n?e[n]=this[n]:e._resizeGrips=null!=this._resizeGrips?this._resizeGrips.clone():null);return e},t.prototype.get_allowDelete=function(){return this._allowDelete},t.prototype.set_allowDelete=function(t){this._allowDelete=t},t.prototype.get_noPrint=function(){return this._noPrint},t.prototype.set_noPrint=function(t){this._noPrint=t},t.prototype.get_noShow=function(){return this._noShow},t.prototype.set_noShow=function(t){this._noShow=t},t.prototype.get_allowMoveHorizontal=function(){return this._allowMoveHorizontal},t.prototype.set_allowMoveHorizontal=function(t){this._allowMoveHorizontal=t},t.prototype.get_allowMoveVertical=function(){return this._allowMoveVertical},t.prototype.set_allowMoveVertical=function(t){this._allowMoveVertical=t},t.prototype.get_allowRotate=function(){return this._allowRotate},t.prototype.set_allowRotate=function(t){this._allowRotate=t},t.prototype.get_allowProportionalResize=function(){return this._resizeGrips.getCornerProportional()},t.prototype.set_allowProportionalResize=function(t){this._resizeGrips.setCornerProportional(t)},t.prototype.get_allowArbitraryResize=function(){return!!this._resizeGrips&&(this._resizeGrips.getCornerArbitrary()||this._resizeGrips.edge)},t.prototype.set_allowArbitraryResize=function(t){this._resizeGrips.setCornerArbitrary(t),this._resizeGrips.edge=t},t.prototype.get_resizeGrips=function(){return this._resizeGrips},t.prototype.set_resizeGrips=function(t){this._resizeGrips=t},t.prototype.get_allowResize=function(){return this.get_allowProportionalResize()||this.get_allowArbitraryResize()},t.prototype.get_allowFreeMove=function(){return this._allowMoveHorizontal&&this._allowMoveVertical},t.prototype.get_allowMove=function(){return this._allowMoveHorizontal||this._allowMoveVertical},t.prototype.get_allowEditContent=function(){return this._allowEditContent},t.prototype.set_allowEditContent=function(t){this._allowEditContent=t},t.prototype.get_showSelectButton=function(){return this._showSelectButton},t.prototype.set_showSelectButton=function(t){this._showSelectButton=t},t.prototype.get_showHandleButton=function(){return this._showHandleButton},t.prototype.set_showHandleButton=function(t){this._showHandleButton=t},t.prototype.get_showDoneButton=function(){return this._showDoneButton},t.prototype.set_showDoneButton=function(t){this._showDoneButton=t},t.prototype.get_showDeleteToolbarButton=function(){return this._showDeleteToolbarButton},t.prototype.set_showDeleteToolbarButton=function(t){this._showDeleteToolbarButton=t},t.prototype.get_showEditToolbarButton=function(){return this._showEditToolbarButton},t.prototype.set_showEditToolbarButton=function(t){this._showEditToolbarButton=t},t.prototype.get_showSelectToolbarButton=function(){return this._showSelectToolbarButton},t.prototype.set_showSelectToolbarButton=function(t){this._showSelectToolbarButton=t},t.prototype.get_allowDragAndDrop=function(){return this._allowDragAndDrop},t.prototype.set_allowDragAndDrop=function(t){this._allowDragAndDrop=t},t}()},522:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(391),r=n(441),i=n(436),a=n(376),s=n(380),l=n(368),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n._defaultSafetyLines=new s.a,n._defaultCropMarks=new s.a,n.defaultDesignLocation=new l.PointF,n._onSurfacesAdd=function(t){t.item.parentProduct=n},n._surfaces=new s.a,n.surfaces.add_collectionChanged(n._onSurfacesAdd),n.surfaces.setRange(e),n}return u(e,t),Object.defineProperty(e.prototype,"surfaces",{get:function(){return this._surfaces},set:function(t){this.surfaces.setRange(t)},enumerable:!0,configurable:!0}),e.prototype.serialize=function(t){return r.a.getProductSerializer().serialize(this,t)},Object.defineProperty(e.prototype,"defaultSafetyLines",{get:function(){return this._defaultSafetyLines},set:function(t){this._defaultSafetyLines!==t&&(this._defaultSafetyLines=t,this._propertyChanged.notify(this,"defaultSafetyLines"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCropMarks",{get:function(){return this._defaultCropMarks},set:function(t){this._defaultCropMarks!==t&&(this._defaultCropMarks=t,this._propertyChanged.notify(this,"defaultCropMarks"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,o){t.prototype._copy.call(this,e,n,o),n.surfaces.addRange(e.surfaces.toArray().map(function(t){return t.clone(o)})),n.watermarkConfig=null!=e.watermarkConfig?e.watermarkConfig.clone():null,n.defaultCropMarks.addRange(e.defaultCropMarks.toArray().map(function(t){return t.clone()})),n.defaultSafetyLines.addRange(e.defaultSafetyLines.toArray().map(function(t){return t.clone()})),n.defaultDesignLocation=e.defaultDesignLocation.clone()},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.getAllItems=function(t){return void 0===t&&(t={ignoreMockups:!1}),i.a.getItems(this.surfaces,t)},e.prototype.generateNewIds=function(){this._generateNewId(),this._surfaces.forEach(function(t){return t.generateNewIds()})},e.prototype.getSurface=function(t){var e=this.surfaces.toArray(),n=parseInt(t);return NaN!=n&&n>=0&&e.length>n?e[n]:a.find(e,function(e){return e.name===t})},e}(o.a)},523:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var o,r=n(375),i=function(){function t(){this.name="cropmark",this.margin=10,this.color=new r.RgbColor({r:0,g:0,b:0,a:255}),this.widthPx=1,this.length=8,this.leftNotes=null,this.topNotes=null,this.rightNotes=null,this.bottomNotes=null}return Object.defineProperty(t.prototype,"margins",{get:function(){return"number"==typeof this.margin?{horizontal:this.margin,vertical:this.margin}:this.margin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengths",{get:function(){return"number"==typeof this.length?{horizontal:this.length,vertical:this.length}:this.length},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.name=this.name,e.margin=this.margin,e.color=this.color,e.widthPx=this.widthPx,e.length=this.length,e.leftNotes=null!=this.leftNotes?this.leftNotes.map(function(t){return t.clone()}):null,e.topNotes=null!=this.topNotes?this.topNotes.map(function(t){return t.clone()}):null,e.rightNotes=null!=this.rightNotes?this.rightNotes.map(function(t){return t.clone()}):null,e.bottomNotes=null!=this.bottomNotes?this.bottomNotes.map(function(t){return t.clone()}):null,e},t}();!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(o||(o={}));var a=function(){function t(){this.alignment=o.Left,this.fontSize=3,this.edgeMargin=.3,this.markMargin=.3}return t.prototype.clone=function(){var e=new t;return e.alignment=this.alignment,e.fontSize=this.fontSize,e.text=this.text,e.edgeMargin=this.edgeMargin,e.markMargin=this.markMargin,e},t}()},524:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(391),r=n(383),i=n(380),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(e){var n=t.call(this)||this;return n.parentSurface=null,n.bounds=new r.a,n._safetyLines=new i.a,n._cropMarks=new i.a,null!=e&&(n.bounds=e),n}return a(e,t),Object.defineProperty(e.prototype,"safetyLines",{get:function(){return this._safetyLines},set:function(t){this._safetyLines!==t&&(this._safetyLines=t,this._propertyChanged.notify(this,"safetyLines"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropMarks",{get:function(){return this._cropMarks},set:function(t){this._cropMarks!==t&&(this._cropMarks=t,this._propertyChanged.notify(this,"cropMarks"))},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentSurface"])},e.prototype._copy=function(e,n,o){t.prototype._copy.call(this,e,n,o),n.bounds=null!=e.bounds?e.bounds.clone():null,n.safetyLines.addRange(e.safetyLines.toArray().map(function(t){return t.clone()})),n.cropMarks.addRange(e.cropMarks.toArray().map(function(t){return t.clone()}))},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId()},e}(o.a)},525:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(375),r=n(382),i=n(370),a=function(){function t(t){this._color=new o.RgbColor("rgb(0,0,0)"),this._angle=0,this._distance=0,this._size=0,this._propertyChanged=new i.b,null!=t&&(this.color=null!=t.color?t.color:new o.RgbColor("rgb(0,0,0)"),this.angle=null!=t.angle?t.angle:0,this.distance=null!=t.distance?t.distance:0,this.size=null!=t.size?t.size:0)}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){o.Color.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle!==t&&(this._angle=t,this._propertyChanged.notify(this,"angle"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},set:function(t){this._distance!==t&&(this._distance=t,this._propertyChanged.notify(this,"distance"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this._propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this)},t._from_data=function(e){return null==e?null:new t({color:o.ColorFactory.createColor(e.color),angle:"number"==typeof e.angle?e.angle:0,distance:"number"==typeof e.distance?e.distance:0,size:"number"==typeof e.size?e.size:0})},t.prototype.equals=function(e){return e instanceof t&&this.color.equals(e.color)&&Object(r.e)(this.angle,e.angle)&&Object(r.e)(this.distance,e.distance)&&Object(r.e)(this.size,e.size)},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.getSimplifiedObject=function(){return{color:this.color.getData(),angle:this.angle,distance:this.distance,size:this.size}},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}()},526:function(t,e,n){"use strict";var o;n.d(e,"a",function(){return o}),function(t){t[t.Hidden=0]="Hidden",t[t.Bottom=1]="Bottom",t[t.Active=2]="Active",t[t.Top=3]="Top"}(o||(o={}))},527:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(416),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){var n=t.call(this,e)||this;if(n.__type="BarcodeHandlerData",null==e||null==e.canvas)return n;if(e.canvas.viewer.configuration&&e.canvas.viewer.configuration.stubImages&&e.canvas.viewer.configuration.stubImages.barcode){var o=e.canvas.viewer.configuration.stubImages.barcode;n.stubText=o.text,n.stubPostScriptName=o.postScriptName}var r=(null!=e.item.parentPlaceholder?e.item.parentPlaceholder.parentContainer.parentComponent:e.item.parentContainer.parentComponent).printAreas.get_item(0);return n.dpi=e.canvas.viewer.configuration&&e.canvas.viewer.configuration.renderingConfig?e.canvas.viewer.configuration.renderingConfig.getHiResRendering(r).dpi:72,n.size=Math.round(Math.max(r.bounds.width,r.bounds.height)/2),n}return r(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.currentFileId=e.currentFileId,n.stubTextImageFileId=e.stubTextImageFileId,n.errorMessage=e.errorMessage),t.prototype.applyState.call(this,e,n)},e}(o.a)},528:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(529),r=n(527),i=n(530),a=n(469),s=n(378),l=n(368),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(t){function e(e){var n=t.call(this,e)||this;return n.currentFileId=null,n.stubTextImageFileId=null,n.errorMessage=null,n._maxImageSize=4e6,n._stubTextImageContainer=new a.a(n._onstubTextImageLoaded.bind(n)),n}return u(e,t),e.prototype._createDataInstance=function(t){return new r.a(t)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"barcodeContent":case"barcodeFormat":case"barcodeOptions":case"color":this.currentFileId=null,this.stubTextImageFileId=null,this.errorMessage=null,this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._createImageUrl=function(){var t=this.canvas;if(null==this.currentFileId||null==t)return null;var e,n,o=null!=this.item.parentPlaceholder?this.item.parentPlaceholder.parentContainer.parentComponent:this.item.parentContainer.parentComponent,r=(t.viewer.configuration&&t.viewer.configuration.renderingConfig&&t.viewer.configuration.renderingConfig.getHiResRendering(o.printAreas.get_item(0)).dpi,t.get_zoom()),a=r*t.get_screenXDpi()/72,s=r*t.get_screenYDpi()/72,l=this.rectangle;e=l.width*a,n=l.height*s;var u=this._maxImageSize/e/n;return u<1&&(e*=u=Math.sqrt(u),n*=u),e=Math.round(e),n=Math.round(n),this._pixelWidth=e,this._pixelHeight=n,i.a.getImageUrl(t,this.currentFileId,this._pixelWidth,this._pixelHeight,!1)},e.prototype._createStubTextImageUrl=function(){if(null!=this.stubTextImageFileId)return i.a.getImageUrl(this.canvas,this.stubTextImageFileId,this._pixelWidth,this._pixelHeight,!1)},e.prototype.update=function(e,n){if(this.isVisible())if(null==this.currentFileId&&null==this.errorMessage)t.prototype._update.call(this,null,e,n);else{this.quickUpdate();var o=this.get_canvas();null!=o&&o.updateSelection()}},Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded&&!(this.item.barcodeData.isEmpty&&!this._stubTextImageContainer.isLoaded)},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading||!(this.item.barcodeData.isEmpty&&!this._stubTextImageContainer.isLoading)},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t,this.item.barcodeData.isEmpty&&(this._stubTextImageContainer.isLoading=t)},e.prototype._updateImageUrl=function(){t.prototype._updateImageUrl.call(this),this._updateStubTextImageUrl()},e.prototype._updateStubTextImageUrl=function(){if(this.isVisible()){var t=this.canvas;if(null!=t&&t.get_isInitialized()){var e=this._createStubTextImageUrl();e!==this._stubTextImageContainer.source&&(null==e?(this._stubTextImageContainer.clear(),t.redraw()):this._stubTextImageContainer.updateUrl(e))}}},e.prototype._onstubTextImageLoaded=function(t,e){this._stubTextImageContainer.isLoading=!1,this._imageContainer.isLoading||(null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent())},e.prototype._onImageLoaded=function(t,e){this._imageContainer.isLoading=!1,this._stubTextImageContainer.isLoading||(null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent())},e.prototype.quickUpdate=function(){this.isVisible()&&this.canvas&&!this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentFileId)&&t.prototype.quickUpdate.call(this)},e.prototype.drawItemHandler=function(t){if(null!=t){var e=null!=this.parentPlaceholder?this.parentPlaceholder.rectangle:this.rectangle,n=this.rectangle,o=this.isNormalRenderingType||0===this.item.fillColor.alpha?this.item.fillColor.preview:"rgba(0,0,0,0)",r=this.isNormalRenderingType?this.item.opacity:1;s.a.fillRectangle(t,n,o,r),this._imageContainer.isLoaded&&this._drawImage(t,this.canvas.get_disableSmoothing()),this._stubTextImageContainer.isLoaded&&this._drawImage(t,this.canvas.get_disableSmoothing(),1,this._stubTextImageContainer.image),(this._imageContainer.isLoading||this._stubTextImageContainer.isLoading)&&this.canvas.drawWaitClock(t,new l.PointF(e.centerX,e.centerY));var i=this._getActualBorderWidth();if(i>0){n.width+=i,n.height+=i;var a=this.isNormalRenderingType||0===this.item.borderColor.alpha?this.item.borderColor.preview:"rgb(0,0,0)";s.a.drawRectangle(t,n,i,a,this.item.opacity)}}},e.prototype._onResized=function(){return this.update(),t.prototype._onResized.call(this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._stubTextImageContainer.dispose()},e.typeName="BarcodeItemHandler",e}(o.a)},529:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var o=n(422),r=n(437),i=n(368),a=n(378),s=n(469),l=n(372),u=n(389),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=function(t){function e(e){var n=t.call(this,e)||this;return n._onCanvasChangedDelegate=null,n._contentType=r.a.NotContent,n._parentPlaceholder=null,n._pixelWidth=0,n._pixelHeight=0,n._needToDownloadImage=!1,n._imageContainer=new s.a(n._onImageLoaded.bind(n)),n}return c(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.setRectangle=function(e,n){var o,a=this._parentPlaceholder,s=this._contentType===r.a.TopFrame||this._contentType===r.a.BottomFrame;if(null!=a&&a.item.isCoverMode&&!a.item.isStubContent&&!s){var l=a.rectangle,u=e.clone(),c=Object(i.EqualsOfFloatNumbers)(Object(i.normalizeAngle)(u.angle-l.angle)%180,90),h=this.rectangle;if(null!=h&&null!=a._previousRectangle&&!a.editing){var p,f=a._previousRectangle.width/a._previousRectangle.height,d=l.width/l.height,g=h.width/h.height,y=d>g!=f>g;if(d>g)if(y)p=l.width/g/a._previousRectangle.height;else p=l.width/a._previousRectangle.width;else if(y)p=l.height*g/a._previousRectangle.width;else p=l.height/a._previousRectangle.height;u.width=h.width*p,u.height=h.height*p,u.center=l.center;var m=u.angle;u.angle=0;var _=(a._previousRectangle.centerX-h.centerX+h.width/2)*p-u.width/2,b=(a._previousRectangle.centerY-h.centerY+h.height/2)*p-u.height/2;(o=new i.PointF(-_,-b)).rotateAt(l.angle-a._previousRectangle.angle),u.centerX=l.centerX+o.x,u.centerY=l.centerY+o.y,u.rotateAt(m,u.center)}var v=c?u.height:u.width,C=c?u.width:u.height;if(v<l.width||C<l.height){var w=Math.max(l.width/v,l.height/C);u.width*=w,u.height*=w}var P=l.angle;l.angle=0;var O=l.bounds,S=u.clone();S.rotateAt(-P,l.center);var x=S.bounds;return(o=new i.PointF(0,0)).x=O.left<x.left?O.left-x.left:0,o.x=O.right>x.right?O.right-x.right:o.x,o.y=O.top<x.top?O.top-x.top:0,o.y=O.bottom>x.bottom?O.bottom-x.bottom:o.y,o.rotate(P),u.centerX+=o.x,u.centerY+=o.y,void t.prototype.setRectangle.call(this,u,n)}t.prototype.setRectangle.call(this,e,n)},e.prototype._setVisible=function(e){t.prototype._setVisible.call(this,e),this.isVisible()&&this.update()},e.prototype.isVisible=function(){return null!=this._parentPlaceholder?this._parentPlaceholder.isVisible():t.prototype.isVisible.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t},Object.defineProperty(e.prototype,"parentPlaceholder",{get:function(){return this._parentPlaceholder},set:function(t){this._parentPlaceholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this._contentType},set:function(t){this._contentType=t},enumerable:!0,configurable:!0}),e.prototype._getSrc=function(){var t=this._imageContainer.source;return l.e(t)?this._createImageUrl():t},e.prototype._setSrc=function(t){this._imageContainer.source=t},e.prototype._onImageLoaded=function(t,e){null!=this.canvas&&this.canvas.redraw(),this.isLoadingImage=!1,this._dispatchReadyEvent()},e.prototype._createImageUrl=function(){return null},e.prototype._updateImageUrl=function(){if(this.isVisible()){var t=this.canvas;if(null!=t&&t.get_isInitialized()){var e=this._createImageUrl();e!==this._imageContainer.source&&(null==e?(this._imageContainer.clear(),t.redraw()):this._imageContainer.updateUrl(e))}}},e.prototype._onCanvasChanged=function(){this._updateImageUrl()},e.prototype.quickUpdate=function(){this.updateColors(),this._updateImageUrl()},e.prototype._getDrawingFillColor=function(){return this.item.fillColor},e.prototype.drawItemHandler=function(t,e){if(null!=t&&null!=this.canvas){var n=null!=this._parentPlaceholder?this._parentPlaceholder.rectangle:this.rectangle,o=this.rectangle,r=this._getDrawingFillColor(),s=this.isNormalRenderingType||0===r.alpha?r.preview:"rgb(0,0,0)";this._hasVectorMask()&&(t.save(),this._clip(t));var l=this.isNormalRenderingType?this.item.opacity:1;a.a.fillRectangle(t,o,s,l),this._imageContainer.isLoaded?this._drawImage(t,this.canvas.get_disableSmoothing()):this._imageContainer.isLoading&&this.canvas.drawWaitClock(null!=e?e:t,new i.PointF(n.centerX,n.centerY));var u=this._getActualBorderWidth();if(u>0){o.width+=u,o.height+=u;var c=this.isNormalRenderingType||0===this.item.borderColor.alpha?this.item.borderColor.preview:"rgb(0,0,0)";a.a.drawRectangle(t,o,u,c,this.item.opacity)}this._hasVectorMask()&&t.restore()}},e.prototype._drawMaskedContent=function(t){if(this._drawImage(t,this.canvas.get_disableSmoothing(),this.item.maskOpacity),null!=this._parentPlaceholder){t.globalCompositeOperation="destination-out";var e=this._parentPlaceholder;a.a.fillPath(t,e.originalPath,e.getControlCenter(),e.item.transform,"#fff"),t.globalCompositeOperation="source-over"}},e.prototype.updateRectangle=function(t,e,n,o,r,i){null==e&&(e=u.ResizeMode.Fit),null==t&&(t=!1);var a=this.getTransformedRectangle(!1);if(o=null!=o?o:this.bounds.width,r=null!=r?r:this.bounds.height,t){var s=o/r,l=a.location;a.width=a.height*s,a.location=l}else if(null!=this.parentPlaceholder&&(a=this.parentPlaceholder.getTransformedRectangle(!1)),e===u.ResizeMode.Original&&this.item instanceof u.ImageItem){var c=this.item.getOriginalImageSize(),h=null!=i?this.item.source.dpiX/i:1;a.width=c.width*h,a.height=c.height*h}else{h=1;e===u.ResizeMode.Fit?h=Math.min(a.width/o,a.height/r):e===u.ResizeMode.Fill&&(h=Math.max(a.width/o,a.height/r)),a.width=o*h,a.height=r*h}if(null!=n){var p=n.getTransformedRectangle(!1);switch(n.item.contentVerticalAlignment){case u.VerticalContentAlignment.Top:a.centerY=p.centerY-(p.height-a.height)/2;break;case u.VerticalContentAlignment.Center:a.centerY=p.centerY;break;case u.VerticalContentAlignment.Bottom:a.centerY=p.centerY+(p.height-a.height)/2}switch(n.item.contentHorizontalAlignment){case u.HorizontalContentAlignment.Left:a.centerX=p.centerX-(p.width-a.width)/2;break;case u.HorizontalContentAlignment.Center:a.centerX=p.centerX;break;case u.HorizontalContentAlignment.Right:a.centerX=p.centerX+(p.width-a.width)/2}}this.setTransformedRectangle(a)},e.prototype._drawImage=function(t,e,n,o){var r=this.canvas,i=r.get_screenXDpi()*r.get_zoom()/72,s=r.get_screenYDpi()*r.get_zoom()/72,l=this.isNormalRenderingType?this.item.opacity:1,u=null!=n?l*n:l;a.a.drawImage(t,null!=o?o:this._imageContainer.image,this.rectangle,i,s,e,null,u)},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype._onAddedOnCanvas=function(e,n){if(t.prototype._onAddedOnCanvas.call(this,e,n||null!=this.parentPlaceholder),this._updateImageUrl(),!this._onCanvasChangedDelegate){var o=this.canvas;o&&(this._onCanvasChangedDelegate=this._onCanvasChanged.bind(this),o.add_zoomChanged(this._onCanvasChangedDelegate),this._needToDownloadImage&&this.update())}},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),e&&null!=this._onCanvasChangedDelegate&&(e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate)},e.prototype.dispose=function(){if(this._imageContainer.dispose(),this._onCanvasChangedDelegate){var e=this.canvas;e&&e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate}t.prototype.dispose.call(this)},e.typeName="ContentItemHandler",e}(o.a)},530:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(371),r=n(393),i=n(434),a=function(){function t(){}return t.getImageUrl=function(t,e,n,a,s,l,u,c,h,p,f){if(!Number.isInteger(n)||!Number.isInteger(a))throw new o.b('Wrong "'+(Number.isInteger(n)?a:n)+'" type!');if(e.endsWith(".svg")&&!s&&!r.a.IsFirefox()&&!r.a.IsIE())return t.get_handlerUrl()+"/svg?f="+encodeURIComponent(e);var d=t.get_handlerUrl()+"/img?f="+encodeURIComponent(e)+"&w="+encodeURIComponent(n.toString())+"&h="+encodeURIComponent(a.toString());if(null!=t.cmykColorProfileFileId&&(d+="&cmyk="+encodeURIComponent(t.cmykColorProfileFileId)),null!=t.rgbColorProfileFileId&&(d+="&rgb="+encodeURIComponent(t.rgbColorProfileFileId)),null!=t.grayscaleColorProfileFileId&&(d+="&grayscale="+encodeURIComponent(t.grayscaleColorProfileFileId)),null!=s&&s&&(d+="&sq=true"),null!=l&&(l!==i.c.None&&(d+="&effect="+encodeURIComponent(l.toString())),l===i.c.Colorize&&null!=f&&(d+="&colorizeColor="+encodeURIComponent(f.toString()))),null!=u&&u&&(d+="&kp="+encodeURIComponent(u.toString())),null!=c){var g=c.color,y=c.blendMode,m=c.opacity;null!=g&&(d+="&color="+encodeURIComponent(g.toString())),null!=y&&(d+="&obm="+encodeURIComponent(y.toString())),null!=m&&(d+="&oo="+encodeURIComponent(m.toString()))}return null!=h&&parseInt(h.toString())>0&&(d+="&page="+encodeURIComponent(h.toString())),null!=p&&p&&(d+="&alphaMask="+encodeURIComponent(p.toString())),d},t}()},531:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(468),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="CurvedTextHandlerData",null==e?n:(n.firstUpdateIsComplete=e.firstUpdateIsComplete,n)}return r(e,t),e.prototype.applyState=function(e,n){t.prototype.applyState.call(this,e,n),null!=n&&(n.firstUpdateIsComplete=e.firstUpdateIsComplete)},e}(o.a)},532:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var o=n(405),r=n(368),i=n(378),a=n(531),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e){return t.call(this,e)||this}return s(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.textPath=e.textPath,this.item.fitToPath=e.fitToPath,this.item.fitToPathStep=e.fitToPathStep,this.item.stretch=e.stretch,this.item.originalFontSize=e.originalFontSize,this.item.start=e.start,this.item.end=e.end},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textPath":case"fitToPath":case"fitToPathStep":case"stretch":case"originalFontSize":case"start":case"end":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"textPath",{get:function(){var t=this.getControlCenter(),e=this.item.textPath.clone(),n=this.item.transform.clone();return e.transform(n,t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalTextPath",{get:function(){return this.item.textPath},set:function(t){this.item.textPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPath",{get:function(){return this.item.fitToPath},set:function(t){this.item.fitToPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stretch",{get:function(){return this.item.stretch},set:function(t){this.item.stretch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFontSize",{get:function(){return this.item.originalFontSize},set:function(t){this.item.originalFontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPathStep",{get:function(){return this.item.fitToPathStep},set:function(t){this.item.fitToPathStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.item.start},set:function(t){this.item.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.item.end},set:function(t){this.item.end=t},enumerable:!0,configurable:!0}),e.prototype._onResized=function(){var e=this.rectangle.height/this._height,n=parseFloat((this.item.font.size*e).toFixed(1)),o=this.get_canvas();if(null!=o){var i=o.minFontSize;n="number"==typeof i?Math.max(n,i):n;var a=o.maxFontSize;n="number"==typeof a?Math.min(n,a):n}return Object(r.EqualsOfFloatNumbers)(n,this.item.font.size,.01)?(null!=this._startRectangle?(this.setRectangle(this._startRectangle),o.updateSelection(),delete this._startRectangle):this.update(null,null,!0),!1):t.prototype._onResized.call(this)},e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$&&i.a.drawPath(e,this.item.textPath,this.getControlCenter(),this.item.transform,1,"red",1)},e.prototype._isFrontEndRenderingSupported=function(){return!1},e.prototype._createDataInstance=function(t){return new a.a(t)},e.prototype._createText=function(t){throw new Error("Method not implemented.")},e.prototype._updateStyle=function(t){throw new Error("Method not implemented.")},e.prototype._beforeFrontEndUpdate=function(){throw new Error("Method not implemented.")},e.prototype._measureText=function(){throw new Error("Method not implemented.")},e.typeName="CurvedTextItemHandler",e}(o.a)},533:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(416),r=n(472),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e){var n=this,o=e._editing;if(o&&(e._editing=!1),n=t.call(this,e)||this,e._editing=o,n.__type="PlaceholderHandlerData",e){e.isEmptyContent()?n.CT=null:n.CT=e.getTypeName();var r=e.topFrames;if(null!=r){n.TFCT=[],n.TFCD=[];for(var i=0;i<r.length;i++)n.TFCD.push(r[i].getData()),n.TFCT.push(r[i].getTypeName())}var a=e.bottomFrames;if(null!=a){n.BFCT=[],n.BFCD=[];for(i=0;i<a.length;i++)n.BFCD.push(a[i].getData()),n.BFCT.push(a[i].getTypeName())}n.SMC=e.showMaskedContent}return n}return i(e,t),e.prototype.applyState=function(e,n){if(n){if(n.beginUpdate(),null!=e.TFCD&&0!==e.TFCD.length){for(var o=[],i=0;i<e.TFCD.length;i++)if(null!=e.TFCT[i]){var a=(new r.a).create(e.TFCT[i]);a.setData(e.TFCD[i]),o.push(a)}n.topFrames=o}if(null!=e.BFCD&&0!==e.BFCD.length){var s=[];for(i=0;i<e.BFCD.length;i++)if(null!=e.BFCT[i]){var l=(new r.a).create(e.BFCT[i]);l.setData(e.BFCD[i]),s.push(l)}n.bottomFrames=s}n.showMaskedContent=e.SMC,t.prototype.applyState.call(this,e,n)}},e}(o.a)},534:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var o=n(405),r=n(378),i=n(412),a=n(421),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n._lastRectangle=null,n._lastRectangle=null,n}return s(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"wrappingPath":case"wrappingMargin":case"paragraphSettings":case"boundingPaths":case"isVertical":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.boundingPaths=e.boundingPaths,this.item.wrappingMargin=e.wrappingMargin,this.item.characterLimit=e.characterLimit,this.item.paragraphSettings=e.paragraphSettings,this.item.isVertical=e.isVertical},Object.defineProperty(e.prototype,"boundingPaths",{get:function(){var t=[],e=this.getControlCenter(),n=this.item.transform.clone();return this.originalBoundingPaths.forEach(function(o){var r=o.clone();r.transform(n,e),t.push(r)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalBoundingPaths",{get:function(){return this.item.boundingPaths},set:function(t){this.item.boundingPaths=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRectangle",{get:function(){return this._lastRectangle},set:function(t){this._lastRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this.item.wrappingMargin},set:function(t){this.item.wrappingMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this.item.paragraphSettings},set:function(t){t instanceof a.a||(t=new a.a(t)),this.item.paragraphSettings=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this.item.isVertical},set:function(t){this.item.isVertical=t},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(e){if(t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$){var n=this.getControlCenter(),o=new i.a;this.boundingPaths.forEach(function(t){r.a.drawPath(e,t,n,o,1,"red",1)})}},e.prototype._isFrontEndRenderingSupported=function(){return!1},e.prototype._createText=function(t){throw new Error("Method not implemented.")},e.prototype._updateStyle=function(t){throw new Error("Method not implemented.")},e.prototype._beforeFrontEndUpdate=function(){throw new Error("Method not implemented.")},e.prototype._measureText=function(){throw new Error("Method not implemented.")},e.typeName="PathBoundedTextItemHandler",e}(o.a)},535:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(416),r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="ImageHandlerData",e&&(n.DI=e.needToDownloadImage,n.SAS=e.takeIntoAccountImageDpi,n.HR=e.sourceImageHorizontalResolution,n.VR=e.sourceImageVerticalResolution),n}return r(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.sourceImageHorizontalResolution=e.HR,n.sourceImageVerticalResolution=e.VR,n.needToDownloadImage=e.DI,n.takeIntoAccountImageDpi=e.SAS,t.prototype.applyState.call(this,e,n))},e}(o.a)},536:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(380),r=n(371),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e){var n=this;if(!e)throw new r.c("layer");return(n=t.call(this)||this)._layer=e,n}return i(e,t),e.prototype._onHandlerAdded=function(t,e,n){t.layer=this._layer;var o=this._layer.get_canvas();o&&(t.canvas=o)},e.prototype._onHandlerRemoved=function(t,e){var n=this._layer.get_canvas();n&&n.isItemHandlerSelected(t)&&n.removeSelectedItemHandler(t),t.layer=null,n&&(t.canvas=null)},e.prototype.insertAt=function(e,n){t.prototype.insertAt.call(this,e,n),this._onHandlerAdded(n,e,this._layer.get_index())},e.prototype.move=function(e,n){return t.prototype.move.call(this,e,n)},e.prototype.removeAt=function(e){var n=t.prototype.removeAt.call(this,e);return n&&this._onHandlerRemoved(n,e),n},e.prototype.clear=function(){for(var e=0;e<this.get_count();e++)this.get_item(e).layer=null;t.prototype.clear.call(this)},e}(o.a)},541:function(t,e,n){"use strict";var o=n(422),r=n(413),i=n(396),a=n(371),s=n(429),l=n(432),u=n(458),c=n(462),h=n(528),p=n(455),f=n(457),d=n(516),g=n(438),y=n(532),m=n(534),_=n(410),b=n(414),v=n(464),C=n(439),w=n(519),P=n(415),O=n(375),S=n(378),x=n(412),I=n(368),T=n(495),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),R=function(t){function e(e){return t.call(this,0,0,0,0,e)||this}return B(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(t,e){e},e.prototype._getBoundsMargin=function(){return this.item.width},e.prototype.drawItemHandler=function(t){if(null!=t&&this.item.width>0){var e=this.getActualPoints();S.a.drawPolyline(t,e,this.item.width,this.item.color.preview,this.item.opacity)}},e.prototype._belongToLine=function(t,e){for(var n=this.getActualPoints(),o=!1,r=this.item.width/2+e,i=r*r,a=1;a<n.length;a++){if(Object(I.getSquareDistanceToSegment)(t,n[a-1],n[a])<=i){o=!0;break}}return o},e.prototype.hitTest=function(e,n){var o=t.prototype.hitTest.call(this,e.clone()),r=this.get_canvas(),i=r.get_zoom()*r.get_screenXDpi()/72,a=this._getRectangle(),s=!!n&&a.toRectangleF().contains(e),l=this._belongToLine(e,2/i);return o.body=s||l,o},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),o=this.canvas.rgbColorProfileFileId;return e.color.needUpdate(o)&&(n.color=e.color.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=O.ColorFactory.createColor(e.color))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)},e.prototype.getActualPoints=function(){for(var t=[],e=this.getControlCenter(),n=0;n<this.item.sourcePoints.length;n++)t.push(this._getActualPointFromControlPoint(this.item.sourcePoints[n],e));return t},e.prototype._getActualPointFromControlPoint=function(t,e){var n=new I.PointF(t.x,t.y);n.translate(-e.x,-e.y);var o=this.item.transform;return n.scale(o.scaleX,o.scaleY),n.rotate(o.angle),n.translate(o.translateX,o.translateY),n.translate(e.x,e.y),n},e.prototype.getControlBounds=function(){var t=0,e=0,n=0,o=0,r=this.item.sourcePoints,i=r.length;i>0&&(t=r[0].x,n=r[0].x,e=r[0].y,o=r[0].y);for(var a=1;a<i;a++)t=Math.min(r[a].x,t),n=Math.max(r[a].x,n),e=Math.min(r[a].y,e),o=Math.max(r[a].y,o);var s=n-t,l=o-e;return new I.RectangleF(t,e,s,l)},e.prototype._addPoint=function(t){var e=this.get_canvas(),n=-1;e&&(n=e.get_screenXDpi()/72*e.get_zoom());var o=this.item.sourcePoints;if(o.length>0){var r=o[o.length-1].distance(t);(-1===n||r*n>30)&&o.push(t)}else o.push(t)},e.prototype.addPoint=function(t){this.insertPoint(t,this.item.sourcePoints.length)},e.prototype.insertPoint=function(t,e){if(e<0||e>this.item.sourcePoints.length)throw new a.g(T.a);var n=this.getActualPoints();n.splice(e,0,t),this.item.sourcePoints=n,this.item.transform=new x.a},e.prototype.setPoint=function(t,e){if(e<0||e>=this.item.sourcePoints.length)throw new a.g(T.e);var n=this.getActualPoints();n[e]=t,this.item.sourcePoints=n,this.item.transform=new x.a,this.raiseChanged()},e.prototype.getPointsCount=function(){return this.item.sourcePoints.length},e.prototype.getPoint=function(t){if(t<0||t>=this.item.sourcePoints.length)throw new a.g(T.e);return this._getActualPointFromControlPoint(this.item.sourcePoints[t],this.getControlCenter())},e.prototype.removePoint=function(t){if(t<0||t>=this.item.sourcePoints.length)throw new a.g(T.d);var e=this.item.sourcePoints;e.splice(t,1),this.item.sourcePoints=e},e.typeName="PolylineItemHandler",e}(P.a),E=n(456),j=n(470),k=n(512),F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=function(t){function e(e){return t.call(this,e)||this}return F(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"altColor":case"dashWidth":case"altDashWidth":this.canvas.redraw()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"dashWidth",{get:function(){return this.item.dashWidth},set:function(t){this.item.dashWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altDashWidth",{get:function(){return this.item.altDashWidth},set:function(t){this.item.altDashWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altColor",{get:function(){return this.item.altColor},set:function(t){this.item.altColor=t},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(t){if(null!=t){var e=this.get_point0(),n=this.get_point1(),o=this._getActualWidth();if(o){var r=this.dashWidth,i=this.altDashWidth;if(this.get_fixedWidth()){var a=this.get_canvas().get_zoom();r/=a,i/=a}S.a.drawDashedLine(t,e.x,e.y,n.x,n.y,o,this.get_color().preview,this.altColor.preview,r,i,this.item.opacity)}}},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),o=this.canvas.rgbColorProfileFileId;return e.color.needUpdate(o)&&(n.color=e.color.getData()),e.altColor.needUpdate(o)&&(n.altColor=e.altColor.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=O.ColorFactory.createColor(e.color)),null!=e.altColor&&(n.altColor=O.ColorFactory.createColor(e.altColor))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)||e.altColor.needUpdate(n)},e}(C.a),M=n(520),z=n(454),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=function(t){function e(e){return t.call(this,0,0,0,0,e)||this}return L(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(t,e){e},Object.defineProperty(e.prototype,"locked",{get:function(){return this.item.locked},set:function(t){this.item.locked=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this.item.cols},set:function(t){this.item.cols=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this.item.rows},set:function(t){this.item.rows=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepX",{get:function(){return this.item.stepX},set:function(t){this.item.stepX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepY",{get:function(){return this.item.stepY},set:function(t){this.item.stepY=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalLineColor",{get:function(){return this.item.horizontalLineColor},set:function(t){this.item.horizontalLineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalLineColor",{get:function(){return this.item.verticalLineColor},set:function(t){this.item.verticalLineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.item.lineWidth},set:function(t){this.item.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedLineWidth",{get:function(){return this.item.fixedLineWidth},set:function(t){this.item.fixedLineWidth=t},enumerable:!0,configurable:!0}),e.prototype.getControlBounds=function(){var t=this.item.cols*this.stepX,e=this.item.rows*this.stepY;return new I.RectangleF(this.item.location.x,this.item.location.y,t,e)},e.prototype._getBoundsMargin=function(){var t=this.lineWidth;return this.fixedLineWidth&&(t/=this.canvas.get_zoom()),t},e.prototype.drawItemHandler=function(t){if(null!=t){t.save();this.rectangle.bounds;var e=this.item.location,n=this.getControlCenter(),o=this.get_canvas(),r=this.verticalLineColor.preview,i=this.horizontalLineColor.preview,a=this.lineWidth;this.fixedLineWidth&&(a/=o.get_zoom());var s,l,u=a/2/this.item.transform.scaleX,c=a/2/this.item.transform.scaleY,h=this.stepX*this.cols,p=this.stepY*this.rows;for(s=0,l=this.cols;s<=l;s++){var f=e.x+s*this.stepX,d=e.y-c,g=e.y+p+c,y=new I.PointF(f,d).transform(this.item.transform,n),m=new I.PointF(f,g).transform(this.item.transform,n);S.a.drawLine(t,y.x,y.y,m.x,m.y,a,r,this.item.opacity)}for(s=0,l=this.rows;s<=l;s++){var _=e.x-u,b=e.x+h+u,v=e.y+s*this.stepY;y=new I.PointF(_,v).transform(this.item.transform,n),m=new I.PointF(b,v).transform(this.item.transform,n);S.a.drawLine(t,y.x,y.y,m.x,m.y,a,i,this.item.opacity)}t.restore()}},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),o=this.canvas.rgbColorProfileFileId;return e.verticalLineColor.needUpdate(o)&&(n.verticalLineColor=e.verticalLineColor.getData()),e.horizontalLineColor.needUpdate(o)&&(n.horizontalLineColor=e.horizontalLineColor.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.verticalLineColor&&(n.verticalLineColor=O.ColorFactory.createColor(e.verticalLineColor)),null!=e.horizontalLineColor&&(n.horizontalLineColor=O.ColorFactory.createColor(e.horizontalLineColor))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.verticalLineColor.needUpdate(n)||e.horizontalLineColor.needUpdate(n)},e}(P.a),N=n(706),W=n(514),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),q=function(t){function e(e){var n=this;return null!=e?(n=t.call(this,I.Path.ellipse(e.sourceRectangle.left,e.sourceRectangle.top,e.sourceRectangle.width,e.sourceRectangle.height),e)||this)._controlPoints=[new I.PointF(e.sourceRectangle.left,e.sourceRectangle.top),new I.PointF(e.sourceRectangle.right,e.sourceRectangle.bottom)]:n=t.call(this,null,e)||this,n._allowNegativeResize=!1,n}return V(e,t),e.prototype.hitTest=function(e,n){var o=t.prototype.hitTest.call(this,e.clone()),r=this._getRectangle(),i=e.clone();i.translate(-r.centerX,-r.centerY),i.rotate(-r.angle),i.scale(2/r.width,2/r.height);var a=i.x*i.x+i.y*i.y<1,s=!!n&&r.toRectangleF().contains(e);return o.body=a||s,o},e}(b.a),U=n(404);n.d(e,"a",function(){return H});var H=function(){function t(t,e){var n=this;this._canvas=t,this._viewer=e,this._handlers=new Map,this.get=function(t){var e;if(n._handlers.has(t))e=n._handlers.get(t);else if(function(t){return t.type===s.a.type}(t))e=new o.a(t);else if(function(t){return t.type===l.a.type}(t))e=new r.a(t);else if(function(t){return t.type===c.b.type}(t))e=new h.a(t);else if(function(t){return t.type===u.b.type}(t)){var P=e=new i.a(t);null!=t.content&&(P.content=n.get(t.content)),P.bottomFrames=t.bottomFrames.map(function(t){return n.get(t)}),P.topFrames=t.topFrames.map(function(t){return n.get(t)})}else if(function(t){return t.type===p.a.type}(t))e=new g.a(t);else if(function(t){return t.type===d.a.type}(t))e=new m.a(t);else if(function(t){return t.type===v.a.type}(t))e=new C.a(t);else if(function(t){return t.type===k.a.type}(t))e=new A(t);else if(function(t){return t.type===_.a.type}(t))e=new b.a(t.sourcePath,t);else if(function(t){return t.type===E.a.type}(t))e=new j.a(t);else if(function(t){return t.type===w.a.type}(t))e=new R(t);else if(function(t){return t.type===z.a.type}(t))e=new M.a(t);else if(function(t){return t.type===f.a.type}(t))e=new y.a(t);else if(function(t){return t.type===N.a.type}(t))e=new D(t);else{if(!function(t){return t.type===W.a.type}(t))throw new a.f("Item of type "+t.type+" not supported");e=new q(t)}return n._isItemOnCanvas(t)&&(e.canvas=n._canvas),n._handlers.set(t,e),e}}return t.prototype._isItemOnCanvas=function(t){if(null==t.parentContainer||!(t.parentContainer.parentComponent instanceof U.Surface))return!1;var e=t.parentContainer.parentComponent;return this._canvas.viewer.surface==e},t}()},543:function(t,e,n){"use strict";var o=n(402),r=n(431),i=function(){function t(t,e,n){this._sourceString=t,this._regexArray=e,this._maxValue=n}return t.prototype.validate=function(){var t=function(t,e){return"ComponentName - "+t+", Value - "+e+"; "},e="";if(this._validate(this._regexArray[1])||(e=e.concat(t("C",this._regexArray[1]))),this._validate(this._regexArray[2])||(e=e.concat(t("M",this._regexArray[2]))),this._validate(this._regexArray[3])||(e=e.concat(t("Y",this._regexArray[3]))),this._validate(this._regexArray[4])||(e=e.concat(t("K",this._regexArray[4]))),void 0==this._regexArray[5]||this._validate(this._regexArray[5])||(e=e.concat(t("A",this._regexArray[5]))),e.length>0){var n=e.length-2;e=e.substring(0,n),console.warn("Invalid value of CMYK components. SourceString: "+this._sourceString+"; InvalidComponents: "+e+".")}},t.prototype._validate=function(t){var e=parseFloat(t);return e>=0&&e<=this._maxValue},t}(),a=n(368);n.d(e,"a",function(){return l});var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e){var n=t.call(this,e)||this;if(n.c=255,n.m=255,n.y=255,n.k=255,n.a=255,null==e)return n;var o="Incorrect CmykColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromPercentCmyk(e)||n._tryInitFromRelativeCmyk(e)||n._tryInitFromDeviceCmyk(e)?n._previewFromServer=r.a.isValidRgbColor(n.preview):console.warn(o);else try{n._init(e)}catch(t){console.warn(o)}return n}return s(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"CmykColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.prototype._tryInitFromDeviceCmyk=function(t){var e=/^\s*device-cmyk\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\,\s*(\d{1,3})\s*(\,\s*(\d{1,}(\.\d{1,})?))?\s*(\,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g.exec(t);if(null!=e&&10===e.length){var n={c:+e[1],m:+e[2],y:+e[3],k:+e[4],preview:e[9]};return void 0!=e[6]&&(n.a=this._convertRelativeToByte(e[6])),this._init(n),!0}return!1},e.prototype._tryInitFromPercentCmyk=function(t){var e=/^\s*cmyk\(\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*(?:\,\s*(\d{1,3}(?:\.\d{1,})?)%)?\s*(?:\,\s*(.*)\s*)?\);{0,1}\s*$/g.exec(t);if(null!=e&&7===e.length){new i(t,e,100).validate();var n={c:r.a.convertPercentToByte(e[1]),m:r.a.convertPercentToByte(e[2]),y:r.a.convertPercentToByte(e[3]),k:r.a.convertPercentToByte(e[4]),preview:e[6]};return void 0!=e[5]&&(n.a=r.a.convertPercentToByte(e[5])),this._init(n),!0}return!1},e.prototype._tryInitFromRelativeCmyk=function(t){var e=/^\s*cmyk\(\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*(?:\,\s*(\d{1,3}(?:\.\d{1,})?))?\s*(?:\,\s*(.*)\s*)?\);{0,1}\s*$/g.exec(t);if(null!=e&&7===e.length){new i(t,e,1).validate();var n={c:this._convertRelativeToByte(e[1]),m:this._convertRelativeToByte(e[2]),y:this._convertRelativeToByte(e[3]),k:this._convertRelativeToByte(e[4]),preview:e[6]};return void 0!=e[5]&&(n.a=this._convertAlpha(e[5])),this._init(n),!0}return!1},e.prototype._convertRelativeToByte=function(t){return Object(a.Clamp)(0,parseInt((255*parseFloat(t)).toFixed(0)),255)},e.prototype._convertAlpha=function(t){return Object(a.Clamp)(parseInt((255*parseFloat(t)).toFixed(0)),0,255)},e.prototype.clone=function(){return new e(this)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.c=this.c,e.m=this.m,e.y=this.y,e.k=this.k,e.a=this.a,e},e.prototype.equals=function(n,o){return void 0===o&&(o=!1),n instanceof e&&(t.prototype.equals.call(this,n,o)&&n instanceof e&&this.c===n.c&&this.m===n.m&&this.y===n.y&&this.k===n.k&&this.a===n.a)},e.prototype.toString=function(){var t="cmyk("+this._toRelative(this.c)+","+this._toRelative(this.m)+","+this._toRelative(this.y)+","+this._toRelative(this.k)+","+this._toRelative(this.a);return null!=this.preview&&(t+=","+this.preview),t+=")"},e.prototype._toRelative=function(t){return(t/255).toFixed(7)},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.c),this._validateNumber(e.m),this._validateNumber(e.y),this._validateNumber(e.k),this._validateNumber(e.a),this.c=e.c,this.m=e.m,this.y=e.y,this.k=e.k,this.a=e.a},e}(o.a)},545:function(t,e,n){"use strict";var o=n(370),r=n(521),i=n(383),a=n(466),s=n(435),l=function(){function t(t){this.id=t}return t.prototype.isEmpty=function(){return null==this.color&&null==this.fill&&null==this.border&&null==this.altBorder&&null==this.altColor&&null==this.text&&null==this.stroke&&null==this.shadow&&null==this.verticalLineColor&&null==this.horizontalLineColor},t}(),u=n(371),c=n(404),h=n(368),p=n(378),f=n(451),d=n(526);n.d(e,"a",function(){return g});var g=function(){function t(t){var e=this;this._tag=null,this._modelItem=null,this._memoryCanvas=null,this._textureCanvas=null,this._skipPropertyChanged=!1,this._skippedPropertyName=null,this._baseOnItemPropertyChanged=function(t,n){e._skipPropertyChanged?e._skippedPropertyName=n:e._onItemPropertyChanged(t,n)},this._updating=!1,this._readyEvent=new o.b,this._changingEvent=new o.a,this._changedEvent=new o.a,this._itemPropertyChangedEvent=new o.b,this._setItem(t),this._controlPoints=[],this._layer=null,this._tag=null,this._permissions=this._createItemHandlerPermissions(),this._uniqueId=this._createUniqueID(),this._callbacks=[],this._renderState=d.a.Hidden}return Object.defineProperty(t.prototype,"item",{get:function(){return this._modelItem},set:function(t){this._setItem(t)},enumerable:!0,configurable:!0}),t.prototype._getItem=function(){return this._modelItem},t.prototype._setItem=function(t){this._unsubscribeItemEvents(),this._modelItem=t,this._subscribeItemEvents()},t.prototype._subscribeItemEvents=function(){null!=this._modelItem&&this._modelItem.addPropertyChanged(this._baseOnItemPropertyChanged)},t.prototype._unsubscribeItemEvents=function(){null!=this._modelItem&&this._modelItem.removePropertyChanged(this._baseOnItemPropertyChanged)},t.prototype._onItemPropertyChanged=function(t,e){switch(e){case"locked":null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redraw()),this.raiseChanged();break;case"transform":this._transformChanged();break;case"visible":this.quickUpdate(),null!=this.canvas&&this.canvas.redraw(),this.raiseChanged();break;case"manipulationPermissions":case"visualizationPermissions":case"itemPermissions":case"permissions":this._permissions=null,this.quickUpdate(),this.canvas&&this.canvas.redraw(),this.raiseChanged(),this._updateVisibility()}this._itemPropertyChangedEvent.notify(this,e)},t.prototype._createUniqueID=function(){return"vo"+(new Date).getTime()+Math.round(1e3*Math.random())},t.prototype._updateVisibility=function(){},t.prototype.clone=function(){var t=new this.constructor,e=t.uniqueId;return t.setData(this.getData()),t.uniqueId=e,t},Object.defineProperty(t.prototype,"ready",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype._isLoadingImage=function(){return!1},t.prototype._setIsLoadingImage=function(t){throw new u.f},Object.defineProperty(t.prototype,"isLoadingImage",{get:function(){return this._isLoadingImage()},set:function(t){this.isLoadingImage!==t&&this._setIsLoadingImage(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},set:function(t){this._uniqueId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderState",{get:function(){return this._renderState},set:function(t){this._renderState=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.item.blendMode},enumerable:!0,configurable:!0}),t.prototype.hasBlendMode=function(){return null!=this.item.blendMode&&this.item.blendMode!=f.a.None&&this.item.blendMode!=f.a.Normal},Object.defineProperty(t.prototype,"controlPoints",{get:function(){return this._controlPoints},set:function(t){this._controlPoints=t,this.raiseChanged()},enumerable:!0,configurable:!0}),t.prototype._createItemHandlerPermissions=function(){var t=this.item.manipulationPermissions,e=this.item.visualizationPermissions,n=this.item.itemPermissions,o={AllowDelete:t.allowDelete,AllowMoveHorizontal:t.allowMoveHorizontal,AllowMoveVertical:t.allowMoveVertical,AllowRotate:t.allowRotate,ResizeGrips:null!=t.resizeGrips?{Edge:t.resizeGrips.edge,Corner:t.resizeGrips.corner}:null,AllowDragAndDrop:t.allowDragAndDrop,NoPrint:e.noPrint,NoShow:e.noShow,ShowDeleteToolbarButton:n.itemToolbarPermissions.showDeleteButton,ShowEditToolbarButton:n.itemToolbarPermissions.showEditButton,ShowSelectToolbarButton:n.itemToolbarPermissions.showSelectButton};return new r.a(o,!0)},t.prototype.get_permissions=function(){return this.permissions},Object.defineProperty(t.prototype,"permissions",{get:function(){return null==this._permissions&&(this._permissions=this._createItemHandlerPermissions()),this._permissions},enumerable:!0,configurable:!0}),t.prototype._transformChanged=function(){this.raiseChanged()},Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(t){this._tag=t,this.raiseChanged()},enumerable:!0,configurable:!0}),t.prototype.get_canvas=function(){return this.canvas},Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},set:function(t){if(t!==this._canvas){var e=this._canvas;this._canvas=t,null!=this._canvas?this._onAddedOnCanvas(t):this._onRemovedFromCanvas(e)}},enumerable:!0,configurable:!0}),t.prototype.get_layer=function(){return this.layer},Object.defineProperty(t.prototype,"layer",{get:function(){return this._layer},set:function(t){this._layer=t,this.quickUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._layer?this._layer.itemHandlers.indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return new i.a(0,0,0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.item.name},set:function(t){this.item.name=t},enumerable:!0,configurable:!0}),t.prototype.getTypeName=function(){return this.constructor.typeName},t.prototype._createDataInstance=function(t){return new a.a(t)},t.prototype.getData=function(t){var e=this._createDataInstance(this);return"asObject"===t?e:JSON.stringify(e)},t.prototype._getDataItem=function(){return(new s.a).serializeModelComponent(this.item)},t.prototype._applyDataItem=function(t,e){var n=this,o=(new s.a).productParser.parseItem(t);this._modifyItem(function(){n._setDataItem(o,e)})},t.prototype._setDataItem=function(t,e){this.item.transform=t.transform.clone(),this.setData(e)},t.prototype.updateItem=function(t){this._skippedPropertyName=null,this._modifyItem(function(e){e.update(t)}),null!=this._skippedPropertyName&&(this._onItemPropertyChanged(this.item,this._skippedPropertyName),null!=this.canvas&&this.canvas.updateSelection())},t.prototype._modifyItem=function(t){if("function"==typeof t){this._skipPropertyChanged=!0;try{t(this.item)}finally{this._skipPropertyChanged=!1}}},t.prototype.setData=function(t){var e;t&&""!==t&&(e="string"==typeof t?JSON.parse(t):t,this._createDataInstance().applyState(e,this))},Object.defineProperty(t.prototype,"visible",{get:function(){return this.item.visible},set:function(t){this._setVisible(t)},enumerable:!0,configurable:!0}),t.prototype._setVisible=function(t){this.item.visible=t},t.prototype.isVisible=function(){return this.visible&&!this.get_permissions().get_noShow()&&(null==this.get_layer()||this.get_layer().get_visible())},Object.defineProperty(t.prototype,"locked",{get:function(){return this.item.locked},set:function(t){this.item.locked=t},enumerable:!0,configurable:!0}),t.prototype.isLocked=function(){return this.locked||null!=this.get_layer()&&this.get_layer().get_locked()},t.prototype._onAddedOnCanvas=function(t,e){null!=t&&(t.updateTexts(),e||this.update())},t.prototype._onRemovedFromCanvas=function(t){this._canvas=null},t.prototype.processEvent=function(t){},t.prototype.hitTest=function(t){throw new Error("Not implemented")},t.prototype._convertBlendModeToGlobalOperation=function(t){var e=null;switch(t){case f.a.Normal:e="normal";break;case f.a.Multiply:e="multiply";break;case f.a.Screen:e="screen";break;case f.a.Overlay:e="overlay";break;case f.a.Darken:e="darken";break;case f.a.Lighten:e="lighten";break;case f.a.ColorDodge:e="color-dodge";break;case f.a.ColorBurn:e="color-burn";break;case f.a.HardLight:e="hard-light";break;case f.a.SoftLight:e="soft-light";break;case f.a.Difference:e="difference";break;case f.a.Exclusion:e="exclusion";break;case f.a.None:default:e="none"}return e},t.prototype.draw=function(t){if(null!=t&&null!=this.canvas&&null!=this.layer){var e=t.globalCompositeOperation,n=this.hasBlendMode()?this._convertBlendModeToGlobalOperation(this.blendMode):e,o=null!=this.canvas.maskedLayers&&this.canvas.maskedLayers.includes(this.layer);t.globalAlpha=o?.2:1;var r=t.canvas.width,i=t.canvas.height,a=this.canvas.get_screenXDpi()*this.canvas.get_zoom()/72,s=this.canvas.get_screenYDpi()*this.canvas.get_zoom()/72;if(this.isNormalRenderingType)return this.hasBlendMode()&&(t.globalCompositeOperation=n),this.drawItemHandler(t),void(this.hasBlendMode()&&(t.globalCompositeOperation=e));var l=this.layer.textureImage;if(null!=l){var u=this._getTemporaryCanvas(r,i),c=u.getContext("2d"),f=this._getTextureCanvas(r,i),d=f.getContext("2d"),g=new h.RotatedRectangleF(r/2,i/2,r,i);p.a.drawImage(d,l,g,a,s,this.canvas.get_disableSmoothing()),c.scale(a,s),this.drawItemHandler(c,t),d.globalCompositeOperation="destination-in",d.drawImage(u,0,0,r,i),t.drawImage(f,0,0,r/a,i/s)}else this.get_canvas().drawWaitClock(t,this.bounds.center)}},t.prototype.drawItemHandler=function(t,e){},Object.defineProperty(t.prototype,"isNormalRenderingType",{get:function(){return null==this.layer||this.layer.renderingType===c.RenderingType.Normal},enumerable:!0,configurable:!0}),t.prototype._getTemporaryCanvas=function(t,e){return null==this._memoryCanvas&&(this._memoryCanvas=document.createElement("canvas")),this._memoryCanvas.width=t,this._memoryCanvas.height=e,this._memoryCanvas},t.prototype._getTextureCanvas=function(t,e){return null==this._textureCanvas&&(this._textureCanvas=document.createElement("canvas")),this._textureCanvas.width=t,this._textureCanvas.height=e,this._textureCanvas},t.prototype.updateColors=function(){return null!=this.canvas&&this.hasColorsToUpdate()?this.canvas.updateColors(this):Promise.resolve()},t.prototype.getColorData=function(){return new l(this.item.id)},t.prototype.setColorData=function(t){},t.prototype.hasColorsToUpdate=function(){return!1},t.prototype.quickUpdate=function(){},t.prototype.update=function(t,e){},t.prototype._validateBeforeCallService=function(){return!0},t.prototype.updateForExternalCanvas=function(t){this._serverSideUpdate(null,null,null,t)},t.prototype._update=function(t,e,n){this._serverSideUpdate(t,e,n,null)},t.prototype._serverSideUpdate=function(t,e,n,o){var r=this;if(this.isUpdating)this._callbacks.push(e);else{"function"==typeof e&&e();var i=this._createDataInstance(this),a=[JSON.stringify(i),JSON.parse(this._getDataItem())];null!=t&&(a=a.concat(t)),this._validateBeforeCallService()?this._callService("Update"+this.getTypeName(),a,function(t){var e=null;"object"==typeof t&&(e=t.item,t=t.itemHandlerData),null!=e&&r._applyDataItem(e,t),r.setData(t),"function"!=typeof n?r.quickUpdate():(n(),r.quickUpdate(),r.raiseChanged(),r.item.getItemChangedEvent().notify()),r._activeWebServiceCall=null},function(t){window.console&&(console.error("Fail updateByService",t),console.trace()),r._activeWebServiceCall=null},o):this._onValidateBeforeCallServiceFailed()}},t.prototype._callService=function(t,e,n,o,r){var i=null!=r?r:this.canvas;if(null!=i&&i.get_isInitialized()&&!i.initialization){var a=this.isNormalRenderingType||null==this.layer?null:this.layer.get_uniqueId(),s=i.getCallService(t,e,n,o,a);this._updateActiveWebServiceCall(s)}},t.prototype._updateActiveWebServiceCall=function(t){this._cancelWebServiceCall(),this._activeWebServiceCall=t},t.prototype._cancelWebServiceCall=function(){null!=this._activeWebServiceCall&&(this._activeWebServiceCall.cancel(),this._activeWebServiceCall=null)},t.prototype.waitUpdate=function(){return null!=this._activeWebServiceCall?this._activeWebServiceCall.promise:Promise.resolve()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this._updating=!0},t.prototype.endUpdate=function(){this._updating=!1,this.updated();for(var t=!1;this._callbacks.length>0;){var e=this._callbacks.shift();"function"==typeof e&&(e(),t=!0)}t&&this.update()},t.prototype.updated=function(){this.raiseChanged()},t.prototype.addReady=function(t){this._readyEvent.add(t)},t.prototype.removeReady=function(t){this._readyEvent.remove(t)},t.prototype._dispatchReadyEvent=function(){this._readyEvent.notify(this)},t.prototype.addChanging=function(t){this._changingEvent.add(t)},t.prototype.removeChanging=function(t){this._changingEvent.remove(t)},t.prototype.raiseChanging=function(t){t=null!=t?t:this.item,this._changingEvent.notify(t)},t.prototype.getChangingEvent=function(){return this._changingEvent},t.prototype.addChanged=function(t){this._changedEvent.add(t)},t.prototype.removeChanged=function(t){this._changedEvent.remove(t)},t.prototype.raiseChanged=function(t){this.isUpdating||(t=null==t?this.item:t,this._changedEvent.notify(t))},t.prototype.getChangedEvent=function(){return this._changedEvent},t.prototype.addItemPropertyChanged=function(t){this._itemPropertyChangedEvent.add(t)},t.prototype.removeItemPropertyChanged=function(t){this._itemPropertyChangedEvent.remove(t)},t.prototype.initialize=function(){},t.prototype._onValidateBeforeCallServiceFailed=function(){},t.prototype.dispose=function(){},t.typeName="ItemHandler",t}()},704:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o="5.20.0"},705:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(368),r=n(371),i=function(){function t(t,e){throw this._failed=!1,this._createTextDelegate=t,this._updateTextDelegate=e,new r.f("")}return Object.defineProperty(t.prototype,"textHandler",{get:function(){return this._textHandler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return null!=this._textWhizz&&this._ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"failed",{get:function(){return this._failed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCropped",{get:function(){return null==this._isCropped&&(this._isCropped=this._checkTextCropped()),this._isCropped},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExtended",{get:function(){return this._isExtended},enumerable:!0,configurable:!0}),t.prototype.updateText=function(e){if("function"==typeof this._createTextDelegate&&"function"==typeof this._updateTextDelegate){this._ready=!1;try{this._failed=!1,(null==this._text||null==this._textHandler||e)&&(this._text=this._createTextDelegate(),this._textHandler=new this._textWhizz.TextHandler(this._text,t.DEFAULT_DPI),this._isPathBounded&&this._textHandler.getBlackBox().height<=0?(this._text=this._createTextDelegate(!0),this._textHandler=new this._textWhizz.TextHandler(this._text,t.DEFAULT_DPI),this._isExtended=!0):this._isExtended=!1),this._isPlain&&this._updateStyle()}catch(t){throw this._failed=!0,this._createException(t)}this._isCropped=null,this._ready=!0}},t.prototype.draw=function(t){try{this.textHandler.draw(t)}catch(t){throw this._failed=!0,this._createException(t)}},t.prototype._updateStyle=function(){var t=this,e=this._textHandler;new this._textWhizz.TextRange(e.getFirstPosition(),e.getLastPosition()).updateStyles(function(e){return t._updateTextDelegate(e)})},Object.defineProperty(t.prototype,"_isPathBounded",{get:function(){return this._text instanceof this._textWhizz.PathBoundedText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isPlain",{get:function(){return this._text instanceof this._textWhizz.PlainText},enumerable:!0,configurable:!0}),t.prototype._checkTextCropped=function(){if(!this._isPathBounded)return!1;if(this.isExtended)return!0;var e=this._textHandler.getBlackBox(),n=this._createTextDelegate(!0);return new this._textWhizz.TextHandler(n,t.DEFAULT_DPI).getBlackBox().height-e.height>.01},t.prototype._createException=function(t){var e=this._textWhizz.getExceptionMessage(t),n=this._textWhizz.getExceptionName(t);return new r.d(n+": "+e)},t.rgbToTextWhizzColor=function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}},t.textWhizzMatrixToMatrix=function(t){return new o.Matrix(t.sx,t.shy,t.shx,t.sy,t.tx,t.ty)},t.matrixToTextWhizzMatrix=function(t){return{sx:t.m00,sy:t.m11,shx:t.m01,shy:t.m10,tx:t.m02,ty:t.m12}},t.DEFAULT_DPI=96,t}()},706:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(401),r=n(387),i=n(419),a=n(375),s=n(382),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(t){function e(n,o,s,l,u,c){var h=t.call(this)||this;return h.type=e.type,h._location=new r.a(n,o),h._cols=s,h._rows=l,h._stepX=u,h._stepY=c,h._horizontalLineColor=new a.RgbColor("rgba(0,0,0,1)"),h._verticalLineColor=new a.RgbColor("rgba(0,0,0,1)"),h._lineWidth=1,h._fixedLineWidth=!0,h.textWrappingMode=i.a.None,h}return l(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this._location},set:function(t){r.a.isEqual(this._location,t)||(this._location=t,this._propertyChanged.notify(this,"location"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._cols},set:function(t){s.e(this._cols,t)||(this._cols=t,this._propertyChanged.notify(this,"cols"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},set:function(t){s.e(this._rows,t)||(this._rows=t,this._propertyChanged.notify(this,"rows"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepX",{get:function(){return this._stepX},set:function(t){s.e(this._stepX,t)||(this._stepX=t,this._propertyChanged.notify(this,"stepX"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepY",{get:function(){return this._stepY},set:function(t){s.e(this._stepY,t)||(this._stepY=t,this._propertyChanged.notify(this,"stepY"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){s.e(this._lineWidth,t)||(this._lineWidth=t,this._propertyChanged.notify(this,"lineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedLineWidth",{get:function(){return this._fixedLineWidth},set:function(t){this._fixedLineWidth!==t&&(this._fixedLineWidth=t,this._propertyChanged.notify(this,"fixedLineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalLineColor",{get:function(){return this._verticalLineColor},set:function(t){a.Color.equals(this._verticalLineColor,t)||(this._verticalLineColor=t,this._propertyChanged.notify(this,"verticalLineColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalLineColor",{get:function(){return this._horizontalLineColor},set:function(t){a.Color.equals(this._horizontalLineColor,t)||(this._horizontalLineColor=t,this._propertyChanged.notify(this,"horizontalLineColor"))},enumerable:!0,configurable:!0}),e.type="GridItem",e}(o.a)},716:function(t,e,n){"use strict";var o,r=n(868);!function(t){t.stringify=function(t,e,n){return r.stringify(t,e,n)},t.parse=function(t,e){return r.parse(t,e)}}(o||(o={})),n.d(e,"a",function(){return l});var i=!1,a=null,s=[];function l(t,e){void 0===e&&(e=!1);try{if(!i)return;if(null==a||void 0==a||""==a||"string"!=typeof a)return;var n=new Date,r={};if(function(t){return null!=t&&"object"==typeof t}(t)){for(var l in t)try{r[l]=JSON.stringify(t[l])}catch(e){try{r[l]=o.stringify(t[l])}catch(t){r[l]="Unable to stringify: "+t}}if(e){var u=new Error;r.__stackTrace=u.stack}r.__time=n}!function(t){s.push(t)}(r)}catch(t){console.error("Exception in traceLog",t)}}},720:function(t,e,n){"use strict";var o=n(522),r=n(436),i=n(467),a=n(376),s=n(395),l=n(368),u=n(442),c=n(523),h=n(524),p=n(452),f=n(389),d=n(441),g=n(371),y=n(375),m=n(412),_=n(421),b=n(453),v=n(525),C=n(704),w=n(380),P=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.name=this.name,e.storageId=this.storageId,e.staticStorageId=this.staticStorageId,e.repeat=this.repeat,e.opacity=this.opacity,e},t}(),O=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.text=this.text,e.fontSettings=null!=this.fontSettings?this.fontSettings.clone():null,e.scale=this.scale,e.opacity=this.opacity,e},t}(),S=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.canvas=this.canvas,e.proof=this.proof,e},t}(),x=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.text=null!=this.text?this.text.clone():null,e.image=null!=this.image?this.image.clone():null,e.visibility=null!=this.visibility?this.visibility.clone():null,e},t}(),I=n(404);n.d(e,"a",function(){return R});var T=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},B=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(T(arguments[e]));return t},R=function(){function t(t){var e=this;this.parseSurface=function(t){var n=new r.a;return e._parseModelComponent(t,n,[new E("mockup",e.parseMockup.bind(e)),new E("printAreas",function(t){return e.parseCollection(t,e.parsePrintArea,n.printAreas)},!0),new E("containers",function(t){return e.parseCollection(t,e.parseSurfaceContainer,n.containers)},!0),new E("previewMockups",function(t){return e.parseCollection(t,e.parseMockup.bind(e),n.previewMockups)},!0),new E("watermark",e.parseWatermark.bind(e))]),n},this.parseMockupContainer=function(t){var n=new s.b;return e.parseContainer(t,n),n},this.parseSurfaceContainer=function(t){var n,o=t.type;switch(delete t.type,o){case"SpotColorContainer":n=new s.c,e.parseContainer(t,n),delete t.version,delete t.items,Object.assign(n,t);break;case"TextureContainer":n=new s.e,e.parseContainer(t,n),n.previewTextureSource=e.parseImageSource(t.previewTextureSource),delete t.previewTextureSource,delete t.version,delete t.items,Object.assign(n,t);break;default:n=new s.d,e.parseContainer(t,n)}return n},this.parseContainer=function(t,n){return void 0===n&&(n=new s.a),e._parseModelComponent(t,n,[new E("region",e.parseRectangleF.bind(e)),new E("size",e.parseSizeF.bind(e)),new E("items",function(t){return e.parseCollection(t,e.parseItem,n.items)},!0)]),n},this.parseSafetyLine=function(t){var n=new u.b,o=[new E("color",e.parseColor.bind(e)),new E("altColor",e.parseColor.bind(e))];return e._parseObject(t,n,o),n},this.parseCropMark=function(t){var n=new c.a,o=[new E("color",e.parseColor.bind(e)),new E("leftNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,function(t){n.leftNotes=t}),!0),new E("rightNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,function(t){n.rightNotes=t}),!0),new E("topNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,function(t){n.topNotes=t}),!0),new E("bottomNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,function(t){n.bottomNotes=t}),!0)];return e._parseObject(t,n,o),n},this.parseCropMarkText=function(t){var n=new c.b;return e._parseObject(t,n,[]),n},this.parsePrintArea=function(t){var n=new h.a;return e._parseModelComponent(t,n,[new E("bounds",e.parseRectangleF.bind(e)),new E("safetyLines",function(t){return e.parseCollection(t,e.parseSafetyLine,n.safetyLines)},!0),new E("cropMarks",function(t){return new w.a(t.map(e.parseCropMark))})]),n},this.parseItem=function(t){if(null==t)return null;var n=t.$type;delete t.$type;var o=[new E("pathBoundedTextPermissions",e.parsePathBoundedTextPermissions.bind(e)),new E("manipulationPermissions",e.parseManipulationPermissioins.bind(e)),new E("frontendPermissions",e.parseFrontendPermissions.bind(e)),new E("visualizationPermissions",e.parseVisualizationPermissions.bind(e)),new E("itemPermissions",e.parseItemPermissions.bind(e)),new E("transform",e.parseTransform.bind(e)),new E("color",e.parseColor.bind(e)),new E("themeBinding",e.parseThemeBinding.bind(e)),new E("mask",e.parseMask.bind(e))],r=null,i=o.concat([new E("textPermissions",e.parseTextPermissions.bind(e)),new E("font",e.parseFontSettings.bind(e),!0),new E("stroke",e.parseStrokeSettings.bind(e)),new E("shadow",e.parseShadowSettings.bind(e)),new E("textForTextWhizz",function(){},!0)]);if(null==n)throw new g.d("Serialized data seems to be corrupted.");switch(n){case f.SmartItem.type:r=e.parseSmartItem(t);break;case f.RectangleItem.type:r=e.parseRectangleItem(t,o);break;case f.ShapeItem.type:r=e.parseShapeItem(t,o);break;case f.LineItem.type:r=e.parseLineItem(t,o);break;case f.DashedLineItem.type:r=e.parseDashedLineItem(t,o);break;case f.EllipseItem.type:r=e.parseEllipseItem(t,o);break;case f.ImageItem.type:r=e.parseImageItem(t,o);break;case f.BarcodeItem.type:r=e.parseBarcodeItem(t,o);break;case f.PlainTextItem.type:r=e.parsePlainTextItem(t,i);break;case f.BoundedTextItem.type:r=e.parseBoundedTextItem(t,i);break;case f.PathBoundedTextItem.type:r=e.parsePathBoundedTextItem(t,i);break;case f.CurvedTextItem.type:r=e.parseCurvedTextItem(t,i);break;case f.AutoScaledTextItem.type:r=e.parseAutoScaledTextItem(t,i);break;case f.PlaceholderItem.type:r=e.parsePlaceholderItem(t,o);break;default:throw new g.f("Deserializing of item with type - "+n+" is not implemented")}return r},this.parseLineItem=function(t,n){var o=new f.LineItem,r=B(n,e._getLineConverters());return e._parseModelComponent(t,o,r),o},this.parseRotatedRectangle=function(t){return new l.RotatedRectangleF(t.centerX,t.centerY,t.width,t.height,t.angle)},this.parsePlaceholderPermissions=function(t){return Object.assign(new f.PlaceholderPermissions,t)},this.parseLinePermissions=function(t){return Object.assign(new f.LinePermissions,t)},this.parseBarcodePermissions=function(t){return Object.assign(new f.BarcodePermissions,t)},this._parseOverlayEffect=function(t){if(null!=t)return new f.OverlayEffect({color:null!=t.color?e.parseColor(t.color):null,opacity:null!=t.opacity?t.opacity:null,blendMode:null!=t.blendMode?t.blendMode:null})},this._parseImageItemValue=function(t){return{name:t.name,value:t.value,transformedRectangle:e.parseRotatedRectangle(t.transformedRectangle)}},this._additionalConverters=null!=t?t:[]}return t.prototype.parseProduct=function(t){var e=this,n=new o.a,r=[new E("surfaces",function(t){return e.parseCollection(t,e.parseSurface,n.surfaces)},!0),new E("watermarkConfig",this.parseWatermarkConfig.bind(this)),new E("defaultSafetyLines",function(t){return e.parseCollection(t,e.parseSafetyLine,n.defaultSafetyLines)},!0),new E("defaultCropMarks",function(t){return e.parseCollection(t,e.parseCropMark,n.defaultCropMarks)},!0),new E("defaultDesignLocation",this.parsePointF.bind(this))];return this._parseModelComponent(t,n,r),n},t.prototype.parseWatermarkConfig=function(t){var e=this;if(null==t)return null;var n=new x,o=new E("fontSettings",function(t){if(null==t)return null;var n=new f.BaseTextItem.FontSettings;return e._parseObject(t,n,[]),n}),r=new E("text",function(t){if(null==t)return null;var n=new O;return e._parseObject(t,n,[o]),n}),i=new E("image",function(t){if(null==t)return null;var n=new P;return e._parseObject(t,n,[]),n}),a=new E("visibility",function(t){if(null==t)return null;var n=new S;return e._parseObject(t,n,[]),n});return this._parseObject(t,n,[r,i,a]),n},t.prototype.parseWatermark=function(t){if(null==t)return null;var e=new I.Watermark;return this._parseObject(t,e,[]),e},t.prototype.parseMockup=function(t){var e=this,n=new i.a;return this._parseModelComponent(t,n,[new E("underContainers",function(t){return e.parseCollection(t,e.parseMockupContainer,n.underContainers)},!0),new E("overContainers",function(t){return e.parseCollection(t,e.parseMockupContainer,n.overContainers)},!0)]),n},t.prototype.parseCollection=function(t,e,n){n.setRange(t.map(function(t){return e(t)}))},t.prototype.parseRectangleF=function(t){return null==t?null:new l.RectangleF(t.left,t.top,t.width,t.height)},t.prototype.parsePointF=function(t){if(null==t)return null;var e=new l.PointF;return Object.assign(e,t),e},t.prototype.parseSizeF=function(t){if(null==t)return null;if(a.isString(t)){var e=t.split(",");return new l.SizeF(parseFloat(e[0].trim()),parseFloat(e[1].trim()))}return a.extend(new l.SizeF,t)},t.prototype.parsePath=function(t){return null==t?null:new l.Path(t.toString())},t.prototype.parsePaths=function(t){if(null==t||!a.isArray(t))return null;var e=[];return a.toArray(t).forEach(function(t){e.push(new l.Path(t.toString()))}),e},t.prototype.parseSmartItem=function(t){var e=new f.SmartItem;return this._parseModelComponent(t,e,[]),e},t.prototype.parsePlainTextItem=function(t,e){var n=new f.PlainTextItem,o=e.concat(this._getShapeConverters(),[new E("baselineLocation",this.parsePointF.bind(this)),this._getInStringPlaceholdersConverter(n)]);return this._parseModelComponent(t,n,o),n},t.prototype.parseAutoScaledTextItem=function(t,e){var n=new f.AutoScaledTextItem,o=e.concat(this._getShapeConverters(),[new E("textRectangle",this.parseRectangleF.bind(this)),this._getInStringPlaceholdersConverter(n)]);return this._parseModelComponent(t,n,o),n},t.prototype.parseBoundedTextItem=function(t,e){var n=new f.BoundedTextItem,o=e.concat(this._getShapeConverters(),[new E("paragraphSettings",this.parseParagraphSettings.bind(this)),new E("textRectangle",this.parseRectangleF.bind(this)),new E("wrappingPath",this.parsePath.bind(this)),this._getInStringPlaceholdersConverter(n)]);return this._parseModelComponent(t,n,o),n},t.prototype.parsePathBoundedTextItem=function(t,e){var n=new f.PathBoundedTextItem,o=e.concat(this._getShapeConverters(),[new E("pathBoundedTextPermissions",this.parsePathBoundedTextPermissions.bind(this)),new E("boundingPaths",this.parsePaths.bind(this)),new E("paragraphSettings",this.parseParagraphSettings.bind(this)),new E("wrappingPath",this.parsePath.bind(this)),this._getInStringPlaceholdersConverter(n)]);return this._parseModelComponent(t,n,o),n},t.prototype.parseCurvedTextItem=function(t,e){var n=new f.CurvedTextItem,o=e.concat(this._getShapeConverters(),[new E("textPath",this.parsePath.bind(this)),this._getInStringPlaceholdersConverter(n)]);return this._parseModelComponent(t,n,o),n},t.prototype._getInStringPlaceholdersConverter=function(t){var e=this;return new E("placeholders",function(n){return e.parseCollection(n,e.parseInStringPlaceholder,t.placeholders)},!0)},t.prototype.parseImageItem=function(t,e){var n=new f.ImageItem,o=e.concat(this._getShapeConverters(),this._getImageConverters(n));return this._parseModelComponent(t,n,o),n},t.prototype.parseBarcodeItem=function(t,e){var n=new f.BarcodeItem,o=e.concat(this._getShapeConverters(),this._getImageConverters(n),[new E("barcodePermissions",this.parseBarcodePermissions.bind(this)),new E("color",this.parseColor.bind(this))]);return this._parseModelComponent(t,n,o),n},t.prototype.parsePlaceholderItem=function(t,e){var n=this,o=new f.PlaceholderItem,r=B(e,this._getShapeConverters(),[new E("placeholderPermissions",this.parsePlaceholderPermissions),new E("contentPermissions",this.parseContentPermissioins.bind(this)),new E("content",this.parseItem),new E("topFrames",i),new E("bottomFrames",i),new E("stubStorageMeta",function(t){return new f.ImageMetaData(t)}),new E("contentFillColor",this.parseColor.bind(this)),new E("contentOverlayEffect",this._parseOverlayEffect.bind(this))]);return this._parseModelComponent(t,o,r),o;function i(t){return t.map(n.parseItem)}},t.prototype.parseContentPermissioins=function(t,e){var n=new f.ContentPermissions;return n.barcodePermissions=this.parseBarcodePermissions(t.barcodePermissions),n.imagePermissions=this.parseImagePermissions(t.imagePermissions),n},t.prototype.parseEllipseItem=function(t,e){var n=new f.EllipseItem,o=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,o),n},t.prototype.parseRectangleItem=function(t,e){var n=new f.RectangleItem,o=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,o),n},t.prototype.parseShapeItem=function(t,e){var n=new f.ShapeItem,o=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,o),n},t.prototype.parseDashedLineItem=function(t,e){var n=new f.DashedLineItem,o=B(e,this._getLineConverters(),this._getDashedLineConverters());return this._parseModelComponent(t,n,o),n},t.prototype.parseThemeBinding=function(t){return null!=t?f.ThemeBinding.fromRaw(t):null},t.prototype.parseMask=function(t){return null!=t?p.a.fromRaw(t):null},t.prototype.parseColor=function(t){return null!=t?y.ColorFactory.createColor(t):null},t.prototype.parseTransform=function(t){return new m.a(t.scaleX,t.scaleY,t.translateX,t.translateY,t.angle)},t.prototype.parseFontSettings=function(t,e){var n=new f.BaseTextItem.FontSettings;return Object.assign(n,t),e.font=n,e.font},t.prototype.parseManipulationPermissioins=function(t){var e=Object.assign(new f.ManipulationPermissions,t);return e.resizeGrips=Object.assign(new f.ResizeGripsPermissions(!1,!1),t.resizeGrips),e},t.prototype.parseFrontendPermissions=function(t){return Object.assign(new f.FrontendPermissions,t)},t.prototype.parseVisualizationPermissions=function(t){return Object.assign(new f.VisualizationPermissions,t)},t.prototype.parseItemPermissions=function(t){var e=Object.assign(new f.ItemPermissions,t);return e.itemToolbarPermissions=Object.assign(new f.ItemToolbarPermissions(!1),t.itemToolbarPermissions),e},t.prototype.parseTextPermissions=function(t){return Object.assign(new f.TextPermissions,t)},t.prototype.parsePathBoundedTextPermissions=function(t){return Object.assign(new f.PathBoundedTextPermissions,t)},t.prototype.parseShapePermissions=function(t){return Object.assign(new f.ShapePermissions,t)},t.prototype.parseImagePermissions=function(t){return Object.assign(new f.ImagePermissions,t)},t.prototype.parseImageSource=function(t){var e=null;return void 0!==t.origin&&(e=t.origin,delete t.origin),Object.assign(new f.ImageItem.ImageSource(t.id,t.url,0,!1,!0,e),t)},t.prototype.parseParagraphSettings=function(t){return new _.a(t)},t.prototype.parseStrokeSettings=function(t){return b.a._from_data(t)},t.prototype.parseShadowSettings=function(t){return v.a._from_data(t)},t.prototype.parseInStringPlaceholder=function(t){return new f.InStringPlaceholder(t.id,t.name,t.mask,t.value,t.values)},t.prototype._setConvertedArray=function(t,e,n){a.isArray(n)&&e(a.map(n,function(e){return t(e)}))},t.prototype._getImageConverters=function(t){return[new E("source",this.parseImageSource.bind(this)),new E("imagePermissions",this.parseImagePermissions.bind(this)),new E("values",this._setConvertedArray.bind(this,this._parseImageItemValue,function(e){t.values=e}),!0),new E("overlayEffect",this._parseOverlayEffect.bind(this))]},t.prototype._getShapeConverters=function(){return[new E("fillColor",this.parseColor.bind(this)),new E("borderColor",this.parseColor.bind(this)),new E("altBorderColor",this.parseColor.bind(this)),new E("sourceRectangle",this.parseRectangleF.bind(this)),new E("sourcePath",this.parsePath.bind(this)),new E("shapePermissions",this.parseShapePermissions.bind(this))]},t.prototype._getLineConverters=function(){return[new E("color",this.parseColor.bind(this)),new E("sourcePoint0",this.parsePointF.bind(this)),new E("sourcePoint1",this.parsePointF.bind(this)),new E("linePermissions",this.parseLinePermissions)]},t.prototype._getDashedLineConverters=function(){return[new E("altColor",this.parseColor.bind(this))]},t.prototype._parseModelComponent=function(t,e,n){if(t.version!==C.a)throw new g.d("Version of serialized model component does not match the editor's version.");n=n.concat([new E("tags",function(t,e){e._tags=t},!0),new E("version",function(t,e){},!0)]),this._parseObject(t,e,n)},t.prototype._parseObject=function(t,e,n){for(var o in t)if(t.hasOwnProperty(o)){var r=n.find(function(t){return t.property===o}),i=t[o];if(null==r){if(a.isObject(i)){var s=i.$type;if(delete i.$type,a.isString(s)){var l=a.find(this._additionalConverters,function(t){return t.type===s});if(null!=l){e[o]=l.parseRawValue(i);continue}d.a.getLogger().warn("Unknown type "+s)}}e[o]=i;continue}r.setByConverter?r.convert(i,e):e[o]=r.convert(i)}},t}(),E=function(){return function(t,e,n){this.property=t,this.convert=e,this.setByConverter=n||!1}}()},867:function(t,e,n){var o=n(496);o.prototype[Symbol.iterator]||(o.prototype[Symbol.iterator]=function(){var t=this.getEnumerator();return{next:function(){return t.moveNext()?{done:!1,value:t.current()}:{done:!0}}}});var r=!0;o.extendArray=function(){r&&(r=!1,Object.keys(o.prototype).forEach(function(t){Array.prototype[t]||(Array.prototype[t]=function(){var e=o.from(this);return e[t].apply(e,arguments)})}))},t.exports=o},868:function(module,exports,__webpack_require__){"use strict";function decycle(t){var e=[],n=[];return function t(o,r){var i,a,s,l=o&&o.toJSON instanceof Function?o.toJSON():o;if("object"==typeof l&&null!==l){for(i=0;i<e.length;i+=1)if(e[i]===l)return{$ref:n[i]};if(e.push(l),n.push(r),"[object Array]"===Object.prototype.toString.apply(l))for(s=[],i=0;i<l.length;i+=1)s[i]=t(l[i],r+"["+i+"]");else for(a in s={},l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=t(l[a],r+"["+JSON.stringify(a)+"]"));return s}return l}(t,"$")}function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}module.exports={stringify:function(t,e,n){return JSON.stringify(decycle(t),e,n)},parse:function(t,e){return retrocycle(JSON.parse(t,e))},decycle,retrocycle}},869:function(t,e){var n="BEGIN:VCARD",o="END:VCARD";var r=/[^\\];|^;/,i=/[^\\],|^,/;function a(t){return t.match(r)?s(t=t.replace(/\\,/g,","),";"):t.match(i)?s(t=t.replace(/\\;/g,";"),","):t.replace(/\\,/g,",").replace(/\\;/g,";")}function s(t,e){var n=new RegExp(e),o=new RegExp("\\\\"+e,"g");return t=(t=t.replace(o,"ΩΩΩ")).match(n)?(t=t.split(e)).map(function(t){return t.replace(/ΩΩΩ/g,e)}):t.replace(/ΩΩΩ/g,e)}var l=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),u=["nickname","related","categories","pid"],c=["fn"];t.exports={parse:function(t){for(var e,r,i,s,l,u={},c=t.split(/\r\n|\r|\n/),h=c.length,p=0;p<h;p++)if(""!==c[p]&&c[p].toUpperCase()!==n&&c[p].toUpperCase()!==o){var f=c[p],d=function(t){return t+1<h&&(" "===c[t+1][0]||"\t"===c[t+1][0])};if(d(p))for(;d(p);)f+=c[p+1].trim(),p++;if(r=(e=f.split(":")).shift(),i=e.join(":"),l=!1,s={},r.match(/;/)){var g=(r=r.replace(/\\;/g,"ΩΩΩ").replace(/\\,/,",")).split(";").map(function(t){return t.replace(/ΩΩΩ/g,";")});r=g.shift(),g.forEach(function(t){var e=t.split("=");e[0]=e[0].toLowerCase(),0!==e[0].length&&(s[e[0]]?s[e[0]].push(e[1]):s[e[0]]=[e[1]])})}if(i=a(i=i.replace(/\\n/g,"\n")),r.match(/\./)){var y=r.split(".");r=y[1],l=y[0]}var m={value:i};Object.keys(s).length&&(m.meta=s),l&&(m.namespace=l),0!==r.indexOf("X-")&&(r=r.toLowerCase()),void 0===u[r]?u[r]=[m]:u[r].push(m)}return u},generate:function(t,e){var r=[n],i="";e&&!t.version&&(t.version=[{value:"3.0"}]),e&&!t.uid&&(t.uid=[{value:l()}]);var a=function(t){return void 0===t?"":t.replace(/\n/g,"\\n").replace(/;/g,"\\;").replace(/,/g,"\\,")};return Object.keys(t).forEach(function(e){t[e]&&"function"==typeof t[e].forEach&&t[e].forEach(function(t){if(void 0!==t.value&&(""!==t.value||-1!==c.indexOf(e))){if(t.value instanceof Array){for(var n=!0,o=0;o<t.value.length;o++)if(void 0!==t.value[o]&&""!==t.value[o]){n=!1;break}if(n)return}if(i="",t.namespace&&(i+=t.namespace+"."),i+=0===e.indexOf("X-")?e:e.toUpperCase(),"object"==typeof t.meta&&Object.keys(t.meta).forEach(function(e){"function"==typeof t.meta[e].forEach&&t.meta[e].forEach(function(t){e.length>0&&("TYPE"===e.toUpperCase()?i+=";"+a(e.toUpperCase())+"="+function(t){return void 0===t?"":t.replace(/\n/g,"\\n").replace(/;/g,"\\;")}(t):i+=";"+a(e.toUpperCase())+"="+a(t))})}),i+=":","string"==typeof t.value)i+=a(t.value);else{var s=-1!==u.indexOf(e)?",":";";i+=t.value.map(function(t){return a(t)}).join(s)}if(i.length>75){var l=i.substr(0,75),h=i.substr(75).match(/.{1,74}/g);r.push(l),h.forEach(function(t){r.push(" "+t)})}else r.push(i)}})}),r.push(o),r.join("\r\n")}}}}]);