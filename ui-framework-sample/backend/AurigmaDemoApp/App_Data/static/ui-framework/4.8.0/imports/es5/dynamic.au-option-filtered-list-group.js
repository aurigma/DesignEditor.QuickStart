(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[40],{538:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n(389),o=n(6),s=n(35),a=n(13),l=n(1),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.init=function(t){if(e.prototype.init.call(this,t),this.maxSelectedItems=o.a.objectDeepValue(t,"props.maxCount")?t.props.maxCount:-1,0!==this.items.length&&o.a.isNullOrUndefined(this.value)){var n=this.items.filter(function(e){return e.optionValue.preselected});0===n.length&&(n=[this.items.find(function(e){return 0===e.price})]),0===n.length&&(n=[this.items[0]]),this.value=n}},t.prototype.updateSelectedValue=function(e){var t=this.value.filter(function(t){return e.some(function(e){return t.value&&e.id===t.value.id})});(function(e,t){return e.length!==t.length||e.some(function(e){return t.every(function(t){return t.id!==e.optionValue.id})})})(t,this.value)&&(this.deselect(this.value),this.select(t),this.value=t)},t.prototype._copySelection=function(){return o.a.isNotNullOrUndefined(this.value)?Array.from(this.value):void 0},t.prototype._restoreSelection=function(e){var t=this.items.filter(function(t){return e.some(function(e){return e.equals(t)})});this.select(t)},t.prototype._maxSelectionItemsChanged=function(){this.maxSelectedItems>-1&&this.value.length>this.maxSelectedItems&&this.deselect(Array.of(this.getLastSelectedItem()))},t.prototype._valueChange=function(e){this._valueObserver(this.value)},t.prototype._valueObserver=function(e){var t=this;this._debouncerValueObserver=s.a.debounce(this._debouncerValueObserver,a.d.after(20),function(){t._maxSelectionItemsChanged(),t._onOptionChange()})},r.c([Object(l.b)("maxSelectedItems"),r.g("design:type",Function),r.g("design:paramtypes",[]),r.g("design:returntype",void 0)],t.prototype,"_maxSelectionItemsChanged",null),r.c([Object(l.b)("value.splices"),r.g("design:type",Function),r.g("design:paramtypes",[Object]),r.g("design:returntype",void 0)],t.prototype,"_valueChange",null),r.c([Object(l.c)(),r.g("design:type",Array)],t.prototype,"value",void 0),r.c([Object(l.b)("value"),r.g("design:type",Function),r.g("design:paramtypes",[Object]),r.g("design:returntype",void 0)],t.prototype,"_valueObserver",null),r.c([Object(l.c)(),r.g("design:type",Object)],t.prototype,"maxSelectedItems",void 0),t}(i.a)},896:function(e,t){e.exports='<style>\r\n    :host {\r\n        display: -ms-grid;\r\n        display: grid;\r\n        -ms-grid-columns: 1fr;\r\n        grid-template-columns: 1fr;\r\n        -ms-grid-rows: 100px 1fr 30px;\r\n        grid-template-rows: auto 1fr 24px;\r\n        width: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .add-btn {\r\n        @apply --default-common-control-font;\r\n        color: var(--theme-primary-color);\r\n        white-space: nowrap;\r\n        cursor: pointer;\r\n        user-select: none;\r\n        display: inline-flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .add-btn iron-icon {\r\n        margin-left: 2px;\r\n    }\r\n\r\n    .add-btn:hover {\r\n        color: #18A3FF;\r\n    }\r\n\r\n    .add-btn:active {\r\n        color: #0A95FF;\r\n        filter: drop-shadow(0 0 0.5px currentColor);\r\n    }\r\n\r\n    .remove-btn {\r\n        color: #999999;\r\n        cursor: pointer;\r\n        user-select: none;\r\n    }\r\n\r\n    .remove-btn:hover {\r\n        color: #888888;\r\n    }\r\n\r\n    .remove-btn:active {\r\n        color: #777777;\r\n        filter: drop-shadow(0 0 0.5px currentColor);\r\n    }\r\n\r\n    .drag-btn {\r\n        color: #BBBBBB;\r\n        outline: none;\r\n        cursor: move;\r\n        cursor: grab;\r\n        cursor: -moz-grab;\r\n        cursor: -webkit-grab;\r\n    }\r\n\r\n    .drag-btn:active {\r\n        cursor: grabbing;\r\n        cursor: -moz-grabbing;\r\n        cursor: -webkit-grabbing;\r\n    }\r\n\r\n    .drag-btn:hover {\r\n        color: #443e3e;\r\n    }\r\n\r\n    .listgroup-container {\r\n        counter-reset: items;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .listgroup-container>.au-filter-list-wrapper>au-filter-list::before {\r\n        @apply --default-common-control-font-caption;\r\n        color: #666666;\r\n        margin-bottom: 6px;\r\n        counter-increment: items;\r\n        content: attr(data-alias) " "counter(items);\r\n        display: inline-block;\r\n    }\r\n\r\n    .au-filter-list-wrapper+.au-filter-list-wrapper {\r\n        margin-top: 15px;\r\n    }\r\n\r\n    [slot="right-control"] {\r\n        margin-left: 10px;\r\n    }\r\n\r\n    [draggable] {\r\n        -moz-user-select: none;\r\n        -khtml-user-select: none;\r\n        -webkit-user-select: none;\r\n        user-select: none;\r\n        -khtml-user-drag: element;\r\n        -webkit-user-drag: element;\r\n    }\r\n\r\n    iron-icon {\r\n        pointer-events: none;\r\n    }\r\n\r\n    .au-filter-list-wrapper {\r\n        display: inline-block;\r\n        overflow: visible;\r\n        width: 100%;\r\n    }\r\n\r\n    .au-filter-list-wrapper.dragging,\r\n    .au-filter-list-wrapper.over {\r\n        border-radius: 3px;\r\n\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 1000;\r\n        padding: 5px;\r\n    }\r\n\r\n    .au-filter-list-wrapper.dragging {\r\n        opacity: 0.5;\r\n        background: #FFFF;\r\n    }\r\n\r\n    .au-filter-list-wrapper.over {\r\n        background: var(--theme-primary-color);\r\n        opacity: 0.15;\r\n    }\r\n\r\n    .au-filter-list-wrapper>au-filter-list {\r\n        width: 100%;\r\n    }\r\n\r\n    .au-filter-list-wrapper.over>au-filter-list,\r\n    .au-filter-list-wrapper.dragging>au-filter-list {\r\n        width: calc(100% - 10px);\r\n    }\r\n\r\n    [hidden] {\r\n        display: none !important;\r\n    }\r\n</style>\r\n\r\n<iron-iconset-svg name="au-filtered-list-group" size="24">\r\n    <svg>\r\n        <defs>\r\n            <g id="plus" transform="translate(5 5)">\r\n                <path d="M13 8H8V13C8 13.55 7.55 14 7 14C6.45 14 6 13.55 6 13V8H1C0.45 8 0 7.55 0 7C0 6.45 0.45 6 1 6H6V1C6 0.45 6.45 0 7 0C7.55 0 8 0.45 8 1V6H13C13.55 6 14 6.45 14 7C14 7.55 13.55 8 13 8Z" />\r\n            </g>\r\n            <g id="cross" transform="translate(5.40771 5.40771)">\r\n                <path d="M12.8925 0.3025C12.5025 -0.0874998 11.8725 -0.0874998 11.4825 0.3025L6.5925 5.1825L1.7025 0.2925C1.3125 -0.0975 0.6825 -0.0975 0.2925 0.2925C-0.0975 0.6825 -0.0975 1.3125 0.2925 1.7025L5.1825 6.5925L0.2925 11.4825C-0.0975 11.8725 -0.0975 12.5025 0.2925 12.8925C0.6825 13.2825 1.3125 13.2825 1.7025 12.8925L6.5925 8.0025L11.4825 12.8925C11.8725 13.2825 12.5025 13.2825 12.8925 12.8925C13.2825 12.5025 13.2825 11.8725 12.8925 11.4825L8.0025 6.5925L12.8925 1.7025C13.2725 1.3225 13.2725 0.6825 12.8925 0.3025Z" />\r\n            </g>\r\n            <g id="drag" transform="translate(9 5)">\r\n                <path d="M6 0H4V2H6V0Z" />\r\n                <path d="M4 4H6V6H4V4Z" />\r\n                <path d="M6 8H4V10H6V8Z" />\r\n                <path d="M6 12H4V14H6V12Z" />\r\n                <path d="M0 12H2V14H0V12Z" />\r\n                <path d="M2 8H0V10H2V8Z" />\r\n                <path d="M0 4H2V6H0V4Z" />\r\n                <path d="M2 0H0V2H2V0Z" />\r\n            </g>\r\n        </defs>\r\n    </svg>\r\n</iron-iconset-svg>\r\n\r\n<div class="listgroup-container" id="container">\r\n    <dom-repeat items="[[_listInstancesGuids]]" as="listGuid" on-dom-change="_filterListsRerendered">\r\n        <template>\r\n            <div class="au-filter-list-wrapper">\r\n                <au-filter-list items="[[items]]" data-alias="Team" id="[[listGuid.id]]" selected-item="{{listGuid.selected}}"\r\n                    draggable="true" is-show-menu="[[_isShowMenu]]" enable-filter="[[enableFilter]]" driver="[[driver]]">\r\n                    <div class="remove-btn" slot="right-control" on-tap="_removeList" data-list="[[listGuid.id]]">\r\n                        <iron-icon icon="au-filtered-list-group:cross" style="margin:0;"></iron-icon>\r\n                    </div>\r\n                    <div class="drag-btn" slot="left-control" data-list="[[listGuid]]">\r\n                        <iron-icon icon="au-filtered-list-group:drag" slot="left-control" style="margin:0;"></iron-icon>\r\n                    </div>\r\n                </au-filter-list>\r\n            </div>\r\n        </template>\r\n    </dom-repeat>\r\n</div>\r\n<div class="add-btn" on-tap="_addList" hidden$="[[_hideAddBtn]]">\r\n    <iron-icon icon="au-filtered-list-group:plus"></iron-icon>\r\n    {{addNewItemCaption}}\r\n</div>'},920:function(e,t,n){"use strict";n.r(t),n.d(t,"AuFilteredListGroup",function(){return l}),n.d(t,"option",function(){return l});var r=n(0),i=n(896),o=n(538),s=(n(285),n(1)),a=(n(723),n(6)),l=function(e){function t(t){var n=e.call(this,t)||this;return n._listInstancesGuids=[],n._selectedToIdMap={},n._isShowMenu=!1,n._removeList=n._removeList.bind(n),n}return r.d(t,e),t.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this._isShowMenu=!1,this._addList()},t.prototype.getLastSelectedItem=function(){return this.value.length>0?this.value[0]:null},t.prototype.select=function(e){var t,n,i=this._listInstancesGuids.filter(function(e){return!e.selected}).length;if(i<e.length)for(var o=0;o<e.length-i;o++)this._addList();try{for(var s=r.j(e),a=s.next();!a.done;a=s.next()){var l=a.value,d=this._listInstancesGuids.findIndex(function(e){return!e.selected});this.set("_listInstancesGuids."+d+".selected",l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},t.prototype.deselect=function(e){var t,n,i=this,o=function(e){var t=s._listInstancesGuids.map(function(t,n){return t.selected&&t.selected.id===e.id?n:-1}).filter(function(e){return-1!==e});t.length>0&&t.forEach(function(e){return i.set("_listInstancesGuids."+e+".selected",null)})},s=this;try{for(var a=r.j(e),l=a.next();!l.done;l=a.next()){o(l.value)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},t.prototype._selectedIdsChange=function(e){},t.prototype._removeList=function(e){var t=e.currentTarget.dataList,n=this._listInstancesGuids.find(function(e){return e.id===t});if(n){var r=this._listInstancesGuids.indexOf(n);this.splice("_listInstancesGuids",r,1)}},t.prototype._addList=function(){var e=null;0===this._listInstancesGuids.length&&this.value&&(e=this.value[0]||null);var t={id:a.a.guid(),selected:e};this.push("_listInstancesGuids",t)},t.prototype._hideAddBtnCompute=function(e,t){return!(t<=0)&&e.base.length>=t},t.prototype._filterListsRerendered=function(e){var t=this,n=Array.from(this.querySelectorAllShadow("au-filter-list")||[]);n.forEach(function(e){t._addDnDHandlers(e),t._addSelectedItemHandler(e)}),n.forEach(function(e,n,r){e.isDragEnabled=1!==r.length,e.isRemoveEnabled=1!==r.length,e.placeholder=t.title})},t.prototype._addSelectedItemHandler=function(e){var t=this;if("true"!==e.dataset.listenSelected){var n=function(){var e=Array.from(t.querySelectorAllShadow("au-filter-list")||[]);t.set("value",e.map(function(e){return e.selectedItem}).filter(function(e){return!!e}))};e.addEventListener("selected-item-changed",n),e.addEventListener("disconnected",n),e.dataset.listenSelected=!0}},t.prototype._handleDragStart=function(e,t){return t.target.querySelector(".drag-btn")===(this.shadowRoot.elementFromPoint?this.shadowRoot.elementFromPoint(t.clientX,t.clientY):document.elementFromPoint(t.clientX,t.clientY))?(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",e.id),e.parentElement.classList.add("dragging"),!0):(t.preventDefault(),!1)},t.prototype._handleDragOver=function(e,t){return t.preventDefault(),e.parentElement.classList.add("over"),t.dataTransfer.dropEffect="move",!1},t.prototype._handleDragLeave=function(e,t){e.parentElement.classList.remove("over")},t.prototype._handleDrop=function(e,t){t.preventDefault(),t.stopPropagation();var n=t.dataTransfer.getData("text"),r=t.currentTarget.id;return this._listInstancesGuidsSwap(n,r),e.parentElement.classList.remove("over"),!1},t.prototype._handleDragEnd=function(e,t){e.parentElement.classList.remove("over","dragging")},t.prototype._addDnDHandlers=function(e){"true"!==e.dataset.listenDrag&&(e.addEventListener("dragstart",this._handleDragStart.bind(this,e),!1),e.addEventListener("dragover",this._handleDragOver.bind(this,e),!1),e.addEventListener("dragleave",this._handleDragLeave.bind(this,e),!1),e.addEventListener("drop",this._handleDrop.bind(this,e),!1),e.addEventListener("dragend",this._handleDragEnd.bind(this,e),!1),e.dataset.listenDrag=!0)},t.prototype._listInstancesGuidsSwap=function(e,t){var n=this.querySelectorShadow('[id="'+e+'"]'),r=this.querySelectorShadow('[id="'+t+'"]'),i=r.selectedItem;r.selectedItem=n.selectedItem,n.selectedItem=i},t.prototype.init=function(t){e.prototype.init.call(this,t),this.addNewItemCaption=a.a.isNotNullOrUndefined(t.props)&&t.props.addNewItemCaption?t.props.addNewItemCaption:"Add"},r.c([Object(s.c)({notify:!0}),r.g("design:type",Array)],t.prototype,"_listInstancesGuids",void 0),r.c([Object(s.c)({notify:!0}),r.g("design:type",Object)],t.prototype,"_selectedToIdMap",void 0),r.c([Object(s.c)({computed:"_hideAddBtnCompute(_listInstancesGuids.*, maxSelectedItems)"}),r.g("design:type",Boolean)],t.prototype,"_hideAddBtn",void 0),r.c([Object(s.c)({notify:!0}),r.g("design:type",Boolean)],t.prototype,"_isShowMenu",void 0),r.c([Object(s.b)("_listInstancesGuids.*","maxSelectedItems"),r.g("design:type",Function),r.g("design:paramtypes",[Object,Number]),r.g("design:returntype",void 0)],t.prototype,"_hideAddBtnCompute",null),r.c([Object(s.c)({notify:!0}),r.g("design:type",String)],t.prototype,"addNewItemCaption",void 0),t=r.c([Object(s.a)("au-option-filtered-list-group",i),r.g("design:paramtypes",[Object])],t)}(o.a)}}]);