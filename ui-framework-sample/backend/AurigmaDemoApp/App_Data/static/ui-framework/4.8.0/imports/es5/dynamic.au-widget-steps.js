(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[13],{928:function(t,e,n){"use strict";n.r(e);var i,s=n(0),r=n(1),a=n(117),o=n(6);!function(t){t[t.previous=0]="previous",t[t.visited=1]="visited",t[t.all=2]="all"}(i||(i={}));var u=function(){return function(t){this.enabled=t}}(),c=n(20);n.d(e,"AuWidgetSteps",function(){return l}),n.d(e,"widget",function(){return l});var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._visitedSteps=[],e._paperTabsSelector="paper-tabs",e._prevButtonSelector=".nav__back-button",e._nextButtonSelector=".nav__next-button",e}return s.d(e,t),e.prototype.connectedCallback=function(){var e=this;t.prototype.connectedCallback.call(this),this.stepSubscription=this.observe(c.a.STEP_CHANGED).subscribe(function(t){return e._stepChangeCallback(t)})},e.prototype._stepChangeCallback=function(t){return s.b(this,void 0,void 0,function(){var e;return s.e(this,function(n){if(e=t.data.step,this._visitedSteps.find(function(t){return t.index===e.index})||this._visitedSteps.push(e),o.a.isNotNullOrUndefined(this.params)&&o.a.isNotNullOrUndefined(this.params.availabilityMode)){switch(i[this.params.availabilityMode.toString()]){case i.previous:this.handleModePrevious(e);break;case i.visited:this.handleModeVisited(e);break;case i.all:}this.updateParams(this.params)}return[2]})})},e.prototype.handleModeVisited=function(t){return s.b(this,void 0,void 0,function(){var e,n=this;return s.e(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return(e=i.sent()).forEach(function(i,s){var r=s===t.index+1||o.a.isNotNullOrUndefined(n._visitedSteps.find(function(t){return t.index===s}));n._applyConfig(e,s.toString(),new u(r))}),[2]}})})},e.prototype.handleModePrevious=function(t){return s.b(this,void 0,void 0,function(){var e,n=this;return s.e(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return(e=i.sent()).forEach(function(i,s){var r=s<=t.index+1;n._applyConfig(e,s.toString(),new u(r))}),[2]}})})},e.prototype.enableStep=function(t,e){return s.b(this,void 0,void 0,function(){var n;return s.e(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return n=i.sent(),this._applyConfig(n,t,new u(e)),[2]}})})},e.prototype.updateParams=function(t){t.steps&&this.changeStepState(t.steps)},e.prototype.changeStepState=function(t){return s.b(this,void 0,void 0,function(){var e,n=this;return s.e(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return e=i.sent(),Object.keys(t).forEach(function(i){var s=t[i];n._applyConfig(e,i,s)}),[2]}})})},e.prototype._applyConfig=function(t,e,n){var i=o.a.isNum(e)?t[Number(e)]:t.find(function(t){return t.title===e});if(i&&o.a.isNotNullOrUndefined(n.enabled)){i.disabled=!n.enabled;n.enabled?i.classList.remove("disabledstep"):i.classList.add("disabledstep")}this._handleNavButtons(t)},e.prototype._handleNavButtons=function(t){return s.b(this,void 0,void 0,function(){var e,n,i;return s.e(this,function(s){switch(s.label){case 0:return e=t.findIndex(function(t){return t.classList.contains("iron-selected")}),n=t[e-1],i=t[e+1],n?[4,this._getPrevButton()]:[3,2];case 1:s.sent().disabled=n.disabled,s.label=2;case 2:return i?[4,this._getNextButton()]:[3,4];case 3:s.sent().disabled=i.disabled,s.label=4;case 4:return[2]}})})},e.prototype._getStepTabs=function(){return s.b(this,void 0,void 0,function(){var t;return s.e(this,function(e){switch(e.label){case 0:return[4,this.publishData({selector:this._paperTabsSelector},c.a.GET_ELEMENT_FROM_AU_WIZARD)];case 1:return[2,(t=e.sent())?[].slice.call(t.children).filter(function(t){return"paper-tab"===t.tagName.toLowerCase()}):[]]}})})},e.prototype._getPrevButton=function(){return s.b(this,void 0,void 0,function(){return s.e(this,function(t){switch(t.label){case 0:return[4,this.publishData({selector:this._prevButtonSelector},c.a.GET_ELEMENT_FROM_AU_WIZARD)];case 1:return[2,t.sent()]}})})},e.prototype._getNextButton=function(){return s.b(this,void 0,void 0,function(){return s.e(this,function(t){switch(t.label){case 0:return[4,this.publishData({selector:this._nextButtonSelector},c.a.GET_ELEMENT_FROM_AU_WIZARD)];case 1:return[2,t.sent()]}})})},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.stepSubscription.unsubscribe()},s.c([Object(r.c)(),s.g("design:type",Object)],e.prototype,"params",void 0),e=s.c([Object(r.a)("au-widget-steps")],e)}(a.a)}}]);